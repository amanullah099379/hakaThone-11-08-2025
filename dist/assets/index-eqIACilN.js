var jI=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var dL=jI((fr,pr)=>{function UI(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Al(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zf={exports:{}},lu={},ep={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function $I(){if(ov)return Ke;ov=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A($){return $===null||typeof $!="object"?null:($=S&&$[S]||$["@@iterator"],typeof $=="function"?$:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function O($,re,Se){this.props=$,this.context=re,this.refs=L,this.updater=Se||D}O.prototype.isReactComponent={},O.prototype.setState=function($,re){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,re,"setState")},O.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function z(){}z.prototype=O.prototype;function K($,re,Se){this.props=$,this.context=re,this.refs=L,this.updater=Se||D}var Z=K.prototype=new z;Z.constructor=K,U(Z,O.prototype),Z.isPureReactComponent=!0;var he=Array.isArray,Y=Object.prototype.hasOwnProperty,J={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C($,re,Se){var Ve,Oe={},$e=null,Qe=null;if(re!=null)for(Ve in re.ref!==void 0&&(Qe=re.ref),re.key!==void 0&&($e=""+re.key),re)Y.call(re,Ve)&&!x.hasOwnProperty(Ve)&&(Oe[Ve]=re[Ve]);var ze=arguments.length-2;if(ze===1)Oe.children=Se;else if(1<ze){for(var Ue=Array(ze),rt=0;rt<ze;rt++)Ue[rt]=arguments[rt+2];Oe.children=Ue}if($&&$.defaultProps)for(Ve in ze=$.defaultProps,ze)Oe[Ve]===void 0&&(Oe[Ve]=ze[Ve]);return{$$typeof:n,type:$,key:$e,ref:Qe,props:Oe,_owner:J.current}}function N($,re){return{$$typeof:n,type:$.type,key:re,ref:$.ref,props:$.props,_owner:$._owner}}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function F($){var re={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Se){return re[Se]})}var B=/\/+/g;function k($,re){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):re.toString(36)}function He($,re,Se,Ve,Oe){var $e=typeof $;($e==="undefined"||$e==="boolean")&&($=null);var Qe=!1;if($===null)Qe=!0;else switch($e){case"string":case"number":Qe=!0;break;case"object":switch($.$$typeof){case n:case e:Qe=!0}}if(Qe)return Qe=$,Oe=Oe(Qe),$=Ve===""?"."+k(Qe,0):Ve,he(Oe)?(Se="",$!=null&&(Se=$.replace(B,"$&/")+"/"),He(Oe,re,Se,"",function(rt){return rt})):Oe!=null&&(M(Oe)&&(Oe=N(Oe,Se+(!Oe.key||Qe&&Qe.key===Oe.key?"":(""+Oe.key).replace(B,"$&/")+"/")+$)),re.push(Oe)),1;if(Qe=0,Ve=Ve===""?".":Ve+":",he($))for(var ze=0;ze<$.length;ze++){$e=$[ze];var Ue=Ve+k($e,ze);Qe+=He($e,re,Se,Ue,Oe)}else if(Ue=A($),typeof Ue=="function")for($=Ue.call($),ze=0;!($e=$.next()).done;)$e=$e.value,Ue=Ve+k($e,ze++),Qe+=He($e,re,Se,Ue,Oe);else if($e==="object")throw re=String($),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Qe}function ht($,re,Se){if($==null)return $;var Ve=[],Oe=0;return He($,Ve,"","",function($e){return re.call(Se,$e,Oe++)}),Ve}function Lt($){if($._status===-1){var re=$._result;re=re(),re.then(function(Se){($._status===0||$._status===-1)&&($._status=1,$._result=Se)},function(Se){($._status===0||$._status===-1)&&($._status=2,$._result=Se)}),$._status===-1&&($._status=0,$._result=re)}if($._status===1)return $._result.default;throw $._result}var Ge={current:null},ue={transition:null},Ee={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:ue,ReactCurrentOwner:J};function me(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:ht,forEach:function($,re,Se){ht($,function(){re.apply(this,arguments)},Se)},count:function($){var re=0;return ht($,function(){re++}),re},toArray:function($){return ht($,function(re){return re})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ke.Component=O,Ke.Fragment=t,Ke.Profiler=o,Ke.PureComponent=K,Ke.StrictMode=i,Ke.Suspense=p,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,Ke.act=me,Ke.cloneElement=function($,re,Se){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ve=U({},$.props),Oe=$.key,$e=$.ref,Qe=$._owner;if(re!=null){if(re.ref!==void 0&&($e=re.ref,Qe=J.current),re.key!==void 0&&(Oe=""+re.key),$.type&&$.type.defaultProps)var ze=$.type.defaultProps;for(Ue in re)Y.call(re,Ue)&&!x.hasOwnProperty(Ue)&&(Ve[Ue]=re[Ue]===void 0&&ze!==void 0?ze[Ue]:re[Ue])}var Ue=arguments.length-2;if(Ue===1)Ve.children=Se;else if(1<Ue){ze=Array(Ue);for(var rt=0;rt<Ue;rt++)ze[rt]=arguments[rt+2];Ve.children=ze}return{$$typeof:n,type:$.type,key:Oe,ref:$e,props:Ve,_owner:Qe}},Ke.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Ke.createElement=C,Ke.createFactory=function($){var re=C.bind(null,$);return re.type=$,re},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function($){return{$$typeof:h,render:$}},Ke.isValidElement=M,Ke.lazy=function($){return{$$typeof:E,_payload:{_status:-1,_result:$},_init:Lt}},Ke.memo=function($,re){return{$$typeof:_,type:$,compare:re===void 0?null:re}},Ke.startTransition=function($){var re=ue.transition;ue.transition={};try{$()}finally{ue.transition=re}},Ke.unstable_act=me,Ke.useCallback=function($,re){return Ge.current.useCallback($,re)},Ke.useContext=function($){return Ge.current.useContext($)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function($){return Ge.current.useDeferredValue($)},Ke.useEffect=function($,re){return Ge.current.useEffect($,re)},Ke.useId=function(){return Ge.current.useId()},Ke.useImperativeHandle=function($,re,Se){return Ge.current.useImperativeHandle($,re,Se)},Ke.useInsertionEffect=function($,re){return Ge.current.useInsertionEffect($,re)},Ke.useLayoutEffect=function($,re){return Ge.current.useLayoutEffect($,re)},Ke.useMemo=function($,re){return Ge.current.useMemo($,re)},Ke.useReducer=function($,re,Se){return Ge.current.useReducer($,re,Se)},Ke.useRef=function($){return Ge.current.useRef($)},Ke.useState=function($){return Ge.current.useState($)},Ke.useSyncExternalStore=function($,re,Se){return Ge.current.useSyncExternalStore($,re,Se)},Ke.useTransition=function(){return Ge.current.useTransition()},Ke.version="18.3.1",Ke}var av;function Bu(){return av||(av=1,ep.exports=$I()),ep.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function BI(){if(lv)return lu;lv=1;var n=Bu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,_){var E,S={},A=null,D=null;_!==void 0&&(A=""+_),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(D=p.ref);for(E in p)i.call(p,E)&&!a.hasOwnProperty(E)&&(S[E]=p[E]);if(h&&h.defaultProps)for(E in p=h.defaultProps,p)S[E]===void 0&&(S[E]=p[E]);return{$$typeof:e,type:h,key:A,ref:D,props:S,_owner:o.current}}return lu.Fragment=t,lu.jsx=u,lu.jsxs=u,lu}var uv;function zI(){return uv||(uv=1,Zf.exports=BI()),Zf.exports}var ee=zI(),ne=Bu();const fm=Al(ne),qI=UI({__proto__:null,default:fm},[ne]);var wd={},tp={exports:{}},Hn={},np={exports:{}},rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function HI(){return cv||(cv=1,function(n){function e(ue,Ee){var me=ue.length;ue.push(Ee);e:for(;0<me;){var $=me-1>>>1,re=ue[$];if(0<o(re,Ee))ue[$]=Ee,ue[me]=re,me=$;else break e}}function t(ue){return ue.length===0?null:ue[0]}function i(ue){if(ue.length===0)return null;var Ee=ue[0],me=ue.pop();if(me!==Ee){ue[0]=me;e:for(var $=0,re=ue.length,Se=re>>>1;$<Se;){var Ve=2*($+1)-1,Oe=ue[Ve],$e=Ve+1,Qe=ue[$e];if(0>o(Oe,me))$e<re&&0>o(Qe,Oe)?(ue[$]=Qe,ue[$e]=me,$=$e):(ue[$]=Oe,ue[Ve]=me,$=Ve);else if($e<re&&0>o(Qe,me))ue[$]=Qe,ue[$e]=me,$=$e;else break e}}return Ee}function o(ue,Ee){var me=ue.sortIndex-Ee.sortIndex;return me!==0?me:ue.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var p=[],_=[],E=1,S=null,A=3,D=!1,U=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(ue){for(var Ee=t(_);Ee!==null;){if(Ee.callback===null)i(_);else if(Ee.startTime<=ue)i(_),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=t(_)}}function he(ue){if(L=!1,Z(ue),!U)if(t(p)!==null)U=!0,Lt(Y);else{var Ee=t(_);Ee!==null&&Ge(he,Ee.startTime-ue)}}function Y(ue,Ee){U=!1,L&&(L=!1,z(C),C=-1),D=!0;var me=A;try{for(Z(Ee),S=t(p);S!==null&&(!(S.expirationTime>Ee)||ue&&!F());){var $=S.callback;if(typeof $=="function"){S.callback=null,A=S.priorityLevel;var re=$(S.expirationTime<=Ee);Ee=n.unstable_now(),typeof re=="function"?S.callback=re:S===t(p)&&i(p),Z(Ee)}else i(p);S=t(p)}if(S!==null)var Se=!0;else{var Ve=t(_);Ve!==null&&Ge(he,Ve.startTime-Ee),Se=!1}return Se}finally{S=null,A=me,D=!1}}var J=!1,x=null,C=-1,N=5,M=-1;function F(){return!(n.unstable_now()-M<N)}function B(){if(x!==null){var ue=n.unstable_now();M=ue;var Ee=!0;try{Ee=x(!0,ue)}finally{Ee?k():(J=!1,x=null)}}else J=!1}var k;if(typeof K=="function")k=function(){K(B)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,ht=He.port2;He.port1.onmessage=B,k=function(){ht.postMessage(null)}}else k=function(){O(B,0)};function Lt(ue){x=ue,J||(J=!0,k())}function Ge(ue,Ee){C=O(function(){ue(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ue){ue.callback=null},n.unstable_continueExecution=function(){U||D||(U=!0,Lt(Y))},n.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ue?Math.floor(1e3/ue):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ue){switch(A){case 1:case 2:case 3:var Ee=3;break;default:Ee=A}var me=A;A=Ee;try{return ue()}finally{A=me}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ue,Ee){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var me=A;A=ue;try{return Ee()}finally{A=me}},n.unstable_scheduleCallback=function(ue,Ee,me){var $=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?$+me:$):me=$,ue){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=me+re,ue={id:E++,callback:Ee,priorityLevel:ue,startTime:me,expirationTime:re,sortIndex:-1},me>$?(ue.sortIndex=me,e(_,ue),t(p)===null&&ue===t(_)&&(L?(z(C),C=-1):L=!0,Ge(he,me-$))):(ue.sortIndex=re,e(p,ue),U||D||(U=!0,Lt(Y))),ue},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(ue){var Ee=A;return function(){var me=A;A=Ee;try{return ue.apply(this,arguments)}finally{A=me}}}}(rp)),rp}var dv;function WI(){return dv||(dv=1,np.exports=HI()),np.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function KI(){if(hv)return Hn;hv=1;var n=Bu(),e=WI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function A(r){return p.call(S,r)?!0:p.call(E,r)?!1:_.test(r)?S[r]=!0:(E[r]=!0,!1)}function D(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function U(r,s,l,d){if(s===null||typeof s>"u"||D(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,l,d,f,v,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=I}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){O[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];O[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){O[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){O[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){O[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){O[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){O[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){O[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){O[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function K(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(z,K);O[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(z,K);O[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(z,K);O[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){O[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),O.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){O[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,s,l,d){var f=O.hasOwnProperty(s)?O[s]:null;(f!==null?f.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(U(s,l,f,d)&&(l=null),d||f===null?A(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,d=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var he=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),J=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),ue=Symbol.iterator;function Ee(r){return r===null||typeof r!="object"?null:(r=ue&&r[ue]||r["@@iterator"],typeof r=="function"?r:null)}var me=Object.assign,$;function re(r){if($===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);$=s&&s[1]||""}return`
`+$+r}var Se=!1;function Ve(r,s){if(!r||Se)return"";Se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var d=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){d=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){d=Q}r()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var f=Q.stack.split(`
`),v=d.stack.split(`
`),I=f.length-1,R=v.length-1;1<=I&&0<=R&&f[I]!==v[R];)R--;for(;1<=I&&0<=R;I--,R--)if(f[I]!==v[R]){if(I!==1||R!==1)do if(I--,R--,0>R||f[I]!==v[R]){var V=`
`+f[I].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=I&&0<=R);break}}}finally{Se=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?re(r):""}function Oe(r){switch(r.tag){case 5:return re(r.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return r=Ve(r.type,!1),r;case 11:return r=Ve(r.type.render,!1),r;case 1:return r=Ve(r.type,!0),r;default:return""}}function $e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case x:return"Fragment";case J:return"Portal";case N:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case He:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case M:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ht:return s=r.displayName||null,s!==null?s:$e(r.type)||"Memo";case Lt:s=r._payload,r=r._init;try{return $e(r(s))}catch{}}return null}function Qe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ue(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rt(r){var s=Ue(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(I){d=""+I,v.call(this,I)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(I){d=""+I},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function En(r){r._valueTracker||(r._valueTracker=rt(r))}function Rt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Ue(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Tn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function mr(r,s){var l=s.checked;return me({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Or(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=ze(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Be(r,s){s=s.checked,s!=null&&Z(r,"checked",s,!1)}function Wt(r,s){Be(r,s);var l=ze(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Xt(r,s.type,l):s.hasOwnProperty("defaultValue")&&Xt(r,s.type,ze(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function In(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Xt(r,s,l){(s!=="number"||Tn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var ot=Array.isArray;function ft(r,s,l,d){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&d&&(r[l].defaultSelected=!0)}else{for(l=""+ze(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function G(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return me({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function fe(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(ot(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:ze(l)}}function pe(r,s){var l=ze(s.value),d=ze(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Ce(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ae(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ke(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ae(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var at,Jt=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=at.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Vn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nr=["Webkit","ms","Moz","O"];Object.keys(Ne).forEach(function(r){Nr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ne[s]=Ne[r]})});function Yr(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ne.hasOwnProperty(r)&&Ne[r]?(""+s).trim():s+"px"}function Xr(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=Yr(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,f):r[l]=f}}var vo=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _o(r,s){if(s){if(vo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Qn(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Si=null;function ds(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var hs=null,Ln=null,gr=null;function Jr(r){if(r=Kl(r)){if(typeof hs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Vc(s),hs(r.stateNode,r.type,s))}}function yr(r){Ln?gr?gr.push(r):gr=[r]:Ln=r}function wo(){if(Ln){var r=Ln,s=gr;if(gr=Ln=null,Jr(r),s)for(r=0;r<s.length;r++)Jr(s[r])}}function Yn(r,s){return r(s)}function Eo(){}var Dr=!1;function To(r,s,l){if(Dr)return r(s,l);Dr=!0;try{return Yn(r,s,l)}finally{Dr=!1,(Ln!==null||gr!==null)&&(Eo(),wo())}}function St(r,s){var l=r.stateNode;if(l===null)return null;var d=Vc(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Zr=!1;if(h)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Zr=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Zr=!1}function Ai(r,s,l,d,f,v,I,R,V){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(l,Q)}catch(oe){this.onError(oe)}}var bi=!1,fs=null,Jn=!1,Io=null,Vl={onError:function(r){bi=!0,fs=r}};function ps(r,s,l,d,f,v,I,R,V){bi=!1,fs=null,Ai.apply(Vl,arguments)}function wa(r,s,l,d,f,v,I,R,V){if(ps.apply(this,arguments),bi){if(bi){var Q=fs;bi=!1,fs=null}else throw Error(t(198));Jn||(Jn=!0,Io=Q)}}function Zn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Ci(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Sn(r){if(Zn(r)!==r)throw Error(t(188))}function ei(r){var s=r.alternate;if(!s){if(s=Zn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var f=l.return;if(f===null)break;var v=f.alternate;if(v===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===l)return Sn(f),r;if(v===d)return Sn(f),s;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=v;else{for(var I=!1,R=f.child;R;){if(R===l){I=!0,l=f,d=v;break}if(R===d){I=!0,d=f,l=v;break}R=R.sibling}if(!I){for(R=v.child;R;){if(R===l){I=!0,l=v,d=f;break}if(R===d){I=!0,d=v,l=f;break}R=R.sibling}if(!I)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ms(r){return r=ei(r),r!==null?Vr(r):null}function Vr(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Vr(r);if(s!==null)return s;r=r.sibling}return null}var xt=e.unstable_scheduleCallback,So=e.unstable_cancelCallback,Ea=e.unstable_shouldYield,Ll=e.unstable_requestPaint,lt=e.unstable_now,Ta=e.unstable_getCurrentPriorityLevel,Pi=e.unstable_ImmediatePriority,ti=e.unstable_UserBlockingPriority,An=e.unstable_NormalPriority,Ao=e.unstable_LowPriority,bo=e.unstable_IdlePriority,ki=null,bn=null;function Ia(r){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(ki,r,void 0,(r.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Aa,Co=Math.log,Sa=Math.LN2;function Aa(r){return r>>>=0,r===0?32:31-(Co(r)/Sa|0)|0}var Ri=64,xi=4194304;function ni(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Oi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,f=r.suspendedLanes,v=r.pingedLanes,I=l&268435455;if(I!==0){var R=I&~f;R!==0?d=ni(R):(v&=I,v!==0&&(d=ni(v)))}else I=l&~f,I!==0?d=ni(I):v!==0&&(d=ni(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&f)===0&&(f=d&-d,v=s&-s,f>=v||f===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Zt(s),f=1<<l,d|=r[l],s&=~f;return d}function Ml(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,v=r.pendingLanes;0<v;){var I=31-Zt(v),R=1<<I,V=f[I];V===-1?((R&l)===0||(R&d)!==0)&&(f[I]=Ml(R,s)):V<=s&&(r.expiredLanes|=R),v&=~R}}function Cn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ni(){var r=Ri;return Ri<<=1,(Ri&4194240)===0&&(Ri=64),r}function Pn(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Lr(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Zt(s),r[s]=l}function ut(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-Zt(l),v=1<<f;s[f]=0,d[f]=-1,r[f]=-1,l&=~v}}function _r(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Zt(l),f=1<<d;f&s|r[d]&s&&(r[d]|=s),l&=~f}}var We=0;function ri(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ba,gs,Ca,Pa,ka,Mr=!1,wr=[],Mt=null,er=null,tr=null,ii=new Map,Mn=new Map,Er=[],Fl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ra(r,s){switch(r){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":ii.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(s.pointerId)}}function dn(r,s,l,d,f,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[f]},s!==null&&(s=Kl(s),s!==null&&gs(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function jl(r,s,l,d,f){switch(s){case"focusin":return Mt=dn(Mt,r,s,l,d,f),!0;case"dragenter":return er=dn(er,r,s,l,d,f),!0;case"mouseover":return tr=dn(tr,r,s,l,d,f),!0;case"pointerover":var v=f.pointerId;return ii.set(v,dn(ii.get(v)||null,r,s,l,d,f)),!0;case"gotpointercapture":return v=f.pointerId,Mn.set(v,dn(Mn.get(v)||null,r,s,l,d,f)),!0}return!1}function Po(r){var s=Fo(r.target);if(s!==null){var l=Zn(s);if(l!==null){if(s=l.tag,s===13){if(s=Ci(l),s!==null){r.blockedOn=s,ka(r.priority,function(){Ca(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Di(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Si=d,l.target.dispatchEvent(d),Si=null}else return s=Kl(l),s!==null&&gs(s),r.blockedOn=l,!1;s.shift()}return!0}function Tr(r,s,l){Fr(r)&&l.delete(s)}function xa(){Mr=!1,Mt!==null&&Fr(Mt)&&(Mt=null),er!==null&&Fr(er)&&(er=null),tr!==null&&Fr(tr)&&(tr=null),ii.forEach(Tr),Mn.forEach(Tr)}function nr(r,s){r.blockedOn===s&&(r.blockedOn=null,Mr||(Mr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xa)))}function rr(r){function s(f){return nr(f,r)}if(0<wr.length){nr(wr[0],r);for(var l=1;l<wr.length;l++){var d=wr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Mt!==null&&nr(Mt,r),er!==null&&nr(er,r),tr!==null&&nr(tr,r),ii.forEach(s),Mn.forEach(s),l=0;l<Er.length;l++)d=Er[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Er.length&&(l=Er[0],l.blockedOn===null);)Po(l),l.blockedOn===null&&Er.shift()}var kn=he.ReactCurrentBatchConfig,si=!0;function pt(r,s,l,d){var f=We,v=kn.transition;kn.transition=null;try{We=1,ys(r,s,l,d)}finally{We=f,kn.transition=v}}function Ul(r,s,l,d){var f=We,v=kn.transition;kn.transition=null;try{We=4,ys(r,s,l,d)}finally{We=f,kn.transition=v}}function ys(r,s,l,d){if(si){var f=Di(r,s,l,d);if(f===null)Bh(r,s,d,oi,l),Ra(r,d);else if(jl(f,r,s,l,d))d.stopPropagation();else if(Ra(r,d),s&4&&-1<Fl.indexOf(r)){for(;f!==null;){var v=Kl(f);if(v!==null&&ba(v),v=Di(r,s,l,d),v===null&&Bh(r,s,d,oi,l),v===f)break;f=v}f!==null&&d.stopPropagation()}else Bh(r,s,d,null,l)}}var oi=null;function Di(r,s,l,d){if(oi=null,r=ds(d),r=Fo(r),r!==null)if(s=Zn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Ci(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return oi=r,null}function ko(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ta()){case Pi:return 1;case ti:return 4;case An:case Ao:return 16;case bo:return 536870912;default:return 16}default:return 16}}var Rn=null,vs=null,hn=null;function Ro(){if(hn)return hn;var r,s=vs,l=s.length,d,f="value"in Rn?Rn.value:Rn.textContent,v=f.length;for(r=0;r<l&&s[r]===f[r];r++);var I=l-r;for(d=1;d<=I&&s[l-d]===f[v-d];d++);return hn=f.slice(r,1<d?1-d:void 0)}function _s(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function en(){return!0}function xo(){return!1}function Bt(r){function s(l,d,f,v,I){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?en:xo,this.isPropagationStopped=xo,this}return me(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),s}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Bt(ir),sr=me({},ir,{view:0,detail:0}),Oo=Bt(sr),ws,jr,ai,Li=me({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(ws=r.screenX-ai.screenX,jr=r.screenY-ai.screenY):jr=ws=0,ai=r),ws)},movementY:function(r){return"movementY"in r?r.movementY:jr}}),Es=Bt(Li),No=me({},Li,{dataTransfer:0}),Oa=Bt(No),Ts=me({},sr,{relatedTarget:0}),Mi=Bt(Ts),Is=me({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Ir=Bt(Is),Ur=me({},ir,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Na=Bt(Ur),Da=me({},ir,{data:0}),Do=Bt(Da),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Va={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function La(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Va[r])?!!s[r]:!1}function Sr(){return La}var c=me({},sr,{key:function(r){if(r.key){var s=Ss[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=_s(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(r){return r.type==="keypress"?_s(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_s(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),y=Bt(c),w=me({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=Bt(w),q=me({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),X=Bt(q),de=me({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),it=Bt(de),At=me({},Li,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=Bt(At),Ot=[9,13,27,32],wt=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var xn=h&&"TextEvent"in window&&!Fn,Fi=h&&(!wt||Fn&&8<Fn&&11>=Fn),$r=" ",dc=!1;function hc(r,s){switch(r){case"keyup":return Ot.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var As=!1;function pc(r,s){switch(r){case"compositionend":return fc(s);case"keypress":return s.which!==32?null:(dc=!0,$r);case"textInput":return r=s.data,r===$r&&dc?null:r;default:return null}}function Nh(r,s){if(As)return r==="compositionend"||!wt&&hc(r,s)?(r=Ro(),hn=vs=Rn=null,As=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fi&&s.locale!=="ko"?null:s.data;default:return null}}var Dh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Dh[r.type]:s==="textarea"}function gc(r,s,l,d){yr(d),s=Oc(s,"onChange"),0<s.length&&(l=new Vi("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var bs=null,Cs=null;function Vh(r){lr(r,0)}function Ma(r){var s=qa(r);if(Rt(s))return r}function Lh(r,s){if(r==="change")return s}var $l=!1;if(h){var Vo;if(h){var Bl="oninput"in document;if(!Bl){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),Bl=typeof yc.oninput=="function"}Vo=Bl}else Vo=!1;$l=Vo&&(!document.documentMode||9<document.documentMode)}function vc(){bs&&(bs.detachEvent("onpropertychange",_c),Cs=bs=null)}function _c(r){if(r.propertyName==="value"&&Ma(Cs)){var s=[];gc(s,Cs,r,ds(r)),To(Vh,s)}}function wc(r,s,l){r==="focusin"?(vc(),bs=s,Cs=l,bs.attachEvent("onpropertychange",_c)):r==="focusout"&&vc()}function Mh(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ma(Cs)}function Fh(r,s){if(r==="click")return Ma(s)}function jh(r,s){if(r==="input"||r==="change")return Ma(s)}function Uh(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var or=typeof Object.is=="function"?Object.is:Uh;function Lo(r,s){if(or(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(s,f)||!or(r[f],s[f]))return!1}return!0}function Ec(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Tc(r,s){var l=Ec(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ec(l)}}function Ic(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ic(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function li(){for(var r=window,s=Tn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Tn(r.document)}return s}function Fa(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function $h(r){var s=li(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Ic(l.ownerDocument.documentElement,l)){if(d!==null&&Fa(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,v=Math.min(d.start,f);d=d.end===void 0?v:Math.min(d.end,f),!r.extend&&v>d&&(f=d,d=v,v=f),f=Tc(l,v);var I=Tc(l,d);f&&I&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==I.node||r.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),v>d?(r.addRange(s),r.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Sc=h&&"documentMode"in document&&11>=document.documentMode,Ps=null,zl=null,Mo=null,ja=!1;function Ac(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ja||Ps==null||Ps!==Tn(d)||(d=Ps,"selectionStart"in d&&Fa(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Mo&&Lo(Mo,d)||(Mo=d,d=Oc(zl,"onSelect"),0<d.length&&(s=new Vi("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Ps)))}function Ua(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ks={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionend:Ua("Transition","TransitionEnd")},jn={},ji={};h&&(ji=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function $a(r){if(jn[r])return jn[r];if(!ks[r])return r;var s=ks[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in ji)return jn[r]=s[l];return r}var bc=$a("animationend"),Cc=$a("animationiteration"),Pc=$a("animationstart"),kc=$a("transitionend"),Rc=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(r,s){Rc.set(r,s),a(s,[r])}for(var m=0;m<xc.length;m++){var g=xc[m],T=g.toLowerCase(),P=g[0].toUpperCase()+g.slice(1);ar(T,"on"+P)}ar(bc,"onAnimationEnd"),ar(Cc,"onAnimationIteration"),ar(Pc,"onAnimationStart"),ar("dblclick","onDoubleClick"),ar("focusin","onFocus"),ar("focusout","onBlur"),ar(kc,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ye=new Set("cancel close invalid load scroll toggle".split(" ").concat(te));function Et(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,wa(d,s,void 0,r),r.currentTarget=null}function lr(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],f=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var I=d.length-1;0<=I;I--){var R=d[I],V=R.instance,Q=R.currentTarget;if(R=R.listener,V!==v&&f.isPropagationStopped())break e;Et(f,R,Q),v=V}else for(I=0;I<d.length;I++){if(R=d[I],V=R.instance,Q=R.currentTarget,R=R.listener,V!==v&&f.isPropagationStopped())break e;Et(f,R,Q),v=V}}}if(Jn)throw r=Io,Jn=!1,Io=null,r}function qe(r,s){var l=s[Gh];l===void 0&&(l=s[Gh]=new Set);var d=r+"__bubble";l.has(d)||(Ig(s,r,2,!1),l.add(d))}function ui(r,s,l){var d=0;s&&(d|=4),Ig(l,r,d,s)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function ql(r){if(!r[Rs]){r[Rs]=!0,i.forEach(function(l){l!=="selectionchange"&&(ye.has(l)||ui(l,!1,r),ui(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Rs]||(s[Rs]=!0,ui("selectionchange",!1,s))}}function Ig(r,s,l,d){switch(ko(s)){case 1:var f=pt;break;case 4:f=Ul;break;default:f=ys}l=f.bind(null,s,l,r),f=void 0,!Zr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Bh(r,s,l,d,f){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var I=d.tag;if(I===3||I===4){var R=d.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(I===4)for(I=d.return;I!==null;){var V=I.tag;if((V===3||V===4)&&(V=I.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;I=I.return}for(;R!==null;){if(I=Fo(R),I===null)return;if(V=I.tag,V===5||V===6){d=v=I;continue e}R=R.parentNode}}d=d.return}To(function(){var Q=v,oe=ds(l),le=[];e:{var se=Rc.get(r);if(se!==void 0){var ge=Vi,we=r;switch(r){case"keypress":if(_s(l)===0)break e;case"keydown":case"keyup":ge=y;break;case"focusin":we="focus",ge=Mi;break;case"focusout":we="blur",ge=Mi;break;case"beforeblur":case"afterblur":ge=Mi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=X;break;case bc:case Cc:case Pc:ge=Ir;break;case kc:ge=it;break;case"scroll":ge=Oo;break;case"wheel":ge=Ye;break;case"copy":case"cut":case"paste":ge=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=b}var Te=(s&4)!==0,Nt=!Te&&r==="scroll",H=Te?se!==null?se+"Capture":null:se;Te=[];for(var j=Q,W;j!==null;){W=j;var ce=W.stateNode;if(W.tag===5&&ce!==null&&(W=ce,H!==null&&(ce=St(j,H),ce!=null&&Te.push(Hl(j,ce,W)))),Nt)break;j=j.return}0<Te.length&&(se=new ge(se,we,null,l,oe),le.push({event:se,listeners:Te}))}}if((s&7)===0){e:{if(se=r==="mouseover"||r==="pointerover",ge=r==="mouseout"||r==="pointerout",se&&l!==Si&&(we=l.relatedTarget||l.fromElement)&&(Fo(we)||we[Ui]))break e;if((ge||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ge?(we=l.relatedTarget||l.toElement,ge=Q,we=we?Fo(we):null,we!==null&&(Nt=Zn(we),we!==Nt||we.tag!==5&&we.tag!==6)&&(we=null)):(ge=null,we=Q),ge!==we)){if(Te=Es,ce="onMouseLeave",H="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Te=b,ce="onPointerLeave",H="onPointerEnter",j="pointer"),Nt=ge==null?se:qa(ge),W=we==null?se:qa(we),se=new Te(ce,j+"leave",ge,l,oe),se.target=Nt,se.relatedTarget=W,ce=null,Fo(oe)===Q&&(Te=new Te(H,j+"enter",we,l,oe),Te.target=W,Te.relatedTarget=Nt,ce=Te),Nt=ce,ge&&we)t:{for(Te=ge,H=we,j=0,W=Te;W;W=Ba(W))j++;for(W=0,ce=H;ce;ce=Ba(ce))W++;for(;0<j-W;)Te=Ba(Te),j--;for(;0<W-j;)H=Ba(H),W--;for(;j--;){if(Te===H||H!==null&&Te===H.alternate)break t;Te=Ba(Te),H=Ba(H)}Te=null}else Te=null;ge!==null&&Sg(le,se,ge,Te,!1),we!==null&&Nt!==null&&Sg(le,Nt,we,Te,!0)}}e:{if(se=Q?qa(Q):window,ge=se.nodeName&&se.nodeName.toLowerCase(),ge==="select"||ge==="input"&&se.type==="file")var be=Lh;else if(mc(se))if($l)be=jh;else{be=Mh;var Re=wc}else(ge=se.nodeName)&&ge.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(be=Fh);if(be&&(be=be(r,Q))){gc(le,be,l,oe);break e}Re&&Re(r,se,Q),r==="focusout"&&(Re=se._wrapperState)&&Re.controlled&&se.type==="number"&&Xt(se,"number",se.value)}switch(Re=Q?qa(Q):window,r){case"focusin":(mc(Re)||Re.contentEditable==="true")&&(Ps=Re,zl=Q,Mo=null);break;case"focusout":Mo=zl=Ps=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,Ac(le,l,oe);break;case"selectionchange":if(Sc)break;case"keydown":case"keyup":Ac(le,l,oe)}var xe;if(wt)e:{switch(r){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else As?hc(r,l)&&(Le="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(Fi&&l.locale!=="ko"&&(As||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&As&&(xe=Ro()):(Rn=oe,vs="value"in Rn?Rn.value:Rn.textContent,As=!0)),Re=Oc(Q,Le),0<Re.length&&(Le=new Do(Le,r,null,l,oe),le.push({event:Le,listeners:Re}),xe?Le.data=xe:(xe=fc(l),xe!==null&&(Le.data=xe)))),(xe=xn?pc(r,l):Nh(r,l))&&(Q=Oc(Q,"onBeforeInput"),0<Q.length&&(oe=new Do("onBeforeInput","beforeinput",null,l,oe),le.push({event:oe,listeners:Q}),oe.data=xe))}lr(le,s)})}function Hl(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Oc(r,s){for(var l=s+"Capture",d=[];r!==null;){var f=r,v=f.stateNode;f.tag===5&&v!==null&&(f=v,v=St(r,l),v!=null&&d.unshift(Hl(r,v,f)),v=St(r,s),v!=null&&d.push(Hl(r,v,f))),r=r.return}return d}function Ba(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Sg(r,s,l,d,f){for(var v=s._reactName,I=[];l!==null&&l!==d;){var R=l,V=R.alternate,Q=R.stateNode;if(V!==null&&V===d)break;R.tag===5&&Q!==null&&(R=Q,f?(V=St(l,v),V!=null&&I.unshift(Hl(l,V,R))):f||(V=St(l,v),V!=null&&I.push(Hl(l,V,R)))),l=l.return}I.length!==0&&r.push({event:s,listeners:I})}var XT=/\r\n?/g,JT=/\u0000|\uFFFD/g;function Ag(r){return(typeof r=="string"?r:""+r).replace(XT,`
`).replace(JT,"")}function Nc(r,s,l){if(s=Ag(s),Ag(r)!==s&&l)throw Error(t(425))}function Dc(){}var zh=null,qh=null;function Hh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,ZT=typeof clearTimeout=="function"?clearTimeout:void 0,bg=typeof Promise=="function"?Promise:void 0,eI=typeof queueMicrotask=="function"?queueMicrotask:typeof bg<"u"?function(r){return bg.resolve(null).then(r).catch(tI)}:Wh;function tI(r){setTimeout(function(){throw r})}function Kh(r,s){var l=s,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){r.removeChild(f),rr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);rr(s)}function xs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Cg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var za=Math.random().toString(36).slice(2),ci="__reactFiber$"+za,Wl="__reactProps$"+za,Ui="__reactContainer$"+za,Gh="__reactEvents$"+za,nI="__reactListeners$"+za,rI="__reactHandles$"+za;function Fo(r){var s=r[ci];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Ui]||l[ci]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Cg(r);r!==null;){if(l=r[ci])return l;r=Cg(r)}return s}r=l,l=r.parentNode}return null}function Kl(r){return r=r[ci]||r[Ui],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function qa(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Vc(r){return r[Wl]||null}var Qh=[],Ha=-1;function Os(r){return{current:r}}function yt(r){0>Ha||(r.current=Qh[Ha],Qh[Ha]=null,Ha--)}function mt(r,s){Ha++,Qh[Ha]=r.current,r.current=s}var Ns={},fn=Os(Ns),Un=Os(!1),jo=Ns;function Wa(r,s){var l=r.type.contextTypes;if(!l)return Ns;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in l)f[v]=s[v];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function $n(r){return r=r.childContextTypes,r!=null}function Lc(){yt(Un),yt(fn)}function Pg(r,s,l){if(fn.current!==Ns)throw Error(t(168));mt(fn,s),mt(Un,l)}function kg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in s))throw Error(t(108,Qe(r)||"Unknown",f));return me({},l,d)}function Mc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ns,jo=fn.current,mt(fn,r),mt(Un,Un.current),!0}function Rg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=kg(r,s,jo),d.__reactInternalMemoizedMergedChildContext=r,yt(Un),yt(fn),mt(fn,r)):yt(Un),mt(Un,l)}var $i=null,Fc=!1,Yh=!1;function xg(r){$i===null?$i=[r]:$i.push(r)}function iI(r){Fc=!0,xg(r)}function Ds(){if(!Yh&&$i!==null){Yh=!0;var r=0,s=We;try{var l=$i;for(We=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}$i=null,Fc=!1}catch(f){throw $i!==null&&($i=$i.slice(r+1)),xt(Pi,Ds),f}finally{We=s,Yh=!1}}return null}var Ka=[],Ga=0,jc=null,Uc=0,Ar=[],br=0,Uo=null,Bi=1,zi="";function $o(r,s){Ka[Ga++]=Uc,Ka[Ga++]=jc,jc=r,Uc=s}function Og(r,s,l){Ar[br++]=Bi,Ar[br++]=zi,Ar[br++]=Uo,Uo=r;var d=Bi;r=zi;var f=32-Zt(d)-1;d&=~(1<<f),l+=1;var v=32-Zt(s)+f;if(30<v){var I=f-f%5;v=(d&(1<<I)-1).toString(32),d>>=I,f-=I,Bi=1<<32-Zt(s)+f|l<<f|d,zi=v+r}else Bi=1<<v|l<<f|d,zi=r}function Xh(r){r.return!==null&&($o(r,1),Og(r,1,0))}function Jh(r){for(;r===jc;)jc=Ka[--Ga],Ka[Ga]=null,Uc=Ka[--Ga],Ka[Ga]=null;for(;r===Uo;)Uo=Ar[--br],Ar[br]=null,zi=Ar[--br],Ar[br]=null,Bi=Ar[--br],Ar[br]=null}var ur=null,cr=null,Tt=!1,Br=null;function Ng(r,s){var l=Rr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Dg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,ur=r,cr=xs(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,ur=r,cr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Uo!==null?{id:Bi,overflow:zi}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Rr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,ur=r,cr=null,!0):!1;default:return!1}}function Zh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ef(r){if(Tt){var s=cr;if(s){var l=s;if(!Dg(r,s)){if(Zh(r))throw Error(t(418));s=xs(l.nextSibling);var d=ur;s&&Dg(r,s)?Ng(d,l):(r.flags=r.flags&-4097|2,Tt=!1,ur=r)}}else{if(Zh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Tt=!1,ur=r}}}function Vg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;ur=r}function $c(r){if(r!==ur)return!1;if(!Tt)return Vg(r),Tt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Hh(r.type,r.memoizedProps)),s&&(s=cr)){if(Zh(r))throw Lg(),Error(t(418));for(;s;)Ng(r,s),s=xs(s.nextSibling)}if(Vg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){cr=xs(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}cr=null}}else cr=ur?xs(r.stateNode.nextSibling):null;return!0}function Lg(){for(var r=cr;r;)r=xs(r.nextSibling)}function Qa(){cr=ur=null,Tt=!1}function tf(r){Br===null?Br=[r]:Br.push(r)}var sI=he.ReactCurrentBatchConfig;function Gl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var f=d,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(I){var R=f.refs;I===null?delete R[v]:R[v]=I},s._stringRef=v,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Bc(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Mg(r){var s=r._init;return s(r._payload)}function Fg(r){function s(H,j){if(r){var W=H.deletions;W===null?(H.deletions=[j],H.flags|=16):W.push(j)}}function l(H,j){if(!r)return null;for(;j!==null;)s(H,j),j=j.sibling;return null}function d(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function f(H,j){return H=Bs(H,j),H.index=0,H.sibling=null,H}function v(H,j,W){return H.index=W,r?(W=H.alternate,W!==null?(W=W.index,W<j?(H.flags|=2,j):W):(H.flags|=2,j)):(H.flags|=1048576,j)}function I(H){return r&&H.alternate===null&&(H.flags|=2),H}function R(H,j,W,ce){return j===null||j.tag!==6?(j=Kf(W,H.mode,ce),j.return=H,j):(j=f(j,W),j.return=H,j)}function V(H,j,W,ce){var be=W.type;return be===x?oe(H,j,W.props.children,ce,W.key):j!==null&&(j.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Lt&&Mg(be)===j.type)?(ce=f(j,W.props),ce.ref=Gl(H,j,W),ce.return=H,ce):(ce=hd(W.type,W.key,W.props,null,H.mode,ce),ce.ref=Gl(H,j,W),ce.return=H,ce)}function Q(H,j,W,ce){return j===null||j.tag!==4||j.stateNode.containerInfo!==W.containerInfo||j.stateNode.implementation!==W.implementation?(j=Gf(W,H.mode,ce),j.return=H,j):(j=f(j,W.children||[]),j.return=H,j)}function oe(H,j,W,ce,be){return j===null||j.tag!==7?(j=Qo(W,H.mode,ce,be),j.return=H,j):(j=f(j,W),j.return=H,j)}function le(H,j,W){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Kf(""+j,H.mode,W),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Y:return W=hd(j.type,j.key,j.props,null,H.mode,W),W.ref=Gl(H,null,j),W.return=H,W;case J:return j=Gf(j,H.mode,W),j.return=H,j;case Lt:var ce=j._init;return le(H,ce(j._payload),W)}if(ot(j)||Ee(j))return j=Qo(j,H.mode,W,null),j.return=H,j;Bc(H,j)}return null}function se(H,j,W,ce){var be=j!==null?j.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return be!==null?null:R(H,j,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Y:return W.key===be?V(H,j,W,ce):null;case J:return W.key===be?Q(H,j,W,ce):null;case Lt:return be=W._init,se(H,j,be(W._payload),ce)}if(ot(W)||Ee(W))return be!==null?null:oe(H,j,W,ce,null);Bc(H,W)}return null}function ge(H,j,W,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return H=H.get(W)||null,R(j,H,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case Y:return H=H.get(ce.key===null?W:ce.key)||null,V(j,H,ce,be);case J:return H=H.get(ce.key===null?W:ce.key)||null,Q(j,H,ce,be);case Lt:var Re=ce._init;return ge(H,j,W,Re(ce._payload),be)}if(ot(ce)||Ee(ce))return H=H.get(W)||null,oe(j,H,ce,be,null);Bc(j,ce)}return null}function we(H,j,W,ce){for(var be=null,Re=null,xe=j,Le=j=0,Qt=null;xe!==null&&Le<W.length;Le++){xe.index>Le?(Qt=xe,xe=null):Qt=xe.sibling;var tt=se(H,xe,W[Le],ce);if(tt===null){xe===null&&(xe=Qt);break}r&&xe&&tt.alternate===null&&s(H,xe),j=v(tt,j,Le),Re===null?be=tt:Re.sibling=tt,Re=tt,xe=Qt}if(Le===W.length)return l(H,xe),Tt&&$o(H,Le),be;if(xe===null){for(;Le<W.length;Le++)xe=le(H,W[Le],ce),xe!==null&&(j=v(xe,j,Le),Re===null?be=xe:Re.sibling=xe,Re=xe);return Tt&&$o(H,Le),be}for(xe=d(H,xe);Le<W.length;Le++)Qt=ge(xe,H,Le,W[Le],ce),Qt!==null&&(r&&Qt.alternate!==null&&xe.delete(Qt.key===null?Le:Qt.key),j=v(Qt,j,Le),Re===null?be=Qt:Re.sibling=Qt,Re=Qt);return r&&xe.forEach(function(zs){return s(H,zs)}),Tt&&$o(H,Le),be}function Te(H,j,W,ce){var be=Ee(W);if(typeof be!="function")throw Error(t(150));if(W=be.call(W),W==null)throw Error(t(151));for(var Re=be=null,xe=j,Le=j=0,Qt=null,tt=W.next();xe!==null&&!tt.done;Le++,tt=W.next()){xe.index>Le?(Qt=xe,xe=null):Qt=xe.sibling;var zs=se(H,xe,tt.value,ce);if(zs===null){xe===null&&(xe=Qt);break}r&&xe&&zs.alternate===null&&s(H,xe),j=v(zs,j,Le),Re===null?be=zs:Re.sibling=zs,Re=zs,xe=Qt}if(tt.done)return l(H,xe),Tt&&$o(H,Le),be;if(xe===null){for(;!tt.done;Le++,tt=W.next())tt=le(H,tt.value,ce),tt!==null&&(j=v(tt,j,Le),Re===null?be=tt:Re.sibling=tt,Re=tt);return Tt&&$o(H,Le),be}for(xe=d(H,xe);!tt.done;Le++,tt=W.next())tt=ge(xe,H,Le,tt.value,ce),tt!==null&&(r&&tt.alternate!==null&&xe.delete(tt.key===null?Le:tt.key),j=v(tt,j,Le),Re===null?be=tt:Re.sibling=tt,Re=tt);return r&&xe.forEach(function(FI){return s(H,FI)}),Tt&&$o(H,Le),be}function Nt(H,j,W,ce){if(typeof W=="object"&&W!==null&&W.type===x&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case Y:e:{for(var be=W.key,Re=j;Re!==null;){if(Re.key===be){if(be=W.type,be===x){if(Re.tag===7){l(H,Re.sibling),j=f(Re,W.props.children),j.return=H,H=j;break e}}else if(Re.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Lt&&Mg(be)===Re.type){l(H,Re.sibling),j=f(Re,W.props),j.ref=Gl(H,Re,W),j.return=H,H=j;break e}l(H,Re);break}else s(H,Re);Re=Re.sibling}W.type===x?(j=Qo(W.props.children,H.mode,ce,W.key),j.return=H,H=j):(ce=hd(W.type,W.key,W.props,null,H.mode,ce),ce.ref=Gl(H,j,W),ce.return=H,H=ce)}return I(H);case J:e:{for(Re=W.key;j!==null;){if(j.key===Re)if(j.tag===4&&j.stateNode.containerInfo===W.containerInfo&&j.stateNode.implementation===W.implementation){l(H,j.sibling),j=f(j,W.children||[]),j.return=H,H=j;break e}else{l(H,j);break}else s(H,j);j=j.sibling}j=Gf(W,H.mode,ce),j.return=H,H=j}return I(H);case Lt:return Re=W._init,Nt(H,j,Re(W._payload),ce)}if(ot(W))return we(H,j,W,ce);if(Ee(W))return Te(H,j,W,ce);Bc(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,j!==null&&j.tag===6?(l(H,j.sibling),j=f(j,W),j.return=H,H=j):(l(H,j),j=Kf(W,H.mode,ce),j.return=H,H=j),I(H)):l(H,j)}return Nt}var Ya=Fg(!0),jg=Fg(!1),zc=Os(null),qc=null,Xa=null,nf=null;function rf(){nf=Xa=qc=null}function sf(r){var s=zc.current;yt(zc),r._currentValue=s}function of(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Ja(r,s){qc=r,nf=Xa=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Bn=!0),r.firstContext=null)}function Cr(r){var s=r._currentValue;if(nf!==r)if(r={context:r,memoizedValue:s,next:null},Xa===null){if(qc===null)throw Error(t(308));Xa=r,qc.dependencies={lanes:0,firstContext:r}}else Xa=Xa.next=r;return s}var Bo=null;function af(r){Bo===null?Bo=[r]:Bo.push(r)}function Ug(r,s,l,d){var f=s.interleaved;return f===null?(l.next=l,af(s)):(l.next=f.next,f.next=l),s.interleaved=l,qi(r,d)}function qi(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Vs=!1;function lf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $g(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Hi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ls(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(et&2)!==0){var f=d.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),d.pending=s,qi(r,l)}return f=d.interleaved,f===null?(s.next=s,af(d)):(s.next=f.next,f.next=s),d.interleaved=s,qi(r,l)}function Hc(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,_r(r,l)}}function Bg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?f=v=I:v=v.next=I,l=l.next}while(l!==null);v===null?f=v=s:v=v.next=s}else f=v=s;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Wc(r,s,l,d){var f=r.updateQueue;Vs=!1;var v=f.firstBaseUpdate,I=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var V=R,Q=V.next;V.next=null,I===null?v=Q:I.next=Q,I=V;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,R=oe.lastBaseUpdate,R!==I&&(R===null?oe.firstBaseUpdate=Q:R.next=Q,oe.lastBaseUpdate=V))}if(v!==null){var le=f.baseState;I=0,oe=Q=V=null,R=v;do{var se=R.lane,ge=R.eventTime;if((d&se)===se){oe!==null&&(oe=oe.next={eventTime:ge,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var we=r,Te=R;switch(se=s,ge=l,Te.tag){case 1:if(we=Te.payload,typeof we=="function"){le=we.call(ge,le,se);break e}le=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Te.payload,se=typeof we=="function"?we.call(ge,le,se):we,se==null)break e;le=me({},le,se);break e;case 2:Vs=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,se=f.effects,se===null?f.effects=[R]:se.push(R))}else ge={eventTime:ge,lane:se,tag:R.tag,payload:R.payload,callback:R.callback,next:null},oe===null?(Q=oe=ge,V=le):oe=oe.next=ge,I|=se;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;se=R,R=se.next,se.next=null,f.lastBaseUpdate=se,f.shared.pending=null}}while(!0);if(oe===null&&(V=le),f.baseState=V,f.firstBaseUpdate=Q,f.lastBaseUpdate=oe,s=f.shared.interleaved,s!==null){f=s;do I|=f.lane,f=f.next;while(f!==s)}else v===null&&(f.shared.lanes=0);Ho|=I,r.lanes=I,r.memoizedState=le}}function zg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Ql={},di=Os(Ql),Yl=Os(Ql),Xl=Os(Ql);function zo(r){if(r===Ql)throw Error(t(174));return r}function uf(r,s){switch(mt(Xl,s),mt(Yl,r),mt(di,Ql),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ke(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ke(s,r)}yt(di),mt(di,s)}function Za(){yt(di),yt(Yl),yt(Xl)}function qg(r){zo(Xl.current);var s=zo(di.current),l=ke(s,r.type);s!==l&&(mt(Yl,r),mt(di,l))}function cf(r){Yl.current===r&&(yt(di),yt(Yl))}var bt=Os(0);function Kc(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var df=[];function hf(){for(var r=0;r<df.length;r++)df[r]._workInProgressVersionPrimary=null;df.length=0}var Gc=he.ReactCurrentDispatcher,ff=he.ReactCurrentBatchConfig,qo=0,Ct=null,zt=null,Kt=null,Qc=!1,Jl=!1,Zl=0,oI=0;function pn(){throw Error(t(321))}function pf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!or(r[l],s[l]))return!1;return!0}function mf(r,s,l,d,f,v){if(qo=v,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gc.current=r===null||r.memoizedState===null?cI:dI,r=l(d,f),Jl){v=0;do{if(Jl=!1,Zl=0,25<=v)throw Error(t(301));v+=1,Kt=zt=null,s.updateQueue=null,Gc.current=hI,r=l(d,f)}while(Jl)}if(Gc.current=Jc,s=zt!==null&&zt.next!==null,qo=0,Kt=zt=Ct=null,Qc=!1,s)throw Error(t(300));return r}function gf(){var r=Zl!==0;return Zl=0,r}function hi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ct.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function Pr(){if(zt===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=zt.next;var s=Kt===null?Ct.memoizedState:Kt.next;if(s!==null)Kt=s,zt=r;else{if(r===null)throw Error(t(310));zt=r,r={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?Ct.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function eu(r,s){return typeof s=="function"?s(r):s}function yf(r){var s=Pr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=zt,f=d.baseQueue,v=l.pending;if(v!==null){if(f!==null){var I=f.next;f.next=v.next,v.next=I}d.baseQueue=f=v,l.pending=null}if(f!==null){v=f.next,d=d.baseState;var R=I=null,V=null,Q=v;do{var oe=Q.lane;if((qo&oe)===oe)V!==null&&(V=V.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:r(d,Q.action);else{var le={lane:oe,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};V===null?(R=V=le,I=d):V=V.next=le,Ct.lanes|=oe,Ho|=oe}Q=Q.next}while(Q!==null&&Q!==v);V===null?I=d:V.next=R,or(d,s.memoizedState)||(Bn=!0),s.memoizedState=d,s.baseState=I,s.baseQueue=V,l.lastRenderedState=d}if(r=l.interleaved,r!==null){f=r;do v=f.lane,Ct.lanes|=v,Ho|=v,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function vf(r){var s=Pr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,f=l.pending,v=s.memoizedState;if(f!==null){l.pending=null;var I=f=f.next;do v=r(v,I.action),I=I.next;while(I!==f);or(v,s.memoizedState)||(Bn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,d]}function Hg(){}function Wg(r,s){var l=Ct,d=Pr(),f=s(),v=!or(d.memoizedState,f);if(v&&(d.memoizedState=f,Bn=!0),d=d.queue,_f(Qg.bind(null,l,d,r),[r]),d.getSnapshot!==s||v||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,tu(9,Gg.bind(null,l,d,f,s),void 0,null),Gt===null)throw Error(t(349));(qo&30)!==0||Kg(l,s,f)}return f}function Kg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Gg(r,s,l,d){s.value=l,s.getSnapshot=d,Yg(s)&&Xg(r)}function Qg(r,s,l){return l(function(){Yg(s)&&Xg(r)})}function Yg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!or(r,l)}catch{return!0}}function Xg(r){var s=qi(r,1);s!==null&&Wr(s,r,1,-1)}function Jg(r){var s=hi();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:r},s.queue=r,r=r.dispatch=uI.bind(null,Ct,r),[s.memoizedState,r]}function tu(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Zg(){return Pr().memoizedState}function Yc(r,s,l,d){var f=hi();Ct.flags|=r,f.memoizedState=tu(1|s,l,void 0,d===void 0?null:d)}function Xc(r,s,l,d){var f=Pr();d=d===void 0?null:d;var v=void 0;if(zt!==null){var I=zt.memoizedState;if(v=I.destroy,d!==null&&pf(d,I.deps)){f.memoizedState=tu(s,l,v,d);return}}Ct.flags|=r,f.memoizedState=tu(1|s,l,v,d)}function ey(r,s){return Yc(8390656,8,r,s)}function _f(r,s){return Xc(2048,8,r,s)}function ty(r,s){return Xc(4,2,r,s)}function ny(r,s){return Xc(4,4,r,s)}function ry(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function iy(r,s,l){return l=l!=null?l.concat([r]):null,Xc(4,4,ry.bind(null,s,r),l)}function wf(){}function sy(r,s){var l=Pr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&pf(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function oy(r,s){var l=Pr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&pf(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function ay(r,s,l){return(qo&21)===0?(r.baseState&&(r.baseState=!1,Bn=!0),r.memoizedState=l):(or(l,s)||(l=Ni(),Ct.lanes|=l,Ho|=l,r.baseState=!0),s)}function aI(r,s){var l=We;We=l!==0&&4>l?l:4,r(!0);var d=ff.transition;ff.transition={};try{r(!1),s()}finally{We=l,ff.transition=d}}function ly(){return Pr().memoizedState}function lI(r,s,l){var d=Us(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},uy(r))cy(s,l);else if(l=Ug(r,s,l,d),l!==null){var f=Nn();Wr(l,r,d,f),dy(l,s,d)}}function uI(r,s,l){var d=Us(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(uy(r))cy(s,f);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var I=s.lastRenderedState,R=v(I,l);if(f.hasEagerState=!0,f.eagerState=R,or(R,I)){var V=s.interleaved;V===null?(f.next=f,af(s)):(f.next=V.next,V.next=f),s.interleaved=f;return}}catch{}finally{}l=Ug(r,s,f,d),l!==null&&(f=Nn(),Wr(l,r,d,f),dy(l,s,d))}}function uy(r){var s=r.alternate;return r===Ct||s!==null&&s===Ct}function cy(r,s){Jl=Qc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function dy(r,s,l){if((l&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,_r(r,l)}}var Jc={readContext:Cr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},cI={readContext:Cr,useCallback:function(r,s){return hi().memoizedState=[r,s===void 0?null:s],r},useContext:Cr,useEffect:ey,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Yc(4194308,4,ry.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Yc(4194308,4,r,s)},useInsertionEffect:function(r,s){return Yc(4,2,r,s)},useMemo:function(r,s){var l=hi();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=hi();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=lI.bind(null,Ct,r),[d.memoizedState,r]},useRef:function(r){var s=hi();return r={current:r},s.memoizedState=r},useState:Jg,useDebugValue:wf,useDeferredValue:function(r){return hi().memoizedState=r},useTransition:function(){var r=Jg(!1),s=r[0];return r=aI.bind(null,r[1]),hi().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=Ct,f=hi();if(Tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Gt===null)throw Error(t(349));(qo&30)!==0||Kg(d,s,l)}f.memoizedState=l;var v={value:l,getSnapshot:s};return f.queue=v,ey(Qg.bind(null,d,v,r),[r]),d.flags|=2048,tu(9,Gg.bind(null,d,v,l,s),void 0,null),l},useId:function(){var r=hi(),s=Gt.identifierPrefix;if(Tt){var l=zi,d=Bi;l=(d&~(1<<32-Zt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Zl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=oI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},dI={readContext:Cr,useCallback:sy,useContext:Cr,useEffect:_f,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:oy,useReducer:yf,useRef:Zg,useState:function(){return yf(eu)},useDebugValue:wf,useDeferredValue:function(r){var s=Pr();return ay(s,zt.memoizedState,r)},useTransition:function(){var r=yf(eu)[0],s=Pr().memoizedState;return[r,s]},useMutableSource:Hg,useSyncExternalStore:Wg,useId:ly,unstable_isNewReconciler:!1},hI={readContext:Cr,useCallback:sy,useContext:Cr,useEffect:_f,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:oy,useReducer:vf,useRef:Zg,useState:function(){return vf(eu)},useDebugValue:wf,useDeferredValue:function(r){var s=Pr();return zt===null?s.memoizedState=r:ay(s,zt.memoizedState,r)},useTransition:function(){var r=vf(eu)[0],s=Pr().memoizedState;return[r,s]},useMutableSource:Hg,useSyncExternalStore:Wg,useId:ly,unstable_isNewReconciler:!1};function zr(r,s){if(r&&r.defaultProps){s=me({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Ef(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:me({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Zc={isMounted:function(r){return(r=r._reactInternals)?Zn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Nn(),f=Us(r),v=Hi(d,f);v.payload=s,l!=null&&(v.callback=l),s=Ls(r,v,f),s!==null&&(Wr(s,r,f,d),Hc(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Nn(),f=Us(r),v=Hi(d,f);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Ls(r,v,f),s!==null&&(Wr(s,r,f,d),Hc(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Nn(),d=Us(r),f=Hi(l,d);f.tag=2,s!=null&&(f.callback=s),s=Ls(r,f,d),s!==null&&(Wr(s,r,d,l),Hc(s,r,d))}};function hy(r,s,l,d,f,v,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,I):s.prototype&&s.prototype.isPureReactComponent?!Lo(l,d)||!Lo(f,v):!0}function fy(r,s,l){var d=!1,f=Ns,v=s.contextType;return typeof v=="object"&&v!==null?v=Cr(v):(f=$n(s)?jo:fn.current,d=s.contextTypes,v=(d=d!=null)?Wa(r,f):Ns),s=new s(l,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Zc,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=v),s}function py(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Zc.enqueueReplaceState(s,s.state,null)}function Tf(r,s,l,d){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},lf(r);var v=s.contextType;typeof v=="object"&&v!==null?f.context=Cr(v):(v=$n(s)?jo:fn.current,f.context=Wa(r,v)),f.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Ef(r,s,v,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Zc.enqueueReplaceState(f,f.state,null),Wc(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function el(r,s){try{var l="",d=s;do l+=Oe(d),d=d.return;while(d);var f=l}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:f,digest:null}}function If(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Sf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var fI=typeof WeakMap=="function"?WeakMap:Map;function my(r,s,l){l=Hi(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){od||(od=!0,jf=d),Sf(r,s)},l}function gy(r,s,l){l=Hi(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=s.value;l.payload=function(){return d(f)},l.callback=function(){Sf(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Sf(r,s),typeof d!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),l}function yy(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new fI;var f=new Set;d.set(s,f)}else f=d.get(s),f===void 0&&(f=new Set,d.set(s,f));f.has(l)||(f.add(l),r=CI.bind(null,r,s,l),s.then(r,r))}function vy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function _y(r,s,l,d,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Hi(-1,1),s.tag=2,Ls(l,s,1))),l.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var pI=he.ReactCurrentOwner,Bn=!1;function On(r,s,l,d){s.child=r===null?jg(s,null,l,d):Ya(s,r.child,l,d)}function wy(r,s,l,d,f){l=l.render;var v=s.ref;return Ja(s,f),d=mf(r,s,l,d,v,f),l=gf(),r!==null&&!Bn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Wi(r,s,f)):(Tt&&l&&Xh(s),s.flags|=1,On(r,s,d,f),s.child)}function Ey(r,s,l,d,f){if(r===null){var v=l.type;return typeof v=="function"&&!Wf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Ty(r,s,v,d,f)):(r=hd(l.type,null,d,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&f)===0){var I=v.memoizedProps;if(l=l.compare,l=l!==null?l:Lo,l(I,d)&&r.ref===s.ref)return Wi(r,s,f)}return s.flags|=1,r=Bs(v,d),r.ref=s.ref,r.return=s,s.child=r}function Ty(r,s,l,d,f){if(r!==null){var v=r.memoizedProps;if(Lo(v,d)&&r.ref===s.ref)if(Bn=!1,s.pendingProps=d=v,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Bn=!0);else return s.lanes=r.lanes,Wi(r,s,f)}return Af(r,s,l,d,f)}function Iy(r,s,l){var d=s.pendingProps,f=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(nl,dr),dr|=l;else{if((l&1073741824)===0)return r=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,mt(nl,dr),dr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,mt(nl,dr),dr|=d}else v!==null?(d=v.baseLanes|l,s.memoizedState=null):d=l,mt(nl,dr),dr|=d;return On(r,s,f,l),s.child}function Sy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Af(r,s,l,d,f){var v=$n(l)?jo:fn.current;return v=Wa(s,v),Ja(s,f),l=mf(r,s,l,d,v,f),d=gf(),r!==null&&!Bn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Wi(r,s,f)):(Tt&&d&&Xh(s),s.flags|=1,On(r,s,l,f),s.child)}function Ay(r,s,l,d,f){if($n(l)){var v=!0;Mc(s)}else v=!1;if(Ja(s,f),s.stateNode===null)td(r,s),fy(s,l,d),Tf(s,l,d,f),d=!0;else if(r===null){var I=s.stateNode,R=s.memoizedProps;I.props=R;var V=I.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Cr(Q):(Q=$n(l)?jo:fn.current,Q=Wa(s,Q));var oe=l.getDerivedStateFromProps,le=typeof oe=="function"||typeof I.getSnapshotBeforeUpdate=="function";le||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(R!==d||V!==Q)&&py(s,I,d,Q),Vs=!1;var se=s.memoizedState;I.state=se,Wc(s,d,I,f),V=s.memoizedState,R!==d||se!==V||Un.current||Vs?(typeof oe=="function"&&(Ef(s,l,oe,d),V=s.memoizedState),(R=Vs||hy(s,l,R,d,se,V,Q))?(le||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=V),I.props=d,I.state=V,I.context=Q,d=R):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{I=s.stateNode,$g(r,s),R=s.memoizedProps,Q=s.type===s.elementType?R:zr(s.type,R),I.props=Q,le=s.pendingProps,se=I.context,V=l.contextType,typeof V=="object"&&V!==null?V=Cr(V):(V=$n(l)?jo:fn.current,V=Wa(s,V));var ge=l.getDerivedStateFromProps;(oe=typeof ge=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(R!==le||se!==V)&&py(s,I,d,V),Vs=!1,se=s.memoizedState,I.state=se,Wc(s,d,I,f);var we=s.memoizedState;R!==le||se!==we||Un.current||Vs?(typeof ge=="function"&&(Ef(s,l,ge,d),we=s.memoizedState),(Q=Vs||hy(s,l,Q,d,se,we,V)||!1)?(oe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(d,we,V),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(d,we,V)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||R===r.memoizedProps&&se===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&se===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=we),I.props=d,I.state=we,I.context=V,d=Q):(typeof I.componentDidUpdate!="function"||R===r.memoizedProps&&se===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&se===r.memoizedState||(s.flags|=1024),d=!1)}return bf(r,s,l,d,v,f)}function bf(r,s,l,d,f,v){Sy(r,s);var I=(s.flags&128)!==0;if(!d&&!I)return f&&Rg(s,l,!1),Wi(r,s,v);d=s.stateNode,pI.current=s;var R=I&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&I?(s.child=Ya(s,r.child,null,v),s.child=Ya(s,null,R,v)):On(r,s,R,v),s.memoizedState=d.state,f&&Rg(s,l,!0),s.child}function by(r){var s=r.stateNode;s.pendingContext?Pg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Pg(r,s.context,!1),uf(r,s.containerInfo)}function Cy(r,s,l,d,f){return Qa(),tf(f),s.flags|=256,On(r,s,l,d),s.child}var Cf={dehydrated:null,treeContext:null,retryLane:0};function Pf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Py(r,s,l){var d=s.pendingProps,f=bt.current,v=!1,I=(s.flags&128)!==0,R;if((R=I)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),mt(bt,f&1),r===null)return ef(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(I=d.children,r=d.fallback,v?(d=s.mode,v=s.child,I={mode:"hidden",children:I},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=fd(I,d,0,null),r=Qo(r,d,l,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=Pf(l),s.memoizedState=Cf,r):kf(s,I));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return mI(r,s,I,d,R,f,l);if(v){v=d.fallback,I=s.mode,f=r.child,R=f.sibling;var V={mode:"hidden",children:d.children};return(I&1)===0&&s.child!==f?(d=s.child,d.childLanes=0,d.pendingProps=V,s.deletions=null):(d=Bs(f,V),d.subtreeFlags=f.subtreeFlags&14680064),R!==null?v=Bs(R,v):(v=Qo(v,I,l,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,I=r.child.memoizedState,I=I===null?Pf(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=r.childLanes&~l,s.memoizedState=Cf,d}return v=r.child,r=v.sibling,d=Bs(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function kf(r,s){return s=fd({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ed(r,s,l,d){return d!==null&&tf(d),Ya(s,r.child,null,l),r=kf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function mI(r,s,l,d,f,v,I){if(l)return s.flags&256?(s.flags&=-257,d=If(Error(t(422))),ed(r,s,I,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=d.fallback,f=s.mode,d=fd({mode:"visible",children:d.children},f,0,null),v=Qo(v,f,I,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&Ya(s,r.child,null,I),s.child.memoizedState=Pf(I),s.memoizedState=Cf,v);if((s.mode&1)===0)return ed(r,s,I,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var R=d.dgst;return d=R,v=Error(t(419)),d=If(v,d,void 0),ed(r,s,I,d)}if(R=(I&r.childLanes)!==0,Bn||R){if(d=Gt,d!==null){switch(I&-I){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|I))!==0?0:f,f!==0&&f!==v.retryLane&&(v.retryLane=f,qi(r,f),Wr(d,r,f,-1))}return Hf(),d=If(Error(t(421))),ed(r,s,I,d)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=PI.bind(null,r),f._reactRetry=s,null):(r=v.treeContext,cr=xs(f.nextSibling),ur=s,Tt=!0,Br=null,r!==null&&(Ar[br++]=Bi,Ar[br++]=zi,Ar[br++]=Uo,Bi=r.id,zi=r.overflow,Uo=s),s=kf(s,d.children),s.flags|=4096,s)}function ky(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),of(r.return,s,l)}function Rf(r,s,l,d,f){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=f)}function Ry(r,s,l){var d=s.pendingProps,f=d.revealOrder,v=d.tail;if(On(r,s,d.children,l),d=bt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ky(r,l,s);else if(r.tag===19)ky(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(mt(bt,d),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Kc(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),Rf(s,!1,f,l,v);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Kc(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}Rf(s,!0,l,null,v);break;case"together":Rf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function td(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Wi(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ho|=s.lanes,(l&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Bs(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Bs(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function gI(r,s,l){switch(s.tag){case 3:by(s),Qa();break;case 5:qg(s);break;case 1:$n(s.type)&&Mc(s);break;case 4:uf(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,f=s.memoizedProps.value;mt(zc,d._currentValue),d._currentValue=f;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(mt(bt,bt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Py(r,s,l):(mt(bt,bt.current&1),r=Wi(r,s,l),r!==null?r.sibling:null);mt(bt,bt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(r.flags&128)!==0){if(d)return Ry(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),mt(bt,bt.current),d)break;return null;case 22:case 23:return s.lanes=0,Iy(r,s,l)}return Wi(r,s,l)}var xy,xf,Oy,Ny;xy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},xf=function(){},Oy=function(r,s,l,d){var f=r.memoizedProps;if(f!==d){r=s.stateNode,zo(di.current);var v=null;switch(l){case"input":f=mr(r,f),d=mr(r,d),v=[];break;case"select":f=me({},f,{value:void 0}),d=me({},d,{value:void 0}),v=[];break;case"textarea":f=G(r,f),d=G(r,d),v=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Dc)}_o(l,d);var I;l=null;for(Q in f)if(!d.hasOwnProperty(Q)&&f.hasOwnProperty(Q)&&f[Q]!=null)if(Q==="style"){var R=f[Q];for(I in R)R.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in d){var V=d[Q];if(R=f?.[Q],d.hasOwnProperty(Q)&&V!==R&&(V!=null||R!=null))if(Q==="style")if(R){for(I in R)!R.hasOwnProperty(I)||V&&V.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in V)V.hasOwnProperty(I)&&R[I]!==V[I]&&(l||(l={}),l[I]=V[I])}else l||(v||(v=[]),v.push(Q,l)),l=V;else Q==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,R=R?R.__html:void 0,V!=null&&R!==V&&(v=v||[]).push(Q,V)):Q==="children"?typeof V!="string"&&typeof V!="number"||(v=v||[]).push(Q,""+V):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(V!=null&&Q==="onScroll"&&qe("scroll",r),v||R===V||(v=[])):(v=v||[]).push(Q,V))}l&&(v=v||[]).push("style",l);var Q=v;(s.updateQueue=Q)&&(s.flags|=4)}},Ny=function(r,s,l,d){l!==d&&(s.flags|=4)};function nu(r,s){if(!Tt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function mn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function yI(r,s,l){var d=s.pendingProps;switch(Jh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(s),null;case 1:return $n(s.type)&&Lc(),mn(s),null;case 3:return d=s.stateNode,Za(),yt(Un),yt(fn),hf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&($c(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Br!==null&&(Bf(Br),Br=null))),xf(r,s),mn(s),null;case 5:cf(s);var f=zo(Xl.current);if(l=s.type,r!==null&&s.stateNode!=null)Oy(r,s,l,d,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return mn(s),null}if(r=zo(di.current),$c(s)){d=s.stateNode,l=s.type;var v=s.memoizedProps;switch(d[ci]=s,d[Wl]=v,r=(s.mode&1)!==0,l){case"dialog":qe("cancel",d),qe("close",d);break;case"iframe":case"object":case"embed":qe("load",d);break;case"video":case"audio":for(f=0;f<te.length;f++)qe(te[f],d);break;case"source":qe("error",d);break;case"img":case"image":case"link":qe("error",d),qe("load",d);break;case"details":qe("toggle",d);break;case"input":Or(d,v),qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},qe("invalid",d);break;case"textarea":fe(d,v),qe("invalid",d)}_o(l,v),f=null;for(var I in v)if(v.hasOwnProperty(I)){var R=v[I];I==="children"?typeof R=="string"?d.textContent!==R&&(v.suppressHydrationWarning!==!0&&Nc(d.textContent,R,r),f=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&Nc(d.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(I)&&R!=null&&I==="onScroll"&&qe("scroll",d)}switch(l){case"input":En(d),In(d,v,!0);break;case"textarea":En(d),Ce(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Dc)}d=f,s.updateQueue=d,d!==null&&(s.flags|=4)}else{I=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ae(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=I.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=I.createElement(l,{is:d.is}):(r=I.createElement(l),l==="select"&&(I=r,d.multiple?I.multiple=!0:d.size&&(I.size=d.size))):r=I.createElementNS(r,l),r[ci]=s,r[Wl]=d,xy(r,s,!1,!1),s.stateNode=r;e:{switch(I=Qn(l,d),l){case"dialog":qe("cancel",r),qe("close",r),f=d;break;case"iframe":case"object":case"embed":qe("load",r),f=d;break;case"video":case"audio":for(f=0;f<te.length;f++)qe(te[f],r);f=d;break;case"source":qe("error",r),f=d;break;case"img":case"image":case"link":qe("error",r),qe("load",r),f=d;break;case"details":qe("toggle",r),f=d;break;case"input":Or(r,d),f=mr(r,d),qe("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=me({},d,{value:void 0}),qe("invalid",r);break;case"textarea":fe(r,d),f=G(r,d),qe("invalid",r);break;default:f=d}_o(l,f),R=f;for(v in R)if(R.hasOwnProperty(v)){var V=R[v];v==="style"?Xr(r,V):v==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Jt(r,V)):v==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&Vn(r,V):typeof V=="number"&&Vn(r,""+V):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?V!=null&&v==="onScroll"&&qe("scroll",r):V!=null&&Z(r,v,V,I))}switch(l){case"input":En(r),In(r,d,!1);break;case"textarea":En(r),Ce(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ze(d.value));break;case"select":r.multiple=!!d.multiple,v=d.value,v!=null?ft(r,!!d.multiple,v,!1):d.defaultValue!=null&&ft(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Dc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return mn(s),null;case 6:if(r&&s.stateNode!=null)Ny(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=zo(Xl.current),zo(di.current),$c(s)){if(d=s.stateNode,l=s.memoizedProps,d[ci]=s,(v=d.nodeValue!==l)&&(r=ur,r!==null))switch(r.tag){case 3:Nc(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Nc(d.nodeValue,l,(r.mode&1)!==0)}v&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[ci]=s,s.stateNode=d}return mn(s),null;case 13:if(yt(bt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Tt&&cr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Lg(),Qa(),s.flags|=98560,v=!1;else if(v=$c(s),d!==null&&d.dehydrated!==null){if(r===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[ci]=s}else Qa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mn(s),v=!1}else Br!==null&&(Bf(Br),Br=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(bt.current&1)!==0?qt===0&&(qt=3):Hf())),s.updateQueue!==null&&(s.flags|=4),mn(s),null);case 4:return Za(),xf(r,s),r===null&&ql(s.stateNode.containerInfo),mn(s),null;case 10:return sf(s.type._context),mn(s),null;case 17:return $n(s.type)&&Lc(),mn(s),null;case 19:if(yt(bt),v=s.memoizedState,v===null)return mn(s),null;if(d=(s.flags&128)!==0,I=v.rendering,I===null)if(d)nu(v,!1);else{if(qt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(I=Kc(r),I!==null){for(s.flags|=128,nu(v,!1),d=I.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)v=l,r=d,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,r=I.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return mt(bt,bt.current&1|2),s.child}r=r.sibling}v.tail!==null&&lt()>rl&&(s.flags|=128,d=!0,nu(v,!1),s.lanes=4194304)}else{if(!d)if(r=Kc(I),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),nu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!Tt)return mn(s),null}else 2*lt()-v.renderingStartTime>rl&&l!==1073741824&&(s.flags|=128,d=!0,nu(v,!1),s.lanes=4194304);v.isBackwards?(I.sibling=s.child,s.child=I):(l=v.last,l!==null?l.sibling=I:s.child=I,v.last=I)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=lt(),s.sibling=null,l=bt.current,mt(bt,d?l&1|2:l&1),s):(mn(s),null);case 22:case 23:return qf(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(dr&1073741824)!==0&&(mn(s),s.subtreeFlags&6&&(s.flags|=8192)):mn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function vI(r,s){switch(Jh(s),s.tag){case 1:return $n(s.type)&&Lc(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Za(),yt(Un),yt(fn),hf(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return cf(s),null;case 13:if(yt(bt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Qa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return yt(bt),null;case 4:return Za(),null;case 10:return sf(s.type._context),null;case 22:case 23:return qf(),null;case 24:return null;default:return null}}var nd=!1,gn=!1,_I=typeof WeakSet=="function"?WeakSet:Set,ve=null;function tl(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){kt(r,s,d)}else l.current=null}function Of(r,s,l){try{l()}catch(d){kt(r,s,d)}}var Dy=!1;function wI(r,s){if(zh=si,r=li(),Fa(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var I=0,R=-1,V=-1,Q=0,oe=0,le=r,se=null;t:for(;;){for(var ge;le!==l||f!==0&&le.nodeType!==3||(R=I+f),le!==v||d!==0&&le.nodeType!==3||(V=I+d),le.nodeType===3&&(I+=le.nodeValue.length),(ge=le.firstChild)!==null;)se=le,le=ge;for(;;){if(le===r)break t;if(se===l&&++Q===f&&(R=I),se===v&&++oe===d&&(V=I),(ge=le.nextSibling)!==null)break;le=se,se=le.parentNode}le=ge}l=R===-1||V===-1?null:{start:R,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(qh={focusedElem:r,selectionRange:l},si=!1,ve=s;ve!==null;)if(s=ve,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ve=r;else for(;ve!==null;){s=ve;try{var we=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Te=we.memoizedProps,Nt=we.memoizedState,H=s.stateNode,j=H.getSnapshotBeforeUpdate(s.elementType===s.type?Te:zr(s.type,Te),Nt);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){kt(s,s.return,ce)}if(r=s.sibling,r!==null){r.return=s.return,ve=r;break}ve=s.return}return we=Dy,Dy=!1,we}function ru(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var v=f.destroy;f.destroy=void 0,v!==void 0&&Of(s,l,v)}f=f.next}while(f!==d)}}function rd(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Nf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Vy(r){var s=r.alternate;s!==null&&(r.alternate=null,Vy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ci],delete s[Wl],delete s[Gh],delete s[nI],delete s[rI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ly(r){return r.tag===5||r.tag===3||r.tag===4}function My(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ly(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Df(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Dc));else if(d!==4&&(r=r.child,r!==null))for(Df(r,s,l),r=r.sibling;r!==null;)Df(r,s,l),r=r.sibling}function Vf(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Vf(r,s,l),r=r.sibling;r!==null;)Vf(r,s,l),r=r.sibling}var nn=null,qr=!1;function Ms(r,s,l){for(l=l.child;l!==null;)Fy(r,s,l),l=l.sibling}function Fy(r,s,l){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(ki,l)}catch{}switch(l.tag){case 5:gn||tl(l,s);case 6:var d=nn,f=qr;nn=null,Ms(r,s,l),nn=d,qr=f,nn!==null&&(qr?(r=nn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):nn.removeChild(l.stateNode));break;case 18:nn!==null&&(qr?(r=nn,l=l.stateNode,r.nodeType===8?Kh(r.parentNode,l):r.nodeType===1&&Kh(r,l),rr(r)):Kh(nn,l.stateNode));break;case 4:d=nn,f=qr,nn=l.stateNode.containerInfo,qr=!0,Ms(r,s,l),nn=d,qr=f;break;case 0:case 11:case 14:case 15:if(!gn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var v=f,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&Of(l,s,I),f=f.next}while(f!==d)}Ms(r,s,l);break;case 1:if(!gn&&(tl(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(R){kt(l,s,R)}Ms(r,s,l);break;case 21:Ms(r,s,l);break;case 22:l.mode&1?(gn=(d=gn)||l.memoizedState!==null,Ms(r,s,l),gn=d):Ms(r,s,l);break;default:Ms(r,s,l)}}function jy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new _I),s.forEach(function(d){var f=kI.bind(null,r,d);l.has(d)||(l.add(d),d.then(f,f))})}}function Hr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var v=r,I=s,R=I;e:for(;R!==null;){switch(R.tag){case 5:nn=R.stateNode,qr=!1;break e;case 3:nn=R.stateNode.containerInfo,qr=!0;break e;case 4:nn=R.stateNode.containerInfo,qr=!0;break e}R=R.return}if(nn===null)throw Error(t(160));Fy(v,I,f),nn=null,qr=!1;var V=f.alternate;V!==null&&(V.return=null),f.return=null}catch(Q){kt(f,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Uy(s,r),s=s.sibling}function Uy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Hr(s,r),fi(r),d&4){try{ru(3,r,r.return),rd(3,r)}catch(Te){kt(r,r.return,Te)}try{ru(5,r,r.return)}catch(Te){kt(r,r.return,Te)}}break;case 1:Hr(s,r),fi(r),d&512&&l!==null&&tl(l,l.return);break;case 5:if(Hr(s,r),fi(r),d&512&&l!==null&&tl(l,l.return),r.flags&32){var f=r.stateNode;try{Vn(f,"")}catch(Te){kt(r,r.return,Te)}}if(d&4&&(f=r.stateNode,f!=null)){var v=r.memoizedProps,I=l!==null?l.memoizedProps:v,R=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&Be(f,v),Qn(R,I);var Q=Qn(R,v);for(I=0;I<V.length;I+=2){var oe=V[I],le=V[I+1];oe==="style"?Xr(f,le):oe==="dangerouslySetInnerHTML"?Jt(f,le):oe==="children"?Vn(f,le):Z(f,oe,le,Q)}switch(R){case"input":Wt(f,v);break;case"textarea":pe(f,v);break;case"select":var se=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!v.multiple;var ge=v.value;ge!=null?ft(f,!!v.multiple,ge,!1):se!==!!v.multiple&&(v.defaultValue!=null?ft(f,!!v.multiple,v.defaultValue,!0):ft(f,!!v.multiple,v.multiple?[]:"",!1))}f[Wl]=v}catch(Te){kt(r,r.return,Te)}}break;case 6:if(Hr(s,r),fi(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,v=r.memoizedProps;try{f.nodeValue=v}catch(Te){kt(r,r.return,Te)}}break;case 3:if(Hr(s,r),fi(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{rr(s.containerInfo)}catch(Te){kt(r,r.return,Te)}break;case 4:Hr(s,r),fi(r);break;case 13:Hr(s,r),fi(r),f=r.child,f.flags&8192&&(v=f.memoizedState!==null,f.stateNode.isHidden=v,!v||f.alternate!==null&&f.alternate.memoizedState!==null||(Ff=lt())),d&4&&jy(r);break;case 22:if(oe=l!==null&&l.memoizedState!==null,r.mode&1?(gn=(Q=gn)||oe,Hr(s,r),gn=Q):Hr(s,r),fi(r),d&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!oe&&(r.mode&1)!==0)for(ve=r,oe=r.child;oe!==null;){for(le=ve=oe;ve!==null;){switch(se=ve,ge=se.child,se.tag){case 0:case 11:case 14:case 15:ru(4,se,se.return);break;case 1:tl(se,se.return);var we=se.stateNode;if(typeof we.componentWillUnmount=="function"){d=se,l=se.return;try{s=d,we.props=s.memoizedProps,we.state=s.memoizedState,we.componentWillUnmount()}catch(Te){kt(d,l,Te)}}break;case 5:tl(se,se.return);break;case 22:if(se.memoizedState!==null){zy(le);continue}}ge!==null?(ge.return=se,ve=ge):zy(le)}oe=oe.sibling}e:for(oe=null,le=r;;){if(le.tag===5){if(oe===null){oe=le;try{f=le.stateNode,Q?(v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=le.stateNode,V=le.memoizedProps.style,I=V!=null&&V.hasOwnProperty("display")?V.display:null,R.style.display=Yr("display",I))}catch(Te){kt(r,r.return,Te)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=Q?"":le.memoizedProps}catch(Te){kt(r,r.return,Te)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===r)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===r)break e;for(;le.sibling===null;){if(le.return===null||le.return===r)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Hr(s,r),fi(r),d&4&&jy(r);break;case 21:break;default:Hr(s,r),fi(r)}}function fi(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Ly(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(Vn(f,""),d.flags&=-33);var v=My(r);Vf(r,v,f);break;case 3:case 4:var I=d.stateNode.containerInfo,R=My(r);Df(r,R,I);break;default:throw Error(t(161))}}catch(V){kt(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function EI(r,s,l){ve=r,$y(r)}function $y(r,s,l){for(var d=(r.mode&1)!==0;ve!==null;){var f=ve,v=f.child;if(f.tag===22&&d){var I=f.memoizedState!==null||nd;if(!I){var R=f.alternate,V=R!==null&&R.memoizedState!==null||gn;R=nd;var Q=gn;if(nd=I,(gn=V)&&!Q)for(ve=f;ve!==null;)I=ve,V=I.child,I.tag===22&&I.memoizedState!==null?qy(f):V!==null?(V.return=I,ve=V):qy(f);for(;v!==null;)ve=v,$y(v),v=v.sibling;ve=f,nd=R,gn=Q}By(r)}else(f.subtreeFlags&8772)!==0&&v!==null?(v.return=f,ve=v):By(r)}}function By(r){for(;ve!==null;){var s=ve;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:gn||rd(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!gn)if(l===null)d.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:zr(s.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&zg(s,v,d);break;case 3:var I=s.updateQueue;if(I!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}zg(s,I,l)}break;case 5:var R=s.stateNode;if(l===null&&s.flags&4){l=R;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var oe=Q.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&rr(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}gn||s.flags&512&&Nf(s)}catch(se){kt(s,s.return,se)}}if(s===r){ve=null;break}if(l=s.sibling,l!==null){l.return=s.return,ve=l;break}ve=s.return}}function zy(r){for(;ve!==null;){var s=ve;if(s===r){ve=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ve=l;break}ve=s.return}}function qy(r){for(;ve!==null;){var s=ve;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{rd(4,s)}catch(V){kt(s,l,V)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var f=s.return;try{d.componentDidMount()}catch(V){kt(s,f,V)}}var v=s.return;try{Nf(s)}catch(V){kt(s,v,V)}break;case 5:var I=s.return;try{Nf(s)}catch(V){kt(s,I,V)}}}catch(V){kt(s,s.return,V)}if(s===r){ve=null;break}var R=s.sibling;if(R!==null){R.return=s.return,ve=R;break}ve=s.return}}var TI=Math.ceil,id=he.ReactCurrentDispatcher,Lf=he.ReactCurrentOwner,kr=he.ReactCurrentBatchConfig,et=0,Gt=null,Ft=null,rn=0,dr=0,nl=Os(0),qt=0,iu=null,Ho=0,sd=0,Mf=0,su=null,zn=null,Ff=0,rl=1/0,Ki=null,od=!1,jf=null,Fs=null,ad=!1,js=null,ld=0,ou=0,Uf=null,ud=-1,cd=0;function Nn(){return(et&6)!==0?lt():ud!==-1?ud:ud=lt()}function Us(r){return(r.mode&1)===0?1:(et&2)!==0&&rn!==0?rn&-rn:sI.transition!==null?(cd===0&&(cd=Ni()),cd):(r=We,r!==0||(r=window.event,r=r===void 0?16:ko(r.type)),r)}function Wr(r,s,l,d){if(50<ou)throw ou=0,Uf=null,Error(t(185));Lr(r,l,d),((et&2)===0||r!==Gt)&&(r===Gt&&((et&2)===0&&(sd|=l),qt===4&&$s(r,rn)),qn(r,d),l===1&&et===0&&(s.mode&1)===0&&(rl=lt()+500,Fc&&Ds()))}function qn(r,s){var l=r.callbackNode;vr(r,s);var d=Oi(r,r===Gt?rn:0);if(d===0)l!==null&&So(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&So(l),s===1)r.tag===0?iI(Wy.bind(null,r)):xg(Wy.bind(null,r)),eI(function(){(et&6)===0&&Ds()}),l=null;else{switch(ri(d)){case 1:l=Pi;break;case 4:l=ti;break;case 16:l=An;break;case 536870912:l=bo;break;default:l=An}l=ev(l,Hy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Hy(r,s){if(ud=-1,cd=0,(et&6)!==0)throw Error(t(327));var l=r.callbackNode;if(il()&&r.callbackNode!==l)return null;var d=Oi(r,r===Gt?rn:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=dd(r,d);else{s=d;var f=et;et|=2;var v=Gy();(Gt!==r||rn!==s)&&(Ki=null,rl=lt()+500,Ko(r,s));do try{AI();break}catch(R){Ky(r,R)}while(!0);rf(),id.current=v,et=f,Ft!==null?s=0:(Gt=null,rn=0,s=qt)}if(s!==0){if(s===2&&(f=Cn(r),f!==0&&(d=f,s=$f(r,f))),s===1)throw l=iu,Ko(r,0),$s(r,d),qn(r,lt()),l;if(s===6)$s(r,d);else{if(f=r.current.alternate,(d&30)===0&&!II(f)&&(s=dd(r,d),s===2&&(v=Cn(r),v!==0&&(d=v,s=$f(r,v))),s===1))throw l=iu,Ko(r,0),$s(r,d),qn(r,lt()),l;switch(r.finishedWork=f,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Go(r,zn,Ki);break;case 3:if($s(r,d),(d&130023424)===d&&(s=Ff+500-lt(),10<s)){if(Oi(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){Nn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Wh(Go.bind(null,r,zn,Ki),s);break}Go(r,zn,Ki);break;case 4:if($s(r,d),(d&4194240)===d)break;for(s=r.eventTimes,f=-1;0<d;){var I=31-Zt(d);v=1<<I,I=s[I],I>f&&(f=I),d&=~v}if(d=f,d=lt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*TI(d/1960))-d,10<d){r.timeoutHandle=Wh(Go.bind(null,r,zn,Ki),d);break}Go(r,zn,Ki);break;case 5:Go(r,zn,Ki);break;default:throw Error(t(329))}}}return qn(r,lt()),r.callbackNode===l?Hy.bind(null,r):null}function $f(r,s){var l=su;return r.current.memoizedState.isDehydrated&&(Ko(r,s).flags|=256),r=dd(r,s),r!==2&&(s=zn,zn=l,s!==null&&Bf(s)),r}function Bf(r){zn===null?zn=r:zn.push.apply(zn,r)}function II(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],v=f.getSnapshot;f=f.value;try{if(!or(v(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $s(r,s){for(s&=~Mf,s&=~sd,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Zt(s),d=1<<l;r[l]=-1,s&=~d}}function Wy(r){if((et&6)!==0)throw Error(t(327));il();var s=Oi(r,0);if((s&1)===0)return qn(r,lt()),null;var l=dd(r,s);if(r.tag!==0&&l===2){var d=Cn(r);d!==0&&(s=d,l=$f(r,d))}if(l===1)throw l=iu,Ko(r,0),$s(r,s),qn(r,lt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Go(r,zn,Ki),qn(r,lt()),null}function zf(r,s){var l=et;et|=1;try{return r(s)}finally{et=l,et===0&&(rl=lt()+500,Fc&&Ds())}}function Wo(r){js!==null&&js.tag===0&&(et&6)===0&&il();var s=et;et|=1;var l=kr.transition,d=We;try{if(kr.transition=null,We=1,r)return r()}finally{We=d,kr.transition=l,et=s,(et&6)===0&&Ds()}}function qf(){dr=nl.current,yt(nl)}function Ko(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,ZT(l)),Ft!==null)for(l=Ft.return;l!==null;){var d=l;switch(Jh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Lc();break;case 3:Za(),yt(Un),yt(fn),hf();break;case 5:cf(d);break;case 4:Za();break;case 13:yt(bt);break;case 19:yt(bt);break;case 10:sf(d.type._context);break;case 22:case 23:qf()}l=l.return}if(Gt=r,Ft=r=Bs(r.current,null),rn=dr=s,qt=0,iu=null,Mf=sd=Ho=0,zn=su=null,Bo!==null){for(s=0;s<Bo.length;s++)if(l=Bo[s],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,v=l.pending;if(v!==null){var I=v.next;v.next=f,d.next=I}l.pending=d}Bo=null}return r}function Ky(r,s){do{var l=Ft;try{if(rf(),Gc.current=Jc,Qc){for(var d=Ct.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Qc=!1}if(qo=0,Kt=zt=Ct=null,Jl=!1,Zl=0,Lf.current=null,l===null||l.return===null){qt=1,iu=s,Ft=null;break}e:{var v=r,I=l.return,R=l,V=s;if(s=rn,R.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var Q=V,oe=R,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ge=vy(I);if(ge!==null){ge.flags&=-257,_y(ge,I,R,v,s),ge.mode&1&&yy(v,Q,s),s=ge,V=Q;var we=s.updateQueue;if(we===null){var Te=new Set;Te.add(V),s.updateQueue=Te}else we.add(V);break e}else{if((s&1)===0){yy(v,Q,s),Hf();break e}V=Error(t(426))}}else if(Tt&&R.mode&1){var Nt=vy(I);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),_y(Nt,I,R,v,s),tf(el(V,R));break e}}v=V=el(V,R),qt!==4&&(qt=2),su===null?su=[v]:su.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var H=my(v,V,s);Bg(v,H);break e;case 1:R=V;var j=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Fs===null||!Fs.has(W)))){v.flags|=65536,s&=-s,v.lanes|=s;var ce=gy(v,R,s);Bg(v,ce);break e}}v=v.return}while(v!==null)}Yy(l)}catch(be){s=be,Ft===l&&l!==null&&(Ft=l=l.return);continue}break}while(!0)}function Gy(){var r=id.current;return id.current=Jc,r===null?Jc:r}function Hf(){(qt===0||qt===3||qt===2)&&(qt=4),Gt===null||(Ho&268435455)===0&&(sd&268435455)===0||$s(Gt,rn)}function dd(r,s){var l=et;et|=2;var d=Gy();(Gt!==r||rn!==s)&&(Ki=null,Ko(r,s));do try{SI();break}catch(f){Ky(r,f)}while(!0);if(rf(),et=l,id.current=d,Ft!==null)throw Error(t(261));return Gt=null,rn=0,qt}function SI(){for(;Ft!==null;)Qy(Ft)}function AI(){for(;Ft!==null&&!Ea();)Qy(Ft)}function Qy(r){var s=Zy(r.alternate,r,dr);r.memoizedProps=r.pendingProps,s===null?Yy(r):Ft=s,Lf.current=null}function Yy(r){var s=r;do{var l=s.alternate;if(r=s.return,(s.flags&32768)===0){if(l=yI(l,s,dr),l!==null){Ft=l;return}}else{if(l=vI(l,s),l!==null){l.flags&=32767,Ft=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{qt=6,Ft=null;return}}if(s=s.sibling,s!==null){Ft=s;return}Ft=s=r}while(s!==null);qt===0&&(qt=5)}function Go(r,s,l){var d=We,f=kr.transition;try{kr.transition=null,We=1,bI(r,s,l,d)}finally{kr.transition=f,We=d}return null}function bI(r,s,l,d){do il();while(js!==null);if((et&6)!==0)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(ut(r,v),r===Gt&&(Ft=Gt=null,rn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ad||(ad=!0,ev(An,function(){return il(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=kr.transition,kr.transition=null;var I=We;We=1;var R=et;et|=4,Lf.current=null,wI(r,l),Uy(l,r),$h(qh),si=!!zh,qh=zh=null,r.current=l,EI(l),Ll(),et=R,We=I,kr.transition=v}else r.current=l;if(ad&&(ad=!1,js=r,ld=f),v=r.pendingLanes,v===0&&(Fs=null),Ia(l.stateNode),qn(r,lt()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(od)throw od=!1,r=jf,jf=null,r;return(ld&1)!==0&&r.tag!==0&&il(),v=r.pendingLanes,(v&1)!==0?r===Uf?ou++:(ou=0,Uf=r):ou=0,Ds(),null}function il(){if(js!==null){var r=ri(ld),s=kr.transition,l=We;try{if(kr.transition=null,We=16>r?16:r,js===null)var d=!1;else{if(r=js,js=null,ld=0,(et&6)!==0)throw Error(t(331));var f=et;for(et|=4,ve=r.current;ve!==null;){var v=ve,I=v.child;if((ve.flags&16)!==0){var R=v.deletions;if(R!==null){for(var V=0;V<R.length;V++){var Q=R[V];for(ve=Q;ve!==null;){var oe=ve;switch(oe.tag){case 0:case 11:case 15:ru(8,oe,v)}var le=oe.child;if(le!==null)le.return=oe,ve=le;else for(;ve!==null;){oe=ve;var se=oe.sibling,ge=oe.return;if(Vy(oe),oe===Q){ve=null;break}if(se!==null){se.return=ge,ve=se;break}ve=ge}}}var we=v.alternate;if(we!==null){var Te=we.child;if(Te!==null){we.child=null;do{var Nt=Te.sibling;Te.sibling=null,Te=Nt}while(Te!==null)}}ve=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,ve=I;else e:for(;ve!==null;){if(v=ve,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ru(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,ve=H;break e}ve=v.return}}var j=r.current;for(ve=j;ve!==null;){I=ve;var W=I.child;if((I.subtreeFlags&2064)!==0&&W!==null)W.return=I,ve=W;else e:for(I=j;ve!==null;){if(R=ve,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:rd(9,R)}}catch(be){kt(R,R.return,be)}if(R===I){ve=null;break e}var ce=R.sibling;if(ce!==null){ce.return=R.return,ve=ce;break e}ve=R.return}}if(et=f,Ds(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(ki,r)}catch{}d=!0}return d}finally{We=l,kr.transition=s}}return!1}function Xy(r,s,l){s=el(l,s),s=my(r,s,1),r=Ls(r,s,1),s=Nn(),r!==null&&(Lr(r,1,s),qn(r,s))}function kt(r,s,l){if(r.tag===3)Xy(r,r,l);else for(;s!==null;){if(s.tag===3){Xy(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))){r=el(l,r),r=gy(s,r,1),s=Ls(s,r,1),r=Nn(),s!==null&&(Lr(s,1,r),qn(s,r));break}}s=s.return}}function CI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Nn(),r.pingedLanes|=r.suspendedLanes&l,Gt===r&&(rn&l)===l&&(qt===4||qt===3&&(rn&130023424)===rn&&500>lt()-Ff?Ko(r,0):Mf|=l),qn(r,s)}function Jy(r,s){s===0&&((r.mode&1)===0?s=1:(s=xi,xi<<=1,(xi&130023424)===0&&(xi=4194304)));var l=Nn();r=qi(r,s),r!==null&&(Lr(r,s,l),qn(r,l))}function PI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Jy(r,l)}function kI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Jy(r,l)}var Zy;Zy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Un.current)Bn=!0;else{if((r.lanes&l)===0&&(s.flags&128)===0)return Bn=!1,gI(r,s,l);Bn=(r.flags&131072)!==0}else Bn=!1,Tt&&(s.flags&1048576)!==0&&Og(s,Uc,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;td(r,s),r=s.pendingProps;var f=Wa(s,fn.current);Ja(s,l),f=mf(null,s,d,r,f,l);var v=gf();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,$n(d)?(v=!0,Mc(s)):v=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,lf(s),f.updater=Zc,s.stateNode=f,f._reactInternals=s,Tf(s,d,r,l),s=bf(null,s,d,!0,v,l)):(s.tag=0,Tt&&v&&Xh(s),On(null,s,f,l),s=s.child),s;case 16:d=s.elementType;e:{switch(td(r,s),r=s.pendingProps,f=d._init,d=f(d._payload),s.type=d,f=s.tag=xI(d),r=zr(d,r),f){case 0:s=Af(null,s,d,r,l);break e;case 1:s=Ay(null,s,d,r,l);break e;case 11:s=wy(null,s,d,r,l);break e;case 14:s=Ey(null,s,d,zr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:zr(d,f),Af(r,s,d,f,l);case 1:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:zr(d,f),Ay(r,s,d,f,l);case 3:e:{if(by(s),r===null)throw Error(t(387));d=s.pendingProps,v=s.memoizedState,f=v.element,$g(r,s),Wc(s,d,null,l);var I=s.memoizedState;if(d=I.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){f=el(Error(t(423)),s),s=Cy(r,s,d,l,f);break e}else if(d!==f){f=el(Error(t(424)),s),s=Cy(r,s,d,l,f);break e}else for(cr=xs(s.stateNode.containerInfo.firstChild),ur=s,Tt=!0,Br=null,l=jg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Qa(),d===f){s=Wi(r,s,l);break e}On(r,s,d,l)}s=s.child}return s;case 5:return qg(s),r===null&&ef(s),d=s.type,f=s.pendingProps,v=r!==null?r.memoizedProps:null,I=f.children,Hh(d,f)?I=null:v!==null&&Hh(d,v)&&(s.flags|=32),Sy(r,s),On(r,s,I,l),s.child;case 6:return r===null&&ef(s),null;case 13:return Py(r,s,l);case 4:return uf(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Ya(s,null,d,l):On(r,s,d,l),s.child;case 11:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:zr(d,f),wy(r,s,d,f,l);case 7:return On(r,s,s.pendingProps,l),s.child;case 8:return On(r,s,s.pendingProps.children,l),s.child;case 12:return On(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,f=s.pendingProps,v=s.memoizedProps,I=f.value,mt(zc,d._currentValue),d._currentValue=I,v!==null)if(or(v.value,I)){if(v.children===f.children&&!Un.current){s=Wi(r,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var R=v.dependencies;if(R!==null){I=v.child;for(var V=R.firstContext;V!==null;){if(V.context===d){if(v.tag===1){V=Hi(-1,l&-l),V.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var oe=Q.pending;oe===null?V.next=V:(V.next=oe.next,oe.next=V),Q.pending=V}}v.lanes|=l,V=v.alternate,V!==null&&(V.lanes|=l),of(v.return,l,s),R.lanes|=l;break}V=V.next}}else if(v.tag===10)I=v.type===s.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(t(341));I.lanes|=l,R=I.alternate,R!==null&&(R.lanes|=l),of(I,l,s),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===s){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}On(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,d=s.pendingProps.children,Ja(s,l),f=Cr(f),d=d(f),s.flags|=1,On(r,s,d,l),s.child;case 14:return d=s.type,f=zr(d,s.pendingProps),f=zr(d.type,f),Ey(r,s,d,f,l);case 15:return Ty(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,f=s.pendingProps,f=s.elementType===d?f:zr(d,f),td(r,s),s.tag=1,$n(d)?(r=!0,Mc(s)):r=!1,Ja(s,l),fy(s,d,f),Tf(s,d,f,l),bf(null,s,d,!0,r,l);case 19:return Ry(r,s,l);case 22:return Iy(r,s,l)}throw Error(t(156,s.tag))};function ev(r,s){return xt(r,s)}function RI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(r,s,l,d){return new RI(r,s,l,d)}function Wf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xI(r){if(typeof r=="function")return Wf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===ht)return 14}return 2}function Bs(r,s){var l=r.alternate;return l===null?(l=Rr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function hd(r,s,l,d,f,v){var I=2;if(d=r,typeof r=="function")Wf(r)&&(I=1);else if(typeof r=="string")I=5;else e:switch(r){case x:return Qo(l.children,f,v,s);case C:I=8,f|=8;break;case N:return r=Rr(12,l,s,f|2),r.elementType=N,r.lanes=v,r;case k:return r=Rr(13,l,s,f),r.elementType=k,r.lanes=v,r;case He:return r=Rr(19,l,s,f),r.elementType=He,r.lanes=v,r;case Ge:return fd(l,f,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:I=10;break e;case F:I=9;break e;case B:I=11;break e;case ht:I=14;break e;case Lt:I=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Rr(I,l,s,f),s.elementType=r,s.type=d,s.lanes=v,s}function Qo(r,s,l,d){return r=Rr(7,r,d,s),r.lanes=l,r}function fd(r,s,l,d){return r=Rr(22,r,d,s),r.elementType=Ge,r.lanes=l,r.stateNode={isHidden:!1},r}function Kf(r,s,l){return r=Rr(6,r,null,s),r.lanes=l,r}function Gf(r,s,l){return s=Rr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function OI(r,s,l,d,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pn(0),this.expirationTimes=Pn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pn(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Qf(r,s,l,d,f,v,I,R,V){return r=new OI(r,s,l,R,V),s===1?(s=1,v===!0&&(s|=8)):s=0,v=Rr(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},lf(v),r}function NI(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function tv(r){if(!r)return Ns;r=r._reactInternals;e:{if(Zn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if($n(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if($n(l))return kg(r,l,s)}return s}function nv(r,s,l,d,f,v,I,R,V){return r=Qf(l,d,!0,r,f,v,I,R,V),r.context=tv(null),l=r.current,d=Nn(),f=Us(l),v=Hi(d,f),v.callback=s??null,Ls(l,v,f),r.current.lanes=f,Lr(r,f,d),qn(r,d),r}function pd(r,s,l,d){var f=s.current,v=Nn(),I=Us(f);return l=tv(l),s.context===null?s.context=l:s.pendingContext=l,s=Hi(v,I),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Ls(f,s,I),r!==null&&(Wr(r,f,I,v),Hc(r,f,I)),I}function md(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function rv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Yf(r,s){rv(r,s),(r=r.alternate)&&rv(r,s)}function DI(){return null}var iv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Xf(r){this._internalRoot=r}gd.prototype.render=Xf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));pd(r,s,null,null)},gd.prototype.unmount=Xf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Wo(function(){pd(null,r,null,null)}),s[Ui]=null}};function gd(r){this._internalRoot=r}gd.prototype.unstable_scheduleHydration=function(r){if(r){var s=Pa();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Er.length&&s!==0&&s<Er[l].priority;l++);Er.splice(l,0,r),l===0&&Po(r)}};function Jf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function yd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function sv(){}function VI(r,s,l,d,f){if(f){if(typeof d=="function"){var v=d;d=function(){var Q=md(I);v.call(Q)}}var I=nv(s,d,r,0,null,!1,!1,"",sv);return r._reactRootContainer=I,r[Ui]=I.current,ql(r.nodeType===8?r.parentNode:r),Wo(),I}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var R=d;d=function(){var Q=md(V);R.call(Q)}}var V=Qf(r,0,!1,null,null,!1,!1,"",sv);return r._reactRootContainer=V,r[Ui]=V.current,ql(r.nodeType===8?r.parentNode:r),Wo(function(){pd(s,V,l,d)}),V}function vd(r,s,l,d,f){var v=l._reactRootContainer;if(v){var I=v;if(typeof f=="function"){var R=f;f=function(){var V=md(I);R.call(V)}}pd(s,I,r,f)}else I=VI(l,s,r,f,d);return md(I)}ba=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ni(s.pendingLanes);l!==0&&(_r(s,l|1),qn(s,lt()),(et&6)===0&&(rl=lt()+500,Ds()))}break;case 13:Wo(function(){var d=qi(r,1);if(d!==null){var f=Nn();Wr(d,r,1,f)}}),Yf(r,1)}},gs=function(r){if(r.tag===13){var s=qi(r,134217728);if(s!==null){var l=Nn();Wr(s,r,134217728,l)}Yf(r,134217728)}},Ca=function(r){if(r.tag===13){var s=Us(r),l=qi(r,s);if(l!==null){var d=Nn();Wr(l,r,s,d)}Yf(r,s)}},Pa=function(){return We},ka=function(r,s){var l=We;try{return We=r,s()}finally{We=l}},hs=function(r,s,l){switch(s){case"input":if(Wt(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var f=Vc(d);if(!f)throw Error(t(90));Rt(d),Wt(d,f)}}}break;case"textarea":pe(r,l);break;case"select":s=l.value,s!=null&&ft(r,!!l.multiple,s,!1)}},Yn=zf,Eo=Wo;var LI={usingClientEntryPoint:!1,Events:[Kl,qa,Vc,yr,wo,zf]},au={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MI={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ms(r),r===null?null:r.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||DI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{ki=_d.inject(MI),bn=_d}catch{}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LI,Hn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(s))throw Error(t(200));return NI(r,s,null,l)},Hn.createRoot=function(r,s){if(!Jf(r))throw Error(t(299));var l=!1,d="",f=iv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Qf(r,1,!1,null,null,l,!1,d,f),r[Ui]=s.current,ql(r.nodeType===8?r.parentNode:r),new Xf(s)},Hn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ms(s),r=r===null?null:r.stateNode,r},Hn.flushSync=function(r){return Wo(r)},Hn.hydrate=function(r,s,l){if(!yd(s))throw Error(t(200));return vd(null,r,s,!0,l)},Hn.hydrateRoot=function(r,s,l){if(!Jf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,v="",I=iv;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),s=nv(s,null,r,1,l??null,f,!1,v,I),r[Ui]=s.current,ql(r),d)for(r=0;r<d.length;r++)l=d[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new gd(s)},Hn.render=function(r,s,l){if(!yd(s))throw Error(t(200));return vd(null,r,s,!1,l)},Hn.unmountComponentAtNode=function(r){if(!yd(r))throw Error(t(40));return r._reactRootContainer?(Wo(function(){vd(null,null,r,!1,function(){r._reactRootContainer=null,r[Ui]=null})}),!0):!1},Hn.unstable_batchedUpdates=zf,Hn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!yd(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return vd(r,s,l,!1,d)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var fv;function Lw(){if(fv)return tp.exports;fv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tp.exports=KI(),tp.exports}var pv;function GI(){if(pv)return wd;pv=1;var n=Lw();return wd.createRoot=n.createRoot,wd.hydrateRoot=n.hydrateRoot,wd}var QI=GI();Lw();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Au.apply(this,arguments)}var Xs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Xs||(Xs={}));const mv="popstate";function YI(n){n===void 0&&(n={});function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return Op("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:$d(o)}return JI(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mw(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XI(){return Math.random().toString(36).substr(2,8)}function gv(n,e){return{usr:n.state,key:n.key,idx:e}}function Op(n,e,t,i){return t===void 0&&(t=null),Au({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?bl(e):e,{state:t,key:e&&e.key||i||XI()})}function $d(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function bl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function JI(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h=Xs.Pop,p=null,_=E();_==null&&(_=0,u.replaceState(Au({},u.state,{idx:_}),""));function E(){return(u.state||{idx:null}).idx}function S(){h=Xs.Pop;let O=E(),z=O==null?null:O-_;_=O,p&&p({action:h,location:L.location,delta:z})}function A(O,z){h=Xs.Push;let K=Op(L.location,O,z);_=E()+1;let Z=gv(K,_),he=L.createHref(K);try{u.pushState(Z,"",he)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;o.location.assign(he)}a&&p&&p({action:h,location:L.location,delta:1})}function D(O,z){h=Xs.Replace;let K=Op(L.location,O,z);_=E();let Z=gv(K,_),he=L.createHref(K);u.replaceState(Z,"",he),a&&p&&p({action:h,location:L.location,delta:0})}function U(O){let z=o.location.origin!=="null"?o.location.origin:o.location.href,K=typeof O=="string"?O:$d(O);return K=K.replace(/ $/,"%20"),Vt(z,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,z)}let L={get action(){return h},get location(){return n(o,u)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(mv,S),p=O,()=>{o.removeEventListener(mv,S),p=null}},createHref(O){return e(o,O)},createURL:U,encodeLocation(O){let z=U(O);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:A,replace:D,go(O){return u.go(O)}};return L}var yv;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(yv||(yv={}));function ZI(n,e,t){return t===void 0&&(t="/"),eS(n,e,t)}function eS(n,e,t,i){let o=typeof e=="string"?bl(e):e,a=pm(o.pathname||"/",t);if(a==null)return null;let u=Fw(n);tS(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let _=fS(a);h=cS(u[p],_)}return h}function Fw(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(a,u,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};p.relativePath.startsWith("/")&&(Vt(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let _=eo([i,p.relativePath]),E=t.concat(p);a.children&&a.children.length>0&&(Vt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),Fw(a.children,e,E,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:lS(_,a.index),routesMeta:E})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let p of jw(a.path))o(a,u,p)}),e}function jw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=jw(i.join("/")),h=[];return h.push(...u.map(p=>p===""?a:[a,p].join("/"))),o&&h.push(...u),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function tS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const nS=/^:[\w-]+$/,rS=3,iS=2,sS=1,oS=10,aS=-2,vv=n=>n==="*";function lS(n,e){let t=n.split("/"),i=t.length;return t.some(vv)&&(i+=aS),e&&(i+=iS),t.filter(o=>!vv(o)).reduce((o,a)=>o+(nS.test(a)?rS:a===""?sS:oS),i)}function uS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function cS(n,e,t){let{routesMeta:i}=n,o={},a="/",u=[];for(let h=0;h<i.length;++h){let p=i[h],_=h===i.length-1,E=a==="/"?e:e.slice(a.length)||"/",S=dS({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},E),A=p.route;if(!S)return null;Object.assign(o,S.params),u.push({params:o,pathname:eo([a,S.pathname]),pathnameBase:yS(eo([a,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(a=eo([a,S.pathnameBase]))}return u}function dS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=hS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((_,E,S)=>{let{paramName:A,isOptional:D}=E;if(A==="*"){let L=h[S]||"";u=a.slice(0,a.length-L.length).replace(/(.)\/+$/,"$1")}const U=h[S];return D&&!U?_[A]=void 0:_[A]=(U||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:u,pattern:n}}function hS(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Mw(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function fS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mw(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function pm(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function pS(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?bl(n):n;return{pathname:t?t.startsWith("/")?t:mS(t,e):e,search:vS(i),hash:_S(o)}}function mS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ip(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mm(n,e){let t=gS(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function gm(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=bl(n):(o=Au({},n),Vt(!o.pathname||!o.pathname.includes("?"),ip("?","pathname","search",o)),Vt(!o.pathname||!o.pathname.includes("#"),ip("#","pathname","hash",o)),Vt(!o.search||!o.search.includes("#"),ip("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let S=e.length-1;if(!i&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}h=S>=0?e[S]:"/"}let p=pS(o,h),_=u&&u!=="/"&&u.endsWith("/"),E=(a||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||E)&&(p.pathname+="/"),p}const eo=n=>n.join("/").replace(/\/\/+/g,"/"),yS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,_S=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function wS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Uw=["post","put","patch","delete"];new Set(Uw);const ES=["get",...Uw];new Set(ES);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bu(){return bu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bu.apply(this,arguments)}const ym=ne.createContext(null),TS=ne.createContext(null),ho=ne.createContext(null),ah=ne.createContext(null),fo=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),$w=ne.createContext(null);function IS(n,e){let{relative:t}=e===void 0?{}:e;Cl()||Vt(!1);let{basename:i,navigator:o}=ne.useContext(ho),{hash:a,pathname:u,search:h}=zw(n,{relative:t}),p=u;return i!=="/"&&(p=u==="/"?i:eo([i,u])),o.createHref({pathname:p,search:h,hash:a})}function Cl(){return ne.useContext(ah)!=null}function zu(){return Cl()||Vt(!1),ne.useContext(ah).location}function Bw(n){ne.useContext(ho).static||ne.useLayoutEffect(n)}function qu(){let{isDataRoute:n}=ne.useContext(fo);return n?LS():SS()}function SS(){Cl()||Vt(!1);let n=ne.useContext(ym),{basename:e,future:t,navigator:i}=ne.useContext(ho),{matches:o}=ne.useContext(fo),{pathname:a}=zu(),u=JSON.stringify(mm(o,t.v7_relativeSplatPath)),h=ne.useRef(!1);return Bw(()=>{h.current=!0}),ne.useCallback(function(_,E){if(E===void 0&&(E={}),!h.current)return;if(typeof _=="number"){i.go(_);return}let S=gm(_,JSON.parse(u),a,E.relative==="path");n==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:eo([e,S.pathname])),(E.replace?i.replace:i.push)(S,E.state,E)},[e,i,u,a,n])}function zw(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=ne.useContext(ho),{matches:o}=ne.useContext(fo),{pathname:a}=zu(),u=JSON.stringify(mm(o,i.v7_relativeSplatPath));return ne.useMemo(()=>gm(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function AS(n,e){return bS(n,e)}function bS(n,e,t,i){Cl()||Vt(!1);let{navigator:o}=ne.useContext(ho),{matches:a}=ne.useContext(fo),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let _=zu(),E;if(e){var S;let O=typeof e=="string"?bl(e):e;p==="/"||(S=O.pathname)!=null&&S.startsWith(p)||Vt(!1),E=O}else E=_;let A=E.pathname||"/",D=A;if(p!=="/"){let O=p.replace(/^\//,"").split("/");D="/"+A.replace(/^\//,"").split("/").slice(O.length).join("/")}let U=ZI(n,{pathname:D}),L=xS(U&&U.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:eo([p,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:eo([p,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,t,i);return e&&L?ne.createElement(ah.Provider,{value:{location:bu({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Xs.Pop}},L):L}function CS(){let n=VS(),e=wS(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),t?ne.createElement("pre",{style:o},t):null,null)}const PS=ne.createElement(CS,null);class kS extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ne.createElement(fo.Provider,{value:this.props.routeContext},ne.createElement($w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RS(n){let{routeContext:e,match:t,children:i}=n,o=ne.useContext(ym);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),ne.createElement(fo.Provider,{value:e},i)}function xS(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=(o=t)==null?void 0:o.errors;if(h!=null){let E=u.findIndex(S=>S.route.id&&h?.[S.route.id]!==void 0);E>=0||Vt(!1),u=u.slice(0,Math.min(u.length,E+1))}let p=!1,_=-1;if(t&&i&&i.v7_partialHydration)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(_=E),S.route.id){let{loaderData:A,errors:D}=t,U=S.route.loader&&A[S.route.id]===void 0&&(!D||D[S.route.id]===void 0);if(S.route.lazy||U){p=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}return u.reduceRight((E,S,A)=>{let D,U=!1,L=null,O=null;t&&(D=h&&S.route.id?h[S.route.id]:void 0,L=S.route.errorElement||PS,p&&(_<0&&A===0?(MS("route-fallback"),U=!0,O=null):_===A&&(U=!0,O=S.route.hydrateFallbackElement||null)));let z=e.concat(u.slice(0,A+1)),K=()=>{let Z;return D?Z=L:U?Z=O:S.route.Component?Z=ne.createElement(S.route.Component,null):S.route.element?Z=S.route.element:Z=E,ne.createElement(RS,{match:S,routeContext:{outlet:E,matches:z,isDataRoute:t!=null},children:Z})};return t&&(S.route.ErrorBoundary||S.route.errorElement||A===0)?ne.createElement(kS,{location:t.location,revalidation:t.revalidation,component:L,error:D,children:K(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):K()},null)}var qw=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(qw||{}),Hw=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Hw||{});function OS(n){let e=ne.useContext(ym);return e||Vt(!1),e}function NS(n){let e=ne.useContext(TS);return e||Vt(!1),e}function DS(n){let e=ne.useContext(fo);return e||Vt(!1),e}function Ww(n){let e=DS(),t=e.matches[e.matches.length-1];return t.route.id||Vt(!1),t.route.id}function VS(){var n;let e=ne.useContext($w),t=NS(),i=Ww();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function LS(){let{router:n}=OS(qw.UseNavigateStable),e=Ww(Hw.UseNavigateStable),t=ne.useRef(!1);return Bw(()=>{t.current=!0}),ne.useCallback(function(o,a){a===void 0&&(a={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,bu({fromRouteId:e},a)))},[n,e])}const _v={};function MS(n,e,t){_v[n]||(_v[n]=!0)}function FS(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Kw(n){let{to:e,replace:t,state:i,relative:o}=n;Cl()||Vt(!1);let{future:a,static:u}=ne.useContext(ho),{matches:h}=ne.useContext(fo),{pathname:p}=zu(),_=qu(),E=gm(e,mm(h,a.v7_relativeSplatPath),p,o==="path"),S=JSON.stringify(E);return ne.useEffect(()=>_(JSON.parse(S),{replace:t,state:i,relative:o}),[_,S,o,t,i]),null}function Xo(n){Vt(!1)}function jS(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Xs.Pop,navigator:a,static:u=!1,future:h}=n;Cl()&&Vt(!1);let p=e.replace(/^\/*/,"/"),_=ne.useMemo(()=>({basename:p,navigator:a,static:u,future:bu({v7_relativeSplatPath:!1},h)}),[p,h,a,u]);typeof i=="string"&&(i=bl(i));let{pathname:E="/",search:S="",hash:A="",state:D=null,key:U="default"}=i,L=ne.useMemo(()=>{let O=pm(E,p);return O==null?null:{location:{pathname:O,search:S,hash:A,state:D,key:U},navigationType:o}},[p,E,S,A,D,U,o]);return L==null?null:ne.createElement(ho.Provider,{value:_},ne.createElement(ah.Provider,{children:t,value:L}))}function US(n){let{children:e,location:t}=n;return AS(Np(e),t)}new Promise(()=>{});function Np(n,e){e===void 0&&(e=[]);let t=[];return ne.Children.forEach(n,(i,o)=>{if(!ne.isValidElement(i))return;let a=[...e,o];if(i.type===ne.Fragment){t.push.apply(t,Np(i.props.children,a));return}i.type!==Xo&&Vt(!1),!i.props.index||!i.props.children||Vt(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Np(i.props.children,a)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dp(){return Dp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dp.apply(this,arguments)}function $S(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function BS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zS(n,e){return n.button===0&&(!e||e==="_self")&&!BS(n)}const qS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HS="6";try{window.__reactRouterVersion=HS}catch{}const WS="startTransition",wv=qI[WS];function KS(n){let{basename:e,children:t,future:i,window:o}=n,a=ne.useRef();a.current==null&&(a.current=YI({window:o,v5Compat:!0}));let u=a.current,[h,p]=ne.useState({action:u.action,location:u.location}),{v7_startTransition:_}=i||{},E=ne.useCallback(S=>{_&&wv?wv(()=>p(S)):p(S)},[p,_]);return ne.useLayoutEffect(()=>u.listen(E),[u,E]),ne.useEffect(()=>FS(i),[i]),ne.createElement(jS,{basename:e,children:t,location:h.location,navigationType:h.action,navigator:u,future:i})}const GS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sp=ne.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:a,replace:u,state:h,target:p,to:_,preventScrollReset:E,viewTransition:S}=e,A=$S(e,qS),{basename:D}=ne.useContext(ho),U,L=!1;if(typeof _=="string"&&QS.test(_)&&(U=_,GS))try{let Z=new URL(window.location.href),he=_.startsWith("//")?new URL(Z.protocol+_):new URL(_),Y=pm(he.pathname,D);he.origin===Z.origin&&Y!=null?_=Y+he.search+he.hash:L=!0}catch{}let O=IS(_,{relative:o}),z=YS(_,{replace:u,state:h,target:p,preventScrollReset:E,relative:o,viewTransition:S});function K(Z){i&&i(Z),Z.defaultPrevented||z(Z)}return ne.createElement("a",Dp({},A,{href:U||O,onClick:L||a?i:K,ref:t,target:p}))});var Ev;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Ev||(Ev={}));var Tv;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Tv||(Tv={}));function YS(n,e){let{target:t,replace:i,state:o,preventScrollReset:a,relative:u,viewTransition:h}=e===void 0?{}:e,p=qu(),_=zu(),E=zw(n,{relative:u});return ne.useCallback(S=>{if(zS(S,t)){S.preventDefault();let A=i!==void 0?i:$d(_)===$d(E);p(n,{replace:A,state:o,preventScrollReset:a,relative:u,viewTransition:h})}},[_,p,E,i,o,t,n,a,u,h])}var XS=function(e){return JS(e)&&!ZS(e)};function JS(n){return!!n&&typeof n=="object"}function ZS(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||nA(n)}var eA=typeof Symbol=="function"&&Symbol.for,tA=eA?Symbol.for("react.element"):60103;function nA(n){return n.$$typeof===tA}function rA(n){return Array.isArray(n)?[]:{}}function Bd(n,e){return e.clone!==!1&&e.isMergeableObject(n)?Cu(rA(n),n,e):n}function iA(n,e,t){return n.concat(e).map(function(i){return Bd(i,t)})}function sA(n,e,t){var i={};return t.isMergeableObject(n)&&Object.keys(n).forEach(function(o){i[o]=Bd(n[o],t)}),Object.keys(e).forEach(function(o){!t.isMergeableObject(e[o])||!n[o]?i[o]=Bd(e[o],t):i[o]=Cu(n[o],e[o],t)}),i}function Cu(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||iA,t.isMergeableObject=t.isMergeableObject||XS;var i=Array.isArray(e),o=Array.isArray(n),a=i===o;return a?i?t.arrayMerge(n,e,t):sA(n,e,t):Bd(e,t)}Cu.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,o){return Cu(i,o,t)},{})};var Vp=Cu,Gw=typeof global=="object"&&global&&global.Object===Object&&global,oA=typeof self=="object"&&self&&self.Object===Object&&self,Ii=Gw||oA||Function("return this")(),ao=Ii.Symbol,Qw=Object.prototype,aA=Qw.hasOwnProperty,lA=Qw.toString,uu=ao?ao.toStringTag:void 0;function uA(n){var e=aA.call(n,uu),t=n[uu];try{n[uu]=void 0;var i=!0}catch{}var o=lA.call(n);return i&&(e?n[uu]=t:delete n[uu]),o}var cA=Object.prototype,dA=cA.toString;function hA(n){return dA.call(n)}var fA="[object Null]",pA="[object Undefined]",Iv=ao?ao.toStringTag:void 0;function fa(n){return n==null?n===void 0?pA:fA:Iv&&Iv in Object(n)?uA(n):hA(n)}function Yw(n,e){return function(t){return n(e(t))}}var vm=Yw(Object.getPrototypeOf,Object);function pa(n){return n!=null&&typeof n=="object"}var mA="[object Object]",gA=Function.prototype,yA=Object.prototype,Xw=gA.toString,vA=yA.hasOwnProperty,_A=Xw.call(Object);function Sv(n){if(!pa(n)||fa(n)!=mA)return!1;var e=vm(n);if(e===null)return!0;var t=vA.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Xw.call(t)==_A}function wA(){this.__data__=[],this.size=0}function Jw(n,e){return n===e||n!==n&&e!==e}function lh(n,e){for(var t=n.length;t--;)if(Jw(n[t][0],e))return t;return-1}var EA=Array.prototype,TA=EA.splice;function IA(n){var e=this.__data__,t=lh(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():TA.call(e,t,1),--this.size,!0}function SA(n){var e=this.__data__,t=lh(e,n);return t<0?void 0:e[t][1]}function AA(n){return lh(this.__data__,n)>-1}function bA(n,e){var t=this.__data__,i=lh(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function as(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}as.prototype.clear=wA;as.prototype.delete=IA;as.prototype.get=SA;as.prototype.has=AA;as.prototype.set=bA;function CA(){this.__data__=new as,this.size=0}function PA(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function kA(n){return this.__data__.get(n)}function RA(n){return this.__data__.has(n)}function Hu(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var xA="[object AsyncFunction]",OA="[object Function]",NA="[object GeneratorFunction]",DA="[object Proxy]";function Zw(n){if(!Hu(n))return!1;var e=fa(n);return e==OA||e==NA||e==xA||e==DA}var op=Ii["__core-js_shared__"],Av=function(){var n=/[^.]+$/.exec(op&&op.keys&&op.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function VA(n){return!!Av&&Av in n}var LA=Function.prototype,MA=LA.toString;function ma(n){if(n!=null){try{return MA.call(n)}catch{}try{return n+""}catch{}}return""}var FA=/[\\^$.*+?()[\]{}|]/g,jA=/^\[object .+?Constructor\]$/,UA=Function.prototype,$A=Object.prototype,BA=UA.toString,zA=$A.hasOwnProperty,qA=RegExp("^"+BA.call(zA).replace(FA,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HA(n){if(!Hu(n)||VA(n))return!1;var e=Zw(n)?qA:jA;return e.test(ma(n))}function WA(n,e){return n?.[e]}function ga(n,e){var t=WA(n,e);return HA(t)?t:void 0}var Pu=ga(Ii,"Map"),ku=ga(Object,"create");function KA(){this.__data__=ku?ku(null):{},this.size=0}function GA(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var QA="__lodash_hash_undefined__",YA=Object.prototype,XA=YA.hasOwnProperty;function JA(n){var e=this.__data__;if(ku){var t=e[n];return t===QA?void 0:t}return XA.call(e,n)?e[n]:void 0}var ZA=Object.prototype,eb=ZA.hasOwnProperty;function tb(n){var e=this.__data__;return ku?e[n]!==void 0:eb.call(e,n)}var nb="__lodash_hash_undefined__";function rb(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=ku&&e===void 0?nb:e,this}function ia(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}ia.prototype.clear=KA;ia.prototype.delete=GA;ia.prototype.get=JA;ia.prototype.has=tb;ia.prototype.set=rb;function ib(){this.size=0,this.__data__={hash:new ia,map:new(Pu||as),string:new ia}}function sb(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function uh(n,e){var t=n.__data__;return sb(e)?t[typeof e=="string"?"string":"hash"]:t.map}function ob(n){var e=uh(this,n).delete(n);return this.size-=e?1:0,e}function ab(n){return uh(this,n).get(n)}function lb(n){return uh(this,n).has(n)}function ub(n,e){var t=uh(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function po(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}po.prototype.clear=ib;po.prototype.delete=ob;po.prototype.get=ab;po.prototype.has=lb;po.prototype.set=ub;var cb=200;function db(n,e){var t=this.__data__;if(t instanceof as){var i=t.__data__;if(!Pu||i.length<cb-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new po(i)}return t.set(n,e),this.size=t.size,this}function Pl(n){var e=this.__data__=new as(n);this.size=e.size}Pl.prototype.clear=CA;Pl.prototype.delete=PA;Pl.prototype.get=kA;Pl.prototype.has=RA;Pl.prototype.set=db;function hb(n,e){for(var t=-1,i=n==null?0:n.length;++t<i&&e(n[t],t,n)!==!1;);return n}var bv=function(){try{var n=ga(Object,"defineProperty");return n({},"",{}),n}catch{}}();function e0(n,e,t){e=="__proto__"&&bv?bv(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var fb=Object.prototype,pb=fb.hasOwnProperty;function t0(n,e,t){var i=n[e];(!(pb.call(n,e)&&Jw(i,t))||t===void 0&&!(e in n))&&e0(n,e,t)}function ch(n,e,t,i){var o=!t;t||(t={});for(var a=-1,u=e.length;++a<u;){var h=e[a],p=void 0;p===void 0&&(p=n[h]),o?e0(t,h,p):t0(t,h,p)}return t}function mb(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var gb="[object Arguments]";function Cv(n){return pa(n)&&fa(n)==gb}var n0=Object.prototype,yb=n0.hasOwnProperty,vb=n0.propertyIsEnumerable,_b=Cv(function(){return arguments}())?Cv:function(n){return pa(n)&&yb.call(n,"callee")&&!vb.call(n,"callee")},Wu=Array.isArray;function wb(){return!1}var r0=typeof fr=="object"&&fr&&!fr.nodeType&&fr,Pv=r0&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,Eb=Pv&&Pv.exports===r0,kv=Eb?Ii.Buffer:void 0,Tb=kv?kv.isBuffer:void 0,i0=Tb||wb,Ib=9007199254740991,Sb=/^(?:0|[1-9]\d*)$/;function Ab(n,e){var t=typeof n;return e=e??Ib,!!e&&(t=="number"||t!="symbol"&&Sb.test(n))&&n>-1&&n%1==0&&n<e}var bb=9007199254740991;function s0(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=bb}var Cb="[object Arguments]",Pb="[object Array]",kb="[object Boolean]",Rb="[object Date]",xb="[object Error]",Ob="[object Function]",Nb="[object Map]",Db="[object Number]",Vb="[object Object]",Lb="[object RegExp]",Mb="[object Set]",Fb="[object String]",jb="[object WeakMap]",Ub="[object ArrayBuffer]",$b="[object DataView]",Bb="[object Float32Array]",zb="[object Float64Array]",qb="[object Int8Array]",Hb="[object Int16Array]",Wb="[object Int32Array]",Kb="[object Uint8Array]",Gb="[object Uint8ClampedArray]",Qb="[object Uint16Array]",Yb="[object Uint32Array]",vt={};vt[Bb]=vt[zb]=vt[qb]=vt[Hb]=vt[Wb]=vt[Kb]=vt[Gb]=vt[Qb]=vt[Yb]=!0;vt[Cb]=vt[Pb]=vt[Ub]=vt[kb]=vt[$b]=vt[Rb]=vt[xb]=vt[Ob]=vt[Nb]=vt[Db]=vt[Vb]=vt[Lb]=vt[Mb]=vt[Fb]=vt[jb]=!1;function Xb(n){return pa(n)&&s0(n.length)&&!!vt[fa(n)]}function _m(n){return function(e){return n(e)}}var o0=typeof fr=="object"&&fr&&!fr.nodeType&&fr,vu=o0&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,Jb=vu&&vu.exports===o0,ap=Jb&&Gw.process,ml=function(){try{var n=vu&&vu.require&&vu.require("util").types;return n||ap&&ap.binding&&ap.binding("util")}catch{}}(),Rv=ml&&ml.isTypedArray,Zb=Rv?_m(Rv):Xb,eC=Object.prototype,tC=eC.hasOwnProperty;function a0(n,e){var t=Wu(n),i=!t&&_b(n),o=!t&&!i&&i0(n),a=!t&&!i&&!o&&Zb(n),u=t||i||o||a,h=u?mb(n.length,String):[],p=h.length;for(var _ in n)(e||tC.call(n,_))&&!(u&&(_=="length"||o&&(_=="offset"||_=="parent")||a&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||Ab(_,p)))&&h.push(_);return h}var nC=Object.prototype;function wm(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||nC;return n===t}var rC=Yw(Object.keys,Object),iC=Object.prototype,sC=iC.hasOwnProperty;function oC(n){if(!wm(n))return rC(n);var e=[];for(var t in Object(n))sC.call(n,t)&&t!="constructor"&&e.push(t);return e}function l0(n){return n!=null&&s0(n.length)&&!Zw(n)}function Em(n){return l0(n)?a0(n):oC(n)}function aC(n,e){return n&&ch(e,Em(e),n)}function lC(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var uC=Object.prototype,cC=uC.hasOwnProperty;function dC(n){if(!Hu(n))return lC(n);var e=wm(n),t=[];for(var i in n)i=="constructor"&&(e||!cC.call(n,i))||t.push(i);return t}function Tm(n){return l0(n)?a0(n,!0):dC(n)}function hC(n,e){return n&&ch(e,Tm(e),n)}var u0=typeof fr=="object"&&fr&&!fr.nodeType&&fr,xv=u0&&typeof pr=="object"&&pr&&!pr.nodeType&&pr,fC=xv&&xv.exports===u0,Ov=fC?Ii.Buffer:void 0,Nv=Ov?Ov.allocUnsafe:void 0;function pC(n,e){if(e)return n.slice();var t=n.length,i=Nv?Nv(t):new n.constructor(t);return n.copy(i),i}function c0(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}function mC(n,e){for(var t=-1,i=n==null?0:n.length,o=0,a=[];++t<i;){var u=n[t];e(u,t,n)&&(a[o++]=u)}return a}function d0(){return[]}var gC=Object.prototype,yC=gC.propertyIsEnumerable,Dv=Object.getOwnPropertySymbols,Im=Dv?function(n){return n==null?[]:(n=Object(n),mC(Dv(n),function(e){return yC.call(n,e)}))}:d0;function vC(n,e){return ch(n,Im(n),e)}function h0(n,e){for(var t=-1,i=e.length,o=n.length;++t<i;)n[o+t]=e[t];return n}var _C=Object.getOwnPropertySymbols,f0=_C?function(n){for(var e=[];n;)h0(e,Im(n)),n=vm(n);return e}:d0;function wC(n,e){return ch(n,f0(n),e)}function p0(n,e,t){var i=e(n);return Wu(n)?i:h0(i,t(n))}function EC(n){return p0(n,Em,Im)}function TC(n){return p0(n,Tm,f0)}var Lp=ga(Ii,"DataView"),Mp=ga(Ii,"Promise"),Fp=ga(Ii,"Set"),jp=ga(Ii,"WeakMap"),Vv="[object Map]",IC="[object Object]",Lv="[object Promise]",Mv="[object Set]",Fv="[object WeakMap]",jv="[object DataView]",SC=ma(Lp),AC=ma(Pu),bC=ma(Mp),CC=ma(Fp),PC=ma(jp),Qi=fa;(Lp&&Qi(new Lp(new ArrayBuffer(1)))!=jv||Pu&&Qi(new Pu)!=Vv||Mp&&Qi(Mp.resolve())!=Lv||Fp&&Qi(new Fp)!=Mv||jp&&Qi(new jp)!=Fv)&&(Qi=function(n){var e=fa(n),t=e==IC?n.constructor:void 0,i=t?ma(t):"";if(i)switch(i){case SC:return jv;case AC:return Vv;case bC:return Lv;case CC:return Mv;case PC:return Fv}return e});var kC=Object.prototype,RC=kC.hasOwnProperty;function xC(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&RC.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Uv=Ii.Uint8Array;function Sm(n){var e=new n.constructor(n.byteLength);return new Uv(e).set(new Uv(n)),e}function OC(n,e){var t=e?Sm(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var NC=/\w*$/;function DC(n){var e=new n.constructor(n.source,NC.exec(n));return e.lastIndex=n.lastIndex,e}var $v=ao?ao.prototype:void 0,Bv=$v?$v.valueOf:void 0;function VC(n){return Bv?Object(Bv.call(n)):{}}function LC(n,e){var t=e?Sm(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var MC="[object Boolean]",FC="[object Date]",jC="[object Map]",UC="[object Number]",$C="[object RegExp]",BC="[object Set]",zC="[object String]",qC="[object Symbol]",HC="[object ArrayBuffer]",WC="[object DataView]",KC="[object Float32Array]",GC="[object Float64Array]",QC="[object Int8Array]",YC="[object Int16Array]",XC="[object Int32Array]",JC="[object Uint8Array]",ZC="[object Uint8ClampedArray]",e2="[object Uint16Array]",t2="[object Uint32Array]";function n2(n,e,t){var i=n.constructor;switch(e){case HC:return Sm(n);case MC:case FC:return new i(+n);case WC:return OC(n,t);case KC:case GC:case QC:case YC:case XC:case JC:case ZC:case e2:case t2:return LC(n,t);case jC:return new i;case UC:case zC:return new i(n);case $C:return DC(n);case BC:return new i;case qC:return VC(n)}}var zv=Object.create,r2=function(){function n(){}return function(e){if(!Hu(e))return{};if(zv)return zv(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function i2(n){return typeof n.constructor=="function"&&!wm(n)?r2(vm(n)):{}}var s2="[object Map]";function o2(n){return pa(n)&&Qi(n)==s2}var qv=ml&&ml.isMap,a2=qv?_m(qv):o2,l2="[object Set]";function u2(n){return pa(n)&&Qi(n)==l2}var Hv=ml&&ml.isSet,c2=Hv?_m(Hv):u2,d2=1,h2=2,f2=4,m0="[object Arguments]",p2="[object Array]",m2="[object Boolean]",g2="[object Date]",y2="[object Error]",g0="[object Function]",v2="[object GeneratorFunction]",_2="[object Map]",w2="[object Number]",y0="[object Object]",E2="[object RegExp]",T2="[object Set]",I2="[object String]",S2="[object Symbol]",A2="[object WeakMap]",b2="[object ArrayBuffer]",C2="[object DataView]",P2="[object Float32Array]",k2="[object Float64Array]",R2="[object Int8Array]",x2="[object Int16Array]",O2="[object Int32Array]",N2="[object Uint8Array]",D2="[object Uint8ClampedArray]",V2="[object Uint16Array]",L2="[object Uint32Array]",gt={};gt[m0]=gt[p2]=gt[b2]=gt[C2]=gt[m2]=gt[g2]=gt[P2]=gt[k2]=gt[R2]=gt[x2]=gt[O2]=gt[_2]=gt[w2]=gt[y0]=gt[E2]=gt[T2]=gt[I2]=gt[S2]=gt[N2]=gt[D2]=gt[V2]=gt[L2]=!0;gt[y2]=gt[g0]=gt[A2]=!1;function _u(n,e,t,i,o,a){var u,h=e&d2,p=e&h2,_=e&f2;if(u!==void 0)return u;if(!Hu(n))return n;var E=Wu(n);if(E){if(u=xC(n),!h)return c0(n,u)}else{var S=Qi(n),A=S==g0||S==v2;if(i0(n))return pC(n,h);if(S==y0||S==m0||A&&!o){if(u=p||A?{}:i2(n),!h)return p?wC(n,hC(u,n)):vC(n,aC(u,n))}else{if(!gt[S])return o?n:{};u=n2(n,S,h)}}a||(a=new Pl);var D=a.get(n);if(D)return D;a.set(n,u),c2(n)?n.forEach(function(O){u.add(_u(O,e,t,O,n,a))}):a2(n)&&n.forEach(function(O,z){u.set(z,_u(O,e,t,z,n,a))});var U=_?p?TC:EC:p?Tm:Em,L=E?void 0:U(n);return hb(L||n,function(O,z){L&&(z=O,O=n[z]),t0(u,z,_u(O,e,t,z,n,a))}),u}var M2=1,F2=4;function du(n){return _u(n,M2|F2)}var lp,Wv;function j2(){if(Wv)return lp;Wv=1;var n=Array.isArray,e=Object.keys,t=Object.prototype.hasOwnProperty,i=typeof Element<"u";function o(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){var h=n(a),p=n(u),_,E,S;if(h&&p){if(E=a.length,E!=u.length)return!1;for(_=E;_--!==0;)if(!o(a[_],u[_]))return!1;return!0}if(h!=p)return!1;var A=a instanceof Date,D=u instanceof Date;if(A!=D)return!1;if(A&&D)return a.getTime()==u.getTime();var U=a instanceof RegExp,L=u instanceof RegExp;if(U!=L)return!1;if(U&&L)return a.toString()==u.toString();var O=e(a);if(E=O.length,E!==e(u).length)return!1;for(_=E;_--!==0;)if(!t.call(u,O[_]))return!1;if(i&&a instanceof Element&&u instanceof Element)return a===u;for(_=E;_--!==0;)if(S=O[_],!(S==="_owner"&&a.$$typeof)&&!o(a[S],u[S]))return!1;return!0}return a!==a&&u!==u}return lp=function(u,h){try{return o(u,h)}catch(p){if(p.message&&p.message.match(/stack|recursion/i)||p.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",p.name,p.message),!1;throw p}},lp}var U2=j2();const Ws=Al(U2);var $2=4;function Kv(n){return _u(n,$2)}function v0(n,e){for(var t=-1,i=n==null?0:n.length,o=Array(i);++t<i;)o[t]=e(n[t],t,n);return o}var B2="[object Symbol]";function Am(n){return typeof n=="symbol"||pa(n)&&fa(n)==B2}var z2="Expected a function";function bm(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(z2);var t=function(){var i=arguments,o=e?e.apply(this,i):i[0],a=t.cache;if(a.has(o))return a.get(o);var u=n.apply(this,i);return t.cache=a.set(o,u)||a,u};return t.cache=new(bm.Cache||po),t}bm.Cache=po;var q2=500;function H2(n){var e=bm(n,function(i){return t.size===q2&&t.clear(),i}),t=e.cache;return e}var W2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K2=/\\(\\)?/g,G2=H2(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(W2,function(t,i,o,a){e.push(o?a.replace(K2,"$1"):i||t)}),e});function Q2(n){if(typeof n=="string"||Am(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var Gv=ao?ao.prototype:void 0,Qv=Gv?Gv.toString:void 0;function _0(n){if(typeof n=="string")return n;if(Wu(n))return v0(n,_0)+"";if(Am(n))return Qv?Qv.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Y2(n){return n==null?"":_0(n)}function w0(n){return Wu(n)?v0(n,Q2):Am(n)?[n]:c0(G2(Y2(n)))}var up={exports:{}},st={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function X2(){if(Yv)return st;Yv=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,_=n?Symbol.for("react.concurrent_mode"):60111,E=n?Symbol.for("react.forward_ref"):60112,S=n?Symbol.for("react.suspense"):60113,A=n?Symbol.for("react.suspense_list"):60120,D=n?Symbol.for("react.memo"):60115,U=n?Symbol.for("react.lazy"):60116,L=n?Symbol.for("react.block"):60121,O=n?Symbol.for("react.fundamental"):60117,z=n?Symbol.for("react.responder"):60118,K=n?Symbol.for("react.scope"):60119;function Z(Y){if(typeof Y=="object"&&Y!==null){var J=Y.$$typeof;switch(J){case e:switch(Y=Y.type,Y){case p:case _:case i:case a:case o:case S:return Y;default:switch(Y=Y&&Y.$$typeof,Y){case h:case E:case U:case D:case u:return Y;default:return J}}case t:return J}}}function he(Y){return Z(Y)===_}return st.AsyncMode=p,st.ConcurrentMode=_,st.ContextConsumer=h,st.ContextProvider=u,st.Element=e,st.ForwardRef=E,st.Fragment=i,st.Lazy=U,st.Memo=D,st.Portal=t,st.Profiler=a,st.StrictMode=o,st.Suspense=S,st.isAsyncMode=function(Y){return he(Y)||Z(Y)===p},st.isConcurrentMode=he,st.isContextConsumer=function(Y){return Z(Y)===h},st.isContextProvider=function(Y){return Z(Y)===u},st.isElement=function(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e},st.isForwardRef=function(Y){return Z(Y)===E},st.isFragment=function(Y){return Z(Y)===i},st.isLazy=function(Y){return Z(Y)===U},st.isMemo=function(Y){return Z(Y)===D},st.isPortal=function(Y){return Z(Y)===t},st.isProfiler=function(Y){return Z(Y)===a},st.isStrictMode=function(Y){return Z(Y)===o},st.isSuspense=function(Y){return Z(Y)===S},st.isValidElementType=function(Y){return typeof Y=="string"||typeof Y=="function"||Y===i||Y===_||Y===a||Y===o||Y===S||Y===A||typeof Y=="object"&&Y!==null&&(Y.$$typeof===U||Y.$$typeof===D||Y.$$typeof===u||Y.$$typeof===h||Y.$$typeof===E||Y.$$typeof===O||Y.$$typeof===z||Y.$$typeof===K||Y.$$typeof===L)},st.typeOf=Z,st}var Xv;function J2(){return Xv||(Xv=1,up.exports=X2()),up.exports}var cp,Jv;function Z2(){if(Jv)return cp;Jv=1;var n=J2(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=o;function u(U){return n.isMemo(U)?o:a[U.$$typeof]||e}var h=Object.defineProperty,p=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,E=Object.getOwnPropertyDescriptor,S=Object.getPrototypeOf,A=Object.prototype;function D(U,L,O){if(typeof L!="string"){if(A){var z=S(L);z&&z!==A&&D(U,z,O)}var K=p(L);_&&(K=K.concat(_(L)));for(var Z=u(U),he=u(L),Y=0;Y<K.length;++Y){var J=K[Y];if(!t[J]&&!(O&&O[J])&&!(he&&he[J])&&!(Z&&Z[J])){var x=E(L,J);try{h(U,J,x)}catch{}}}}return U}return cp=D,cp}var eP=Z2();const tP=Al(eP);function ct(){return ct=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ct.apply(this,arguments)}function E0(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Js(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Zv(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var dh=ne.createContext(void 0);dh.displayName="FormikContext";var nP=dh.Provider,rP=dh.Consumer;function T0(){var n=ne.useContext(dh);return n}var e_=function(e){return Array.isArray(e)&&e.length===0},sn=function(e){return typeof e=="function"},Ku=function(e){return e!==null&&typeof e=="object"},iP=function(e){return String(Math.floor(Number(e)))===e},dp=function(e){return Object.prototype.toString.call(e)==="[object String]"},I0=function(e){return ne.Children.count(e)===0},hp=function(e){return Ku(e)&&sn(e.then)};function It(n,e,t,i){i===void 0&&(i=0);for(var o=w0(e);n&&i<o.length;)n=n[o[i++]];return i!==o.length&&!n||n===void 0?t:n}function gi(n,e,t){for(var i=Kv(n),o=i,a=0,u=w0(e);a<u.length-1;a++){var h=u[a],p=It(n,u.slice(0,a+1));if(p&&(Ku(p)||Array.isArray(p)))o=o[h]=Kv(p);else{var _=u[a+1];o=o[h]=iP(_)&&Number(_)>=0?[]:{}}}return(a===0?n:o)[u[a]]===t?n:(t===void 0?delete o[u[a]]:o[u[a]]=t,a===0&&t===void 0&&delete i[u[a]],i)}function S0(n,e,t,i){t===void 0&&(t=new WeakMap),i===void 0&&(i={});for(var o=0,a=Object.keys(n);o<a.length;o++){var u=a[o],h=n[u];Ku(h)?t.get(h)||(t.set(h,!0),i[u]=Array.isArray(h)?[]:{},S0(h,e,t,i[u])):i[u]=e}return i}function sP(n,e){switch(e.type){case"SET_VALUES":return ct({},n,{values:e.payload});case"SET_TOUCHED":return ct({},n,{touched:e.payload});case"SET_ERRORS":return Ws(n.errors,e.payload)?n:ct({},n,{errors:e.payload});case"SET_STATUS":return ct({},n,{status:e.payload});case"SET_ISSUBMITTING":return ct({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return ct({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return ct({},n,{values:gi(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return ct({},n,{touched:gi(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return ct({},n,{errors:gi(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return ct({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return ct({},n,{touched:S0(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return ct({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ct({},n,{isSubmitting:!1});default:return n}}var Yo={},Ed={};function oP(n){var e=n.validateOnChange,t=e===void 0?!0:e,i=n.validateOnBlur,o=i===void 0?!0:i,a=n.validateOnMount,u=a===void 0?!1:a,h=n.isInitialValid,p=n.enableReinitialize,_=p===void 0?!1:p,E=n.onSubmit,S=Js(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),A=ct({validateOnChange:t,validateOnBlur:o,validateOnMount:u,onSubmit:E},S),D=ne.useRef(A.initialValues),U=ne.useRef(A.initialErrors||Yo),L=ne.useRef(A.initialTouched||Ed),O=ne.useRef(A.initialStatus),z=ne.useRef(!1),K=ne.useRef({});ne.useEffect(function(){return z.current=!0,function(){z.current=!1}},[]);var Z=ne.useState(0),he=Z[1],Y=ne.useRef({values:du(A.initialValues),errors:du(A.initialErrors)||Yo,touched:du(A.initialTouched)||Ed,status:du(A.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),J=Y.current,x=ne.useCallback(function(G){var fe=Y.current;Y.current=sP(fe,G),fe!==Y.current&&he(function(pe){return pe+1})},[]),C=ne.useCallback(function(G,fe){return new Promise(function(pe,Ce){var Ae=A.validate(G,fe);Ae==null?pe(Yo):hp(Ae)?Ae.then(function(ke){pe(ke||Yo)},function(ke){Ce(ke)}):pe(Ae)})},[A.validate]),N=ne.useCallback(function(G,fe){var pe=A.validationSchema,Ce=sn(pe)?pe(fe):pe,Ae=fe&&Ce.validateAt?Ce.validateAt(fe,G):lP(G,Ce);return new Promise(function(ke,at){Ae.then(function(){ke(Yo)},function(Jt){Jt.name==="ValidationError"?ke(aP(Jt)):at(Jt)})})},[A.validationSchema]),M=ne.useCallback(function(G,fe){return new Promise(function(pe){return pe(K.current[G].validate(fe))})},[]),F=ne.useCallback(function(G){var fe=Object.keys(K.current).filter(function(Ce){return sn(K.current[Ce].validate)}),pe=fe.length>0?fe.map(function(Ce){return M(Ce,It(G,Ce))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(pe).then(function(Ce){return Ce.reduce(function(Ae,ke,at){return ke==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ke&&(Ae=gi(Ae,fe[at],ke)),Ae},{})})},[M]),B=ne.useCallback(function(G){return Promise.all([F(G),A.validationSchema?N(G):{},A.validate?C(G):{}]).then(function(fe){var pe=fe[0],Ce=fe[1],Ae=fe[2],ke=Vp.all([pe,Ce,Ae],{arrayMerge:uP});return ke})},[A.validate,A.validationSchema,F,C,N]),k=xr(function(G){return G===void 0&&(G=J.values),x({type:"SET_ISVALIDATING",payload:!0}),B(G).then(function(fe){return z.current&&(x({type:"SET_ISVALIDATING",payload:!1}),x({type:"SET_ERRORS",payload:fe})),fe})});ne.useEffect(function(){u&&z.current===!0&&Ws(D.current,A.initialValues)&&k(D.current)},[u,k]);var He=ne.useCallback(function(G){var fe=G&&G.values?G.values:D.current,pe=G&&G.errors?G.errors:U.current?U.current:A.initialErrors||{},Ce=G&&G.touched?G.touched:L.current?L.current:A.initialTouched||{},Ae=G&&G.status?G.status:O.current?O.current:A.initialStatus;D.current=fe,U.current=pe,L.current=Ce,O.current=Ae;var ke=function(){x({type:"RESET_FORM",payload:{isSubmitting:!!G&&!!G.isSubmitting,errors:pe,touched:Ce,status:Ae,values:fe,isValidating:!!G&&!!G.isValidating,submitCount:G&&G.submitCount&&typeof G.submitCount=="number"?G.submitCount:0}})};if(A.onReset){var at=A.onReset(J.values,Tn);hp(at)?at.then(ke):ke()}else ke()},[A.initialErrors,A.initialStatus,A.initialTouched,A.onReset]);ne.useEffect(function(){z.current===!0&&!Ws(D.current,A.initialValues)&&_&&(D.current=A.initialValues,He(),u&&k(D.current))},[_,A.initialValues,He,u,k]),ne.useEffect(function(){_&&z.current===!0&&!Ws(U.current,A.initialErrors)&&(U.current=A.initialErrors||Yo,x({type:"SET_ERRORS",payload:A.initialErrors||Yo}))},[_,A.initialErrors]),ne.useEffect(function(){_&&z.current===!0&&!Ws(L.current,A.initialTouched)&&(L.current=A.initialTouched||Ed,x({type:"SET_TOUCHED",payload:A.initialTouched||Ed}))},[_,A.initialTouched]),ne.useEffect(function(){_&&z.current===!0&&!Ws(O.current,A.initialStatus)&&(O.current=A.initialStatus,x({type:"SET_STATUS",payload:A.initialStatus}))},[_,A.initialStatus,A.initialTouched]);var ht=xr(function(G){if(K.current[G]&&sn(K.current[G].validate)){var fe=It(J.values,G),pe=K.current[G].validate(fe);return hp(pe)?(x({type:"SET_ISVALIDATING",payload:!0}),pe.then(function(Ce){return Ce}).then(function(Ce){x({type:"SET_FIELD_ERROR",payload:{field:G,value:Ce}}),x({type:"SET_ISVALIDATING",payload:!1})})):(x({type:"SET_FIELD_ERROR",payload:{field:G,value:pe}}),Promise.resolve(pe))}else if(A.validationSchema)return x({type:"SET_ISVALIDATING",payload:!0}),N(J.values,G).then(function(Ce){return Ce}).then(function(Ce){x({type:"SET_FIELD_ERROR",payload:{field:G,value:It(Ce,G)}}),x({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Lt=ne.useCallback(function(G,fe){var pe=fe.validate;K.current[G]={validate:pe}},[]),Ge=ne.useCallback(function(G){delete K.current[G]},[]),ue=xr(function(G,fe){x({type:"SET_TOUCHED",payload:G});var pe=fe===void 0?o:fe;return pe?k(J.values):Promise.resolve()}),Ee=ne.useCallback(function(G){x({type:"SET_ERRORS",payload:G})},[]),me=xr(function(G,fe){var pe=sn(G)?G(J.values):G;x({type:"SET_VALUES",payload:pe});var Ce=fe===void 0?t:fe;return Ce?k(pe):Promise.resolve()}),$=ne.useCallback(function(G,fe){x({type:"SET_FIELD_ERROR",payload:{field:G,value:fe}})},[]),re=xr(function(G,fe,pe){x({type:"SET_FIELD_VALUE",payload:{field:G,value:fe}});var Ce=pe===void 0?t:pe;return Ce?k(gi(J.values,G,fe)):Promise.resolve()}),Se=ne.useCallback(function(G,fe){var pe=fe,Ce=G,Ae;if(!dp(G)){G.persist&&G.persist();var ke=G.target?G.target:G.currentTarget,at=ke.type,Jt=ke.name,Vn=ke.id,Ne=ke.value,Nr=ke.checked;ke.outerHTML;var Yr=ke.options,Xr=ke.multiple;pe=fe||Jt||Vn,Ce=/number|range/.test(at)?(Ae=parseFloat(Ne),isNaN(Ae)?"":Ae):/checkbox/.test(at)?dP(It(J.values,pe),Nr,Ne):Yr&&Xr?cP(Yr):Ne}pe&&re(pe,Ce)},[re,J.values]),Ve=xr(function(G){if(dp(G))return function(fe){return Se(fe,G)};Se(G)}),Oe=xr(function(G,fe,pe){fe===void 0&&(fe=!0),x({type:"SET_FIELD_TOUCHED",payload:{field:G,value:fe}});var Ce=pe===void 0?o:pe;return Ce?k(J.values):Promise.resolve()}),$e=ne.useCallback(function(G,fe){G.persist&&G.persist();var pe=G.target,Ce=pe.name,Ae=pe.id;pe.outerHTML;var ke=fe||Ce||Ae;Oe(ke,!0)},[Oe]),Qe=xr(function(G){if(dp(G))return function(fe){return $e(fe,G)};$e(G)}),ze=ne.useCallback(function(G){sn(G)?x({type:"SET_FORMIK_STATE",payload:G}):x({type:"SET_FORMIK_STATE",payload:function(){return G}})},[]),Ue=ne.useCallback(function(G){x({type:"SET_STATUS",payload:G})},[]),rt=ne.useCallback(function(G){x({type:"SET_ISSUBMITTING",payload:G})},[]),En=xr(function(){return x({type:"SUBMIT_ATTEMPT"}),k().then(function(G){var fe=G instanceof Error,pe=!fe&&Object.keys(G).length===0;if(pe){var Ce;try{if(Ce=mr(),Ce===void 0)return}catch(Ae){throw Ae}return Promise.resolve(Ce).then(function(Ae){return z.current&&x({type:"SUBMIT_SUCCESS"}),Ae}).catch(function(Ae){if(z.current)throw x({type:"SUBMIT_FAILURE"}),Ae})}else if(z.current&&(x({type:"SUBMIT_FAILURE"}),fe))throw G})}),Rt=xr(function(G){G&&G.preventDefault&&sn(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&sn(G.stopPropagation)&&G.stopPropagation(),En().catch(function(fe){console.warn("Warning: An unhandled error was caught from submitForm()",fe)})}),Tn={resetForm:He,validateForm:k,validateField:ht,setErrors:Ee,setFieldError:$,setFieldTouched:Oe,setFieldValue:re,setStatus:Ue,setSubmitting:rt,setTouched:ue,setValues:me,setFormikState:ze,submitForm:En},mr=xr(function(){return E(J.values,Tn)}),Or=xr(function(G){G&&G.preventDefault&&sn(G.preventDefault)&&G.preventDefault(),G&&G.stopPropagation&&sn(G.stopPropagation)&&G.stopPropagation(),He()}),Be=ne.useCallback(function(G){return{value:It(J.values,G),error:It(J.errors,G),touched:!!It(J.touched,G),initialValue:It(D.current,G),initialTouched:!!It(L.current,G),initialError:It(U.current,G)}},[J.errors,J.touched,J.values]),Wt=ne.useCallback(function(G){return{setValue:function(pe,Ce){return re(G,pe,Ce)},setTouched:function(pe,Ce){return Oe(G,pe,Ce)},setError:function(pe){return $(G,pe)}}},[re,Oe,$]),In=ne.useCallback(function(G){var fe=Ku(G),pe=fe?G.name:G,Ce=It(J.values,pe),Ae={name:pe,value:Ce,onChange:Ve,onBlur:Qe};if(fe){var ke=G.type,at=G.value,Jt=G.as,Vn=G.multiple;ke==="checkbox"?at===void 0?Ae.checked=!!Ce:(Ae.checked=!!(Array.isArray(Ce)&&~Ce.indexOf(at)),Ae.value=at):ke==="radio"?(Ae.checked=Ce===at,Ae.value=at):Jt==="select"&&Vn&&(Ae.value=Ae.value||[],Ae.multiple=!0)}return Ae},[Qe,Ve,J.values]),Xt=ne.useMemo(function(){return!Ws(D.current,J.values)},[D.current,J.values]),ot=ne.useMemo(function(){return typeof h<"u"?Xt?J.errors&&Object.keys(J.errors).length===0:h!==!1&&sn(h)?h(A):h:J.errors&&Object.keys(J.errors).length===0},[h,Xt,J.errors,A]),ft=ct({},J,{initialValues:D.current,initialErrors:U.current,initialTouched:L.current,initialStatus:O.current,handleBlur:Qe,handleChange:Ve,handleReset:Or,handleSubmit:Rt,resetForm:He,setErrors:Ee,setFormikState:ze,setFieldTouched:Oe,setFieldValue:re,setFieldError:$,setStatus:Ue,setSubmitting:rt,setTouched:ue,setValues:me,submitForm:En,validateForm:k,validateField:ht,isValid:ot,dirty:Xt,unregisterField:Ge,registerField:Lt,getFieldProps:In,getFieldMeta:Be,getFieldHelpers:Wt,validateOnBlur:o,validateOnChange:t,validateOnMount:u});return ft}function hh(n){var e=oP(n),t=n.component,i=n.children,o=n.render,a=n.innerRef;return ne.useImperativeHandle(a,function(){return e}),ne.createElement(nP,{value:e},t?ne.createElement(t,e):o?o(e):i?sn(i)?i(e):I0(i)?null:ne.Children.only(i):null)}function aP(n){var e={};if(n.inner){if(n.inner.length===0)return gi(e,n.path,n.message);for(var o=n.inner,t=Array.isArray(o),i=0,o=t?o:o[Symbol.iterator]();;){var a;if(t){if(i>=o.length)break;a=o[i++]}else{if(i=o.next(),i.done)break;a=i.value}var u=a;It(e,u.path)||(e=gi(e,u.path,u.message))}}return e}function lP(n,e,t,i){t===void 0&&(t=!1);var o=Up(n);return e[t?"validateSync":"validate"](o,{abortEarly:!1,context:o})}function Up(n){var e=Array.isArray(n)?[]:{};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=String(t);Array.isArray(n[i])===!0?e[i]=n[i].map(function(o){return Array.isArray(o)===!0||Sv(o)?Up(o):o!==""?o:void 0}):Sv(n[i])?e[i]=Up(n[i]):e[i]=n[i]!==""?n[i]:void 0}return e}function uP(n,e,t){var i=n.slice();return e.forEach(function(a,u){if(typeof i[u]>"u"){var h=t.clone!==!1,p=h&&t.isMergeableObject(a);i[u]=p?Vp(Array.isArray(a)?[]:{},a,t):a}else t.isMergeableObject(a)?i[u]=Vp(n[u],a,t):n.indexOf(a)===-1&&i.push(a)}),i}function cP(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function dP(n,e,t){if(typeof n=="boolean")return!!e;var i=[],o=!1,a=-1;if(Array.isArray(n))i=n,a=n.indexOf(t),o=a>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!o?i.concat(t):o?i.slice(0,a).concat(i.slice(a+1)):i}var hP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ne.useLayoutEffect:ne.useEffect;function xr(n){var e=ne.useRef(n);return hP(function(){e.current=n}),ne.useCallback(function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.current.apply(void 0,i)},[])}function Zi(n){var e=n.validate,t=n.name,i=n.render,o=n.children,a=n.as,u=n.component,h=n.className,p=Js(n,["validate","name","render","children","as","component","className"]),_=T0(),E=Js(_,["validate","validationSchema"]),S=E.registerField,A=E.unregisterField;ne.useEffect(function(){return S(t,{validate:e}),function(){A(t)}},[S,A,t,e]);var D=E.getFieldProps(ct({name:t},p)),U=E.getFieldMeta(t),L={field:D,form:E};if(i)return i(ct({},L,{meta:U}));if(sn(o))return o(ct({},L,{meta:U}));if(u){if(typeof u=="string"){var O=p.innerRef,z=Js(p,["innerRef"]);return ne.createElement(u,ct({ref:O},D,z,{className:h}),o)}return ne.createElement(u,ct({field:D,form:E},p,{className:h}),o)}var K=a||"input";if(typeof K=="string"){var Z=p.innerRef,he=Js(p,["innerRef"]);return ne.createElement(K,ct({ref:Z},D,he,{className:h}),o)}return ne.createElement(K,ct({},D,p,{className:h}),o)}var Gu=ne.forwardRef(function(n,e){var t=n.action,i=Js(n,["action"]),o=t??"#",a=T0(),u=a.handleReset,h=a.handleSubmit;return ne.createElement("form",ct({onSubmit:h,ref:e,onReset:u,action:o},i))});Gu.displayName="Form";function fP(n){var e=function(o){return ne.createElement(rP,null,function(a){return ne.createElement(n,ct({},o,{formik:a}))})},t=n.displayName||n.name||n.constructor&&n.constructor.name||"Component";return e.WrappedComponent=n,e.displayName="FormikConnect("+t+")",tP(e,n)}var pP=function(e,t,i){var o=sa(e),a=o[t];return o.splice(t,1),o.splice(i,0,a),o},mP=function(e,t,i){var o=sa(e),a=o[t];return o[t]=o[i],o[i]=a,o},fp=function(e,t,i){var o=sa(e);return o.splice(t,0,i),o},gP=function(e,t,i){var o=sa(e);return o[t]=i,o},sa=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map(function(i){return parseInt(i)}).reduce(function(i,o){return o>i?o:i},0);return Array.from(ct({},e,{length:t+1}))}else return[]},t_=function(e,t){var i=typeof e=="function"?e:t;return function(o){if(Array.isArray(o)||Ku(o)){var a=sa(o);return i(a)}return o}},yP=function(n){E0(e,n);function e(i){var o;return o=n.call(this,i)||this,o.updateArrayField=function(a,u,h){var p=o.props,_=p.name,E=p.formik.setFormikState;E(function(S){var A=t_(h,a),D=t_(u,a),U=gi(S.values,_,a(It(S.values,_))),L=h?A(It(S.errors,_)):void 0,O=u?D(It(S.touched,_)):void 0;return e_(L)&&(L=void 0),e_(O)&&(O=void 0),ct({},S,{values:U,errors:h?gi(S.errors,_,L):S.errors,touched:u?gi(S.touched,_,O):S.touched})})},o.push=function(a){return o.updateArrayField(function(u){return[].concat(sa(u),[du(a)])},!1,!1)},o.handlePush=function(a){return function(){return o.push(a)}},o.swap=function(a,u){return o.updateArrayField(function(h){return mP(h,a,u)},!0,!0)},o.handleSwap=function(a,u){return function(){return o.swap(a,u)}},o.move=function(a,u){return o.updateArrayField(function(h){return pP(h,a,u)},!0,!0)},o.handleMove=function(a,u){return function(){return o.move(a,u)}},o.insert=function(a,u){return o.updateArrayField(function(h){return fp(h,a,u)},function(h){return fp(h,a,null)},function(h){return fp(h,a,null)})},o.handleInsert=function(a,u){return function(){return o.insert(a,u)}},o.replace=function(a,u){return o.updateArrayField(function(h){return gP(h,a,u)},!1,!1)},o.handleReplace=function(a,u){return function(){return o.replace(a,u)}},o.unshift=function(a){var u=-1;return o.updateArrayField(function(h){var p=h?[a].concat(h):[a];return u=p.length,p},function(h){return h?[null].concat(h):[null]},function(h){return h?[null].concat(h):[null]}),u},o.handleUnshift=function(a){return function(){return o.unshift(a)}},o.handleRemove=function(a){return function(){return o.remove(a)}},o.handlePop=function(){return function(){return o.pop()}},o.remove=o.remove.bind(Zv(o)),o.pop=o.pop.bind(Zv(o)),o}var t=e.prototype;return t.componentDidUpdate=function(o){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Ws(It(o.formik.values,o.name),It(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},t.remove=function(o){var a;return this.updateArrayField(function(u){var h=u?sa(u):[];return a||(a=h[o]),sn(h.splice)&&h.splice(o,1),sn(h.every)&&h.every(function(p){return p===void 0})?[]:h},!0,!0),a},t.pop=function(){var o;return this.updateArrayField(function(a){var u=a.slice();return o||(o=u&&u.pop&&u.pop()),u},!0,!0),o},t.render=function(){var o={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},a=this.props,u=a.component,h=a.render,p=a.children,_=a.name,E=a.formik,S=Js(E,["validate","validationSchema"]),A=ct({},o,{form:S,name:_});return u?ne.createElement(u,A):h?h(A):p?typeof p=="function"?p(A):I0(p)?null:ne.Children.only(p):null},e}(ne.Component);yP.defaultProps={validateOnChange:!0};var vP=function(n){E0(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.shouldComponentUpdate=function(o){return It(this.props.formik.errors,this.props.name)!==It(o.formik.errors,this.props.name)||It(this.props.formik.touched,this.props.name)!==It(o.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(o).length},t.render=function(){var o=this.props,a=o.component,u=o.formik,h=o.render,p=o.children,_=o.name,E=Js(o,["component","formik","render","children","name"]),S=It(u.touched,_),A=It(u.errors,_);return S&&A?h?sn(h)?h(A):null:p?sn(p)?p(A):null:a?ne.createElement(a,E,A):A:null},e}(ne.Component),es=fP(vP),pp,n_;function _P(){if(n_)return pp;n_=1;function n(z){this._maxSize=z,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(z){return this._values[z]},n.prototype.set=function(z,K){return this._size>=this._maxSize&&this.clear(),z in this._values||this._size++,this._values[z]=K};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,h=new n(u),p=new n(u),_=new n(u);pp={Cache:n,split:S,normalizePath:E,setter:function(z){var K=E(z);return p.get(z)||p.set(z,function(he,Y){for(var J=0,x=K.length,C=he;J<x-1;){var N=K[J];if(N==="__proto__"||N==="constructor"||N==="prototype")return he;C=C[K[J++]]}C[K[J]]=Y})},getter:function(z,K){var Z=E(z);return _.get(z)||_.set(z,function(Y){for(var J=0,x=Z.length;J<x;)if(Y!=null||!K)Y=Y[Z[J++]];else return;return Y})},join:function(z){return z.reduce(function(K,Z){return K+(D(Z)||t.test(Z)?"["+Z+"]":(K?".":"")+Z)},"")},forEach:function(z,K,Z){A(Array.isArray(z)?z:S(z),K,Z)}};function E(z){return h.get(z)||h.set(z,S(z).map(function(K){return K.replace(a,"$2")}))}function S(z){return z.match(e)||[""]}function A(z,K,Z){var he=z.length,Y,J,x,C;for(J=0;J<he;J++)Y=z[J],Y&&(O(Y)&&(Y='"'+Y+'"'),C=D(Y),x=!C&&/^\d+$/.test(Y),K.call(Z,Y,C,x,J,z))}function D(z){return typeof z=="string"&&z&&["'",'"'].indexOf(z.charAt(0))!==-1}function U(z){return z.match(i)&&!z.match(t)}function L(z){return o.test(z)}function O(z){return!D(z)&&(U(z)||L(z))}return pp}var ta=_P(),mp,r_;function wP(){if(r_)return mp;r_=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=E=>E.match(n)||[],t=E=>E[0].toUpperCase()+E.slice(1),i=(E,S)=>e(E).join(S).toLowerCase(),o=E=>e(E).reduce((S,A)=>`${S}${S?A[0].toUpperCase()+A.slice(1).toLowerCase():A.toLowerCase()}`,"");return mp={words:e,upperFirst:t,camelCase:o,pascalCase:E=>t(o(E)),snakeCase:E=>i(E,"_"),kebabCase:E=>i(E,"-"),sentenceCase:E=>t(i(E," ")),titleCase:E=>e(E).map(t).join(" ")},mp}var gp=wP(),Td={exports:{}},i_;function EP(){if(i_)return Td.exports;i_=1,Td.exports=function(o){return n(e(o),o)},Td.exports.array=n;function n(o,a){var u=o.length,h=new Array(u),p={},_=u,E=t(a),S=i(o);for(a.forEach(function(D){if(!S.has(D[0])||!S.has(D[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});_--;)p[_]||A(o[_],_,new Set);return h;function A(D,U,L){if(L.has(D)){var O;try{O=", node was:"+JSON.stringify(D)}catch{O=""}throw new Error("Cyclic dependency"+O)}if(!S.has(D))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(D));if(!p[U]){p[U]=!0;var z=E.get(D)||new Set;if(z=Array.from(z),U=z.length){L.add(D);do{var K=z[--U];A(K,S.get(K),L)}while(U);L.delete(D)}h[--u]=D}}}function e(o){for(var a=new Set,u=0,h=o.length;u<h;u++){var p=o[u];a.add(p[0]),a.add(p[1])}return Array.from(a)}function t(o){for(var a=new Map,u=0,h=o.length;u<h;u++){var p=o[u];a.has(p[0])||a.set(p[0],new Set),a.has(p[1])||a.set(p[1],new Set),a.get(p[0]).add(p[1])}return a}function i(o){for(var a=new Map,u=0,h=o.length;u<h;u++)a.set(o[u],u);return a}return Td.exports}var TP=EP();const IP=Al(TP),SP=Object.prototype.toString,AP=Error.prototype.toString,bP=RegExp.prototype.toString,CP=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",PP=/^Symbol\((.*)\)(.*)$/;function kP(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function s_(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return kP(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return CP.call(n).replace(PP,"Symbol($1)");const i=SP.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+AP.call(n)+"]":i==="RegExp"?bP.call(n):null}function to(n,e){let t=s_(n,e);return t!==null?t:JSON.stringify(n,function(i,o){let a=s_(this[i],e);return a!==null?a:o},2)}function A0(n){return n==null?[]:[].concat(n)}let b0,C0,P0,RP=/\$\{\s*(\w+)\s*\}/g;b0=Symbol.toStringTag;class o_{constructor(e,t,i,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[b0]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=o,this.errors=[],this.inner=[],A0(e).forEach(a=>{if(Dn.isError(a)){this.errors.push(...a.errors);const u=a.inner.length?a.inner:[a];this.inner.push(...u)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}C0=Symbol.hasInstance;P0=Symbol.toStringTag;class Dn extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace(RP,(o,a)=>to(t[a])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,o,a){const u=new o_(e,t,i,o);if(a)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[P0]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Dn)}static[C0](e){return o_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let pi={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const o=i!=null&&i!==t?` (cast from the value \`${to(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${to(t,!0)}\``+o:`${n} must match the configured type. The validated value was: \`${to(t,!0)}\``+o}},Wn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},xP={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},$p={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},OP={isValue:"${path} field must be ${value}"},kd={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},NP={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},DP={notType:n=>{const{path:e,value:t,spec:i}=n,o=i.types.length;if(Array.isArray(t)){if(t.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${t.length} for value: \`${to(t,!0)}\``;if(t.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${t.length} for value: \`${to(t,!0)}\``}return Dn.formatError(pi.notType,n)}};Object.assign(Object.create(null),{mixed:pi,string:Wn,number:xP,date:$p,object:kd,array:NP,boolean:OP,tuple:DP});const Cm=n=>n&&n.__isYupSchema__;class zd{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:o,otherwise:a}=t,u=typeof i=="function"?i:(...h)=>h.every(p=>p===i);return new zd(e,(h,p)=>{var _;let E=u(...h)?o:a;return(_=E?.(p))!=null?_:p})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(a=>a.getValue(t?.value,t?.parent,t?.context)),o=this.fn(i,e,t);if(o===void 0||o===e)return e;if(!Cm(o))throw new TypeError("conditions must return a schema object");return o.resolve(t)}}const Id={context:"$",value:"."};function VP(n,e){return new mo(n,e)}class mo{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Id.context,this.isValue=this.key[0]===Id.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Id.context:this.isValue?Id.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&ta.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let o=this.isContext?i:this.isValue?e:t;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,t){return this.getValue(e,t?.parent,t?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}mo.prototype.__isYupRef=!0;const Zo=n=>n==null;function sl(n){function e({value:t,path:i="",options:o,originalValue:a,schema:u},h,p){const{name:_,test:E,params:S,message:A,skipAbsent:D}=n;let{parent:U,context:L,abortEarly:O=u.spec.abortEarly,disableStackTrace:z=u.spec.disableStackTrace}=o;const K={value:t,parent:U,context:L};function Z(F={}){const B=k0(Object.assign({value:t,originalValue:a,label:u.spec.label,path:F.path||i,spec:u.spec,disableStackTrace:F.disableStackTrace||z},S,F.params),K),k=new Dn(Dn.formatError(F.message||A,B),t,B.path,F.type||_,B.disableStackTrace);return k.params=B,k}const he=O?h:p;let Y={path:i,parent:U,type:_,from:o.from,createError:Z,resolve(F){return R0(F,K)},options:o,originalValue:a,schema:u};const J=F=>{Dn.isError(F)?he(F):F?p(null):he(Z())},x=F=>{Dn.isError(F)?he(F):h(F)};if(D&&Zo(t))return J(!0);let N;try{var M;if(N=E.call(Y,t,Y),typeof((M=N)==null?void 0:M.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${Y.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(N).then(J,x)}}catch(F){x(F);return}J(N)}return e.OPTIONS=n,e}function k0(n,e){if(!n)return n;for(const t of Object.keys(n))n[t]=R0(n[t],e);return n}function R0(n,e){return mo.isRef(n)?n.getValue(e.value,e.parent,e.context):n}function LP(n,e,t,i=t){let o,a,u;return e?(ta.forEach(e,(h,p,_)=>{let E=p?h.slice(1,h.length-1):h;n=n.resolve({context:i,parent:o,value:t});let S=n.type==="tuple",A=_?parseInt(E,10):0;if(n.innerType||S){if(S&&!_)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(t&&A>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${h}, in the path: ${e}. because there is no value at that index. `);o=t,t=t&&t[A],n=S?n.spec.types[A]:n.innerType}if(!_){if(!n.fields||!n.fields[E])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${n.type}")`);o=t,t=t&&t[E],n=n.fields[E]}a=E,u=p?"["+h+"]":"."+h}),{schema:n,parent:o,parentPath:a}):{parent:o,parentPath:e,schema:n}}class qd extends Set{describe(){const e=[];for(const t of this.values())e.push(mo.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new qd(this.values())}merge(e,t){const i=this.clone();return e.forEach(o=>i.add(o)),t.forEach(o=>i.delete(o)),i}}function ul(n,e=new Map){if(Cm(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=ul(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,o]of n.entries())t.set(i,ul(o,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add(ul(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,o]of Object.entries(n))t[i]=ul(o,e)}else throw Error(`Unable to clone ${n}`);return t}function MP(n){if(!(n!=null&&n.length))return;const e=[];let t="",i=!1,o=!1;for(let a=0;a<n.length;a++){const u=n[a];if(u==="["&&!o){t&&(e.push(...t.split(".").filter(Boolean)),t=""),i=!0;continue}if(u==="]"&&!o){t&&(/^\d+$/.test(t)?e.push(t):e.push(t.replace(/^"|"$/g,"")),t=""),i=!1;continue}if(u==='"'){o=!o;continue}if(u==="."&&!i&&!o){t&&(e.push(t),t="");continue}t+=u}return t&&e.push(...t.split(".").filter(Boolean)),e}function FP(n,e){const t=e?`${e}.${n.path}`:n.path;return n.errors.map(i=>({message:i,path:MP(t)}))}function x0(n,e){var t;if(!((t=n.inner)!=null&&t.length)&&n.errors.length)return FP(n,e);const i=e?`${e}.${n.path}`:n.path;return n.inner.flatMap(o=>x0(o,i))}class Ei{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new qd,this._blacklist=new qd,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(pi.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=ul(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const o=Object.assign({},t.spec,i.spec);return i.spec=o,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(a=>{e.tests.forEach(u=>{a.test(u.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((o,a)=>a.resolve(o,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,o,a;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({value:e},t)),o=t.assert==="ignore-optionality",a=i._cast(e,t);if(t.assert!==!1&&!i.isType(a)){if(o&&Zo(a))return a;let u=to(e),h=to(a);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${u} 
`+(h!==u?`result of cast: ${h}`:""))}return a}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((o,a)=>a.call(this,o,e,this),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,o){let{path:a,originalValue:u=e,strict:h=this.spec.strict}=t,p=e;h||(p=this._cast(p,Object.assign({assert:!1},t)));let _=[];for(let E of Object.values(this.internalTests))E&&_.push(E);this.runTests({path:a,value:p,originalValue:u,options:t,tests:_},i,E=>{if(E.length)return o(E,p);this.runTests({path:a,value:p,originalValue:u,options:t,tests:this.tests},i,o)})}runTests(e,t,i){let o=!1,{tests:a,value:u,originalValue:h,path:p,options:_}=e,E=L=>{o||(o=!0,t(L,u))},S=L=>{o||(o=!0,i(L,u))},A=a.length,D=[];if(!A)return S([]);let U={value:u,originalValue:h,path:p,options:_,schema:this};for(let L=0;L<a.length;L++){const O=a[L];O(U,E,function(K){K&&(Array.isArray(K)?D.push(...K):D.push(K)),--A<=0&&S(D)})}}asNestedTest({key:e,index:t,parent:i,parentPath:o,originalParent:a,options:u}){const h=e??t;if(h==null)throw TypeError("Must include `key` or `index` for nested validations");const p=typeof h=="number";let _=i[h];const E=Object.assign({},u,{strict:!0,parent:i,value:_,originalValue:a[h],key:void 0,[p?"index":"key"]:h,path:p||h.includes(".")?`${o||""}[${p?h:`"${h}"`}]`:(o?`${o}.`:"")+e});return(S,A,D)=>this.resolve(E)._validate(_,E,A,D)}validate(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),a=(i=t?.disableStackTrace)!=null?i:o.spec.disableStackTrace;return new Promise((u,h)=>o._validate(e,t,(p,_)=>{Dn.isError(p)&&(p.value=_),h(p)},(p,_)=>{p.length?h(new Dn(p,_,void 0,void 0,a)):u(_)}))}validateSync(e,t){var i;let o=this.resolve(Object.assign({},t,{value:e})),a,u=(i=t?.disableStackTrace)!=null?i:o.spec.disableStackTrace;return o._validate(e,Object.assign({},t,{sync:!0}),(h,p)=>{throw Dn.isError(h)&&(h.value=p),h},(h,p)=>{if(h.length)throw new Dn(h,e,void 0,void 0,u);a=p}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(Dn.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(Dn.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):ul(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=sl({message:t,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=sl({message:t,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=pi.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=pi.notNull){return this.nullability(!1,e)}required(e=pi.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=pi.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),o=sl(t),a=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(u=>!(u.OPTIONS.name===t.name&&(a||u.OPTIONS.test===o.OPTIONS.test))),i.tests.push(o),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),o=A0(e).map(a=>new mo(a));return o.forEach(a=>{a.isSibling&&i.deps.push(a.key)}),i.conditions.push(typeof t=="function"?new zd(o,t):zd.fromOptions(o,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=sl({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=pi.oneOf){let i=this.clone();return e.forEach(o=>{i._whitelist.add(o),i._blacklist.delete(o)}),i.internalTests.whiteList=sl({message:t,name:"oneOf",skipAbsent:!0,test(o){let a=this.schema._whitelist,u=a.resolveAll(this.resolve);return u.includes(o)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:u}})}}),i}notOneOf(e,t=pi.notOneOf){let i=this.clone();return e.forEach(o=>{i._blacklist.add(o),i._whitelist.delete(o)}),i.internalTests.blacklist=sl({message:t,name:"notOneOf",test(o){let a=this.schema._blacklist,u=a.resolveAll(this.resolve);return u.includes(o)?this.createError({params:{values:Array.from(a).join(", "),resolved:u}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:o,optional:a,nullable:u}=t.spec;return{meta:o,label:i,optional:a,nullable:u,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((p,_,E)=>E.findIndex(S=>S.OPTIONS.name===p.OPTIONS.name)===_).map(p=>{const _=p.OPTIONS.params&&e?k0(Object.assign({},p.OPTIONS.params),e):p.OPTIONS.params;return{name:p.OPTIONS.name,params:_}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(o){if(o instanceof Dn)return{issues:x0(o)};throw o}}}}}Ei.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Ei.prototype[`${n}At`]=function(e,t,i={}){const{parent:o,parentPath:a,schema:u}=LP(this,e,t,i.context);return u[n](o&&o[a],Object.assign({},i,{parent:o,path:e}))};for(const n of["equals","is"])Ei.prototype[n]=Ei.prototype.oneOf;for(const n of["not","nope"])Ei.prototype[n]=Ei.prototype.notOneOf;const jP=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function UP(n){const e=Bp(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Bp(n){var e,t;const i=jP.exec(n);return i?{year:Gi(i[1]),month:Gi(i[2],1)-1,day:Gi(i[3],1),hour:Gi(i[4]),minute:Gi(i[5]),second:Gi(i[6]),millisecond:i[7]?Gi(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Gi(i[10]),minuteOffset:Gi(i[11])}:null}function Gi(n,e=0){return Number(n)||e}let $P=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,BP=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,zP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,qP="^\\d{4}-\\d{2}-\\d{2}",HP="\\d{2}:\\d{2}:\\d{2}",WP="(([+-]\\d{2}(:?\\d{2})?)|Z)",KP=new RegExp(`${qP}T${HP}(\\.\\d+)?${WP}$`),GP=n=>Zo(n)||n===n.trim(),QP={}.toString();function ts(){return new O0}class O0 extends Ei{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===QP?e:o})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||pi.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Wn.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=Wn.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=Wn.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,o,a;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:o,name:a}=t:o=t),this.test({name:a||"matches",message:o||Wn.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&i||u.search(e)!==-1})}email(e=Wn.email){return this.matches($P,{name:"email",message:e,excludeEmptyString:!0})}url(e=Wn.url){return this.matches(BP,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Wn.uuid){return this.matches(zP,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",i,o;return e&&(typeof e=="object"?{message:t="",allowOffset:i=!1,precision:o=void 0}=e:t=e),this.matches(KP,{name:"datetime",message:t||Wn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Wn.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:a=>{if(!a||i)return!0;const u=Bp(a);return u?!!u.z:!1}}).test({name:"datetime_precision",message:t||Wn.datetime_precision,params:{precision:o},skipAbsent:!0,test:a=>{if(!a||o==null)return!0;const u=Bp(a);return u?u.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Wn.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:GP})}lowercase(e=Wn.lowercase){return this.transform(t=>Zo(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Zo(t)||t===t.toLowerCase()})}uppercase(e=Wn.uppercase){return this.transform(t=>Zo(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Zo(t)||t===t.toUpperCase()})}}ts.prototype=O0.prototype;let N0=new Date(""),YP=n=>Object.prototype.toString.call(n)==="[object Date]";function Pm(){return new Qu}class Qu extends Ei{constructor(){super({type:"date",check(e){return YP(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=UP(e),isNaN(e)?Qu.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(mo.isRef(e))i=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=o}return i}min(e,t=$p.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(i)}})}max(e,t=$p.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(i)}})}}Qu.INVALID_DATE=N0;Pm.prototype=Qu.prototype;Pm.INVALID_DATE=N0;function XP(n,e=[]){let t=[],i=new Set,o=new Set(e.map(([u,h])=>`${u}-${h}`));function a(u,h){let p=ta.split(u)[0];i.add(p),o.has(`${h}-${p}`)||t.push([h,p])}for(const u of Object.keys(n)){let h=n[u];i.add(u),mo.isRef(h)&&h.isSibling?a(h.path,u):Cm(h)&&"deps"in h&&h.deps.forEach(p=>a(p,u))}return IP.array(Array.from(i),t).reverse()}function a_(n,e){let t=1/0;return n.some((i,o)=>{var a;if((a=e.path)!=null&&a.includes(i))return t=o,!0}),t}function D0(n){return(e,t)=>a_(n,e)-a_(n,t)}const JP=(n,e,t)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return t.isType(i)?i:n};function Rd(n){if("fields"in n){const e={};for(const[t,i]of Object.entries(n.fields))e[t]=Rd(i);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Rd(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Rd)}):"optional"in n?n.optional():n}const ZP=(n,e)=>{const t=[...ta.normalizePath(e)];if(t.length===1)return t[0]in n;let i=t.pop(),o=ta.getter(ta.join(t),!0)(n);return!!(o&&i in o)};let l_=n=>Object.prototype.toString.call(n)==="[object Object]";function u_(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const e1=D0([]);function Yu(n){return new V0(n)}class V0 extends Ei{constructor(e){super({type:"object",check(t){return l_(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=e1,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let o=super._cast(e,t);if(o===void 0)return this.getDefault(t);if(!this._typeCheck(o))return o;let a=this.fields,u=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,h=[].concat(this._nodes,Object.keys(o).filter(S=>!this._nodes.includes(S))),p={},_=Object.assign({},t,{parent:p,__validating:t.__validating||!1}),E=!1;for(const S of h){let A=a[S],D=S in o;if(A){let U,L=o[S];_.path=(t.path?`${t.path}.`:"")+S,A=A.resolve({value:L,context:t.context,parent:p});let O=A instanceof Ei?A.spec:void 0,z=O?.strict;if(O!=null&&O.strip){E=E||S in o;continue}U=!t.__validating||!z?A.cast(o[S],_):o[S],U!==void 0&&(p[S]=U)}else D&&!u&&(p[S]=o[S]);(D!==S in p||p[S]!==o[S])&&(E=!0)}return E?p:o}_validate(e,t={},i,o){let{from:a=[],originalValue:u=e,recursive:h=this.spec.recursive}=t;t.from=[{schema:this,value:u},...a],t.__validating=!0,t.originalValue=u,super._validate(e,t,i,(p,_)=>{if(!h||!l_(_)){o(p,_);return}u=u||_;let E=[];for(let S of this._nodes){let A=this.fields[S];!A||mo.isRef(A)||E.push(A.asNestedTest({options:t,key:S,parent:_,parentPath:t.path,originalParent:u}))}this.runTests({tests:E,value:_,originalValue:u,options:t},i,S=>{o(S.sort(this._sortErrors).concat(p),_)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[o,a]of Object.entries(this.fields)){const u=i[o];i[o]=u===void 0?a:u}return t.withMutation(o=>o.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var o;const a=this.fields[i];let u=e;(o=u)!=null&&o.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[i]})),t[i]=a&&"getDefault"in a?a.getDefault(u):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=XP(e,t),i._sortErrors=D0(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let o=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),o=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),o)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Rd(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,o])=>e.includes(i)&&e.includes(o)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let o=ta.getter(e,!0);return this.transform(a=>{if(!a)return a;let u=a;return ZP(a,e)&&(u=Object.assign({},a),i||delete u[e],u[t]=o(a)),u})}json(){return this.transform(JP)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||kd.exact,test(t){if(t==null)return!0;const i=u_(this.schema,t);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=kd.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(o){if(o==null)return!0;const a=u_(this.schema,o);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=kd.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const o of Object.keys(t))i[e(o)]=t[o];return i})}camelCase(){return this.transformKeys(gp.camelCase)}snakeCase(){return this.transformKeys(gp.snakeCase)}constantCase(){return this.transformKeys(e=>gp.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[a,u]of Object.entries(t.fields)){var o;let h=e;(o=h)!=null&&o.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[a]})),i.fields[a]=u.describe(h)}return i}}Yu.prototype=V0.prototype;const t1=Yu().shape({email:ts().email("Invalid email").required("Required"),password:ts().min(6,"Minimum 6 characters").required("Required"),confirmPassword:ts().oneOf([VP("password"),null],"Passwords must match").required("Required")}),n1=Yu().shape({email:ts().email("Invalid email").required("Required"),password:ts().required("Required")}),r1=Yu().shape({title:ts().min(3,"Too short").required("Required"),description:ts().max(500,"Too long"),deadline:Pm().required("Required").test("is-future","Deadline must be today or in the future",function(n){if(!n)return!1;const e=new Date;e.setHours(0,0,0,0);const t=new Date(n);return t.setHours(0,0,0,0),t>=e})});var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},i1=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],p=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,E=a>>2,S=(a&3)<<4|h>>4;let A=(h&15)<<2|_>>6,D=_&63;p||(D=64,u||(A=64)),i.push(t[E],t[S],t[A],t[D])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(L0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const S=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||_==null||S==null)throw new s1;const A=a<<2|h>>4;if(i.push(A),_!==64){const D=h<<4&240|_>>2;if(i.push(D),S!==64){const U=_<<6&192|S;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class s1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o1=function(n){const e=L0(n);return M0.encodeByteArray(e,!0)},Hd=function(n){return o1(n).replace(/\./g,"")},F0=function(n){try{return M0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=()=>a1().__FIREBASE_DEFAULTS__,u1=()=>{if(typeof process>"u"||typeof c_>"u")return;const n=c_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},c1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&F0(n[1]);return e&&JSON.parse(e)},fh=()=>{try{return l1()||u1()||c1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},j0=n=>{var e,t;return(t=(e=fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},d1=n=>{const e=j0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},U0=()=>{var n;return(n=fh())===null||n===void 0?void 0:n.config},$0=n=>{var e;return(e=fh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hd(JSON.stringify(t)),Hd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function m1(){var n;const e=(n=fh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function v1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _1(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function w1(){return!m1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E1(){try{return typeof indexedDB=="object"}catch{return!1}}function T1(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="FirebaseError";class ls extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=I1,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?S1(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new ls(o,h,i)}}function S1(n,e){return n.replace(A1,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const A1=/\{\$([^}]+)}/g;function b1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wd(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(d_(a)&&d_(u)){if(!Wd(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function d_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function hu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function fu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function C1(n,e){const t=new P1(n,e);return t.subscribe.bind(t)}class P1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");k1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=yp),o.error===void 0&&(o.error=yp),o.complete===void 0&&(o.complete=yp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n){return n&&n._delegate?n._delegate:n}class oa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new h1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O1(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:x1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x1(n){return n===Jo?void 0:n}function O1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new R1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Je||(Je={}));const D1={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},V1=Je.INFO,L1={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},M1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=L1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=V1,this._logHandler=M1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const F1=(n,e)=>e.some(t=>n instanceof t);let h_,f_;function j1(){return h_||(h_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,zp=new WeakMap,z0=new WeakMap,vp=new WeakMap,Rm=new WeakMap;function $1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(no(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&B0.set(t,n)}).catch(()=>{}),Rm.set(e,n),e}function B1(n){if(zp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});zp.set(n,e)}let qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||z0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return no(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function z1(n){qp=n(qp)}function q1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_p(this),e,...t);return z0.set(i,e.sort?e.sort():[e]),no(i)}:U1().includes(n)?function(...e){return n.apply(_p(this),e),no(B0.get(this))}:function(...e){return no(n.apply(_p(this),e))}}function H1(n){return typeof n=="function"?q1(n):(n instanceof IDBTransaction&&B1(n),F1(n,j1())?new Proxy(n,qp):n)}function no(n){if(n instanceof IDBRequest)return $1(n);if(vp.has(n))return vp.get(n);const e=H1(n);return e!==n&&(vp.set(n,e),Rm.set(e,n)),e}const _p=n=>Rm.get(n);function W1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=no(u);return i&&u.addEventListener("upgradeneeded",p=>{i(no(u.result),p.oldVersion,p.newVersion,no(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),h}const K1=["get","getKey","getAll","getAllKeys","count"],G1=["put","add","delete","clear"],wp=new Map;function p_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=G1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||K1.includes(t)))return;const a=async function(u,...h){const p=this.transaction(u,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(h.shift())),(await Promise.all([_[t](...h),o&&p.done]))[0]};return wp.set(e,a),a}z1(n=>({...n,get:(e,t,i)=>p_(e,t)||n.get(e,t,i),has:(e,t)=>!!p_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Y1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Y1(n){const e=n.getComponent();return e?.type==="VERSION"}const Hp="@firebase/app",m_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new km("@firebase/app"),X1="@firebase/app-compat",J1="@firebase/analytics-compat",Z1="@firebase/analytics",ek="@firebase/app-check-compat",tk="@firebase/app-check",nk="@firebase/auth",rk="@firebase/auth-compat",ik="@firebase/database",sk="@firebase/data-connect",ok="@firebase/database-compat",ak="@firebase/functions",lk="@firebase/functions-compat",uk="@firebase/installations",ck="@firebase/installations-compat",dk="@firebase/messaging",hk="@firebase/messaging-compat",fk="@firebase/performance",pk="@firebase/performance-compat",mk="@firebase/remote-config",gk="@firebase/remote-config-compat",yk="@firebase/storage",vk="@firebase/storage-compat",_k="@firebase/firestore",wk="@firebase/vertexai-preview",Ek="@firebase/firestore-compat",Tk="firebase",Ik="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",Sk={[Hp]:"fire-core",[X1]:"fire-core-compat",[Z1]:"fire-analytics",[J1]:"fire-analytics-compat",[tk]:"fire-app-check",[ek]:"fire-app-check-compat",[nk]:"fire-auth",[rk]:"fire-auth-compat",[ik]:"fire-rtdb",[sk]:"fire-data-connect",[ok]:"fire-rtdb-compat",[ak]:"fire-fn",[lk]:"fire-fn-compat",[uk]:"fire-iid",[ck]:"fire-iid-compat",[dk]:"fire-fcm",[hk]:"fire-fcm-compat",[fk]:"fire-perf",[pk]:"fire-perf-compat",[mk]:"fire-rc",[gk]:"fire-rc-compat",[yk]:"fire-gcs",[vk]:"fire-gcs-compat",[_k]:"fire-fst",[Ek]:"fire-fst-compat",[wk]:"fire-vertex","fire-js":"fire-js",[Tk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Map,Ak=new Map,Kp=new Map;function g_(n,e){try{n.container.addComponent(e)}catch(t){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gl(n){const e=n.name;if(Kp.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,n);for(const t of Kd.values())g_(t,n);for(const t of Ak.values())g_(t,n);return!0}function xm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function mi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new Xu("app","Firebase",bk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=Ik;function q0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ro.create("bad-app-name",{appName:String(o)});if(t||(t=U0()),!t)throw ro.create("no-options");const a=Kd.get(o);if(a){if(Wd(t,a.options)&&Wd(i,a.config))return a;throw ro.create("duplicate-app",{appName:o})}const u=new N1(o);for(const p of Kp.values())u.addComponent(p);const h=new Ck(t,i,u);return Kd.set(o,h),h}function H0(n=Wp){const e=Kd.get(n);if(!e&&n===Wp&&U0())return q0();if(!e)throw ro.create("no-app",{appName:n});return e}function io(n,e,t){var i;let o=(i=Sk[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(h.join(" "));return}gl(new oa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="firebase-heartbeat-database",kk=1,Ru="firebase-heartbeat-store";let Ep=null;function W0(){return Ep||(Ep=W1(Pk,kk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ru)}catch(t){console.warn(t)}}}}).catch(n=>{throw ro.create("idb-open",{originalErrorMessage:n.message})})),Ep}async function Rk(n){try{const t=(await W0()).transaction(Ru),i=await t.objectStore(Ru).get(K0(n));return await t.done,i}catch(e){if(e instanceof ls)rs.warn(e.message);else{const t=ro.create("idb-get",{originalErrorMessage:e?.message});rs.warn(t.message)}}}async function y_(n,e){try{const i=(await W0()).transaction(Ru,"readwrite");await i.objectStore(Ru).put(e,K0(n)),await i.done}catch(t){if(t instanceof ls)rs.warn(t.message);else{const i=ro.create("idb-set",{originalErrorMessage:t?.message});rs.warn(i.message)}}}function K0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=1024,Ok=720*60*60*1e3;class Nk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Vk(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=v_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=Ok}),this._storage.overwrite(this._heartbeatsCache))}catch(i){rs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=v_(),{heartbeatsToSend:i,unsentEntries:o}=Dk(this._heartbeatsCache.heartbeats),a=Hd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return rs.warn(t),""}}}function v_(){return new Date().toISOString().substring(0,10)}function Dk(n,e=xk){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),__(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),__(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Vk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E1()?T1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Rk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function __(n){return Hd(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(n){gl(new oa("platform-logger",e=>new Q1(e),"PRIVATE")),gl(new oa("heartbeat",e=>new Nk(e),"PRIVATE")),io(Hp,m_,n),io(Hp,m_,"esm2017"),io("fire-js","")}Lk("");var Mk="firebase",Fk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io(Mk,Fk,"app");function Om(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jk=G0,Q0=new Xu("auth","Firebase",G0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new km("@firebase/auth");function Uk(n,...e){Gd.logLevel<=Je.WARN&&Gd.warn(`Auth (${kl}): ${n}`,...e)}function xd(n,...e){Gd.logLevel<=Je.ERROR&&Gd.error(`Auth (${kl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(n,...e){throw Nm(n,...e)}function yi(n,...e){return Nm(n,...e)}function Y0(n,e,t){const i=Object.assign(Object.assign({},jk()),{[e]:t});return new Xu("auth","Firebase",i).create(e,{appName:n.name})}function ns(n){return Y0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Q0.create(n,...e)}function De(n,e,...t){if(!n)throw Nm(e,...t)}function Yi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xd(e),new Error(e)}function is(n,e){n||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $k(){return w_()==="http:"||w_()==="https:"}function w_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($k()||y1()||"connection"in navigator)?navigator.onLine:!0}function zk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,is(t>e,"Short delay should be less than long delay!"),this.isMobile=p1()||v1()}get(){return Bk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n,e){is(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new Zu(3e4,6e4);function us(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function cs(n,e,t,i,o={}){return J0(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=Ju(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},a);return g1()||(_.referrerPolicy="no-referrer"),X0.fetch()(Z0(n,n.config.apiHost,t,h),_)})}async function J0(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},qk),e);try{const o=new Kk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Sd(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[p,_]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Sd(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Sd(n,"user-disabled",u);const E=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Y0(n,E,_);Gr(n,E)}}catch(o){if(o instanceof ls)throw o;Gr(n,"network-request-failed",{message:String(o)})}}async function ec(n,e,t,i,o={}){const a=await cs(n,e,t,i,o);return"mfaPendingCredential"in a&&Gr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Z0(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Dm(n.config,o):`${n.config.apiScheme}://${o}`}function Wk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(yi(this.auth,"network-request-failed")),Hk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=yi(n,e,i);return o.customData._tokenResponse=t,o}function E_(n){return n!==void 0&&n.enterprise!==void 0}class Gk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Qk(n,e){return cs(n,"GET","/v2/recaptchaConfig",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e){return cs(n,"POST","/v1/accounts:delete",e)}async function eE(n,e){return cs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xk(n,e=!1){const t=$t(n),i=await t.getIdToken(e),o=Vm(i);De(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:i,authTime:wu(Tp(o.auth_time)),issuedAtTime:wu(Tp(o.iat)),expirationTime:wu(Tp(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Tp(n){return Number(n)*1e3}function Vm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const o=F0(t);return o?JSON.parse(o):(xd("Failed to decode base64 JWT payload"),null)}catch(o){return xd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function T_(n){const e=Vm(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ls&&Jk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Jk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qd(n){var e;const t=n.auth,i=await n.getIdToken(),o=await xu(n,eE(t,{idToken:i}));De(o?.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?tE(a.providerUserInfo):[],h=tR(n.providerData,u),p=n.isAnonymous,_=!(n.email&&a.passwordHash)&&!h?.length,E=p?_:!1,S={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Qp(a.createdAt,a.lastLoginAt),isAnonymous:E};Object.assign(n,S)}async function eR(n){const e=$t(n);await Qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function tE(n){return n.map(e=>{var{providerId:t}=e,i=Om(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(n,e){const t=await J0(n,{},async()=>{const i=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=Z0(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",X0.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rR(n,e){return cs(n,"POST","/v2/accounts:revokeToken",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=T_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await nR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new dl;return i&&(De(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(De(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(De(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Om(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Qp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await xu(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Xk(this,e)}reload(){return eR(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Qd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(ns(this.auth));const e=await this.getIdToken();return await xu(this,Yk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,h,p,_,E;const S=(i=t.displayName)!==null&&i!==void 0?i:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,D=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,U=(u=t.photoURL)!==null&&u!==void 0?u:void 0,L=(h=t.tenantId)!==null&&h!==void 0?h:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(_=t.createdAt)!==null&&_!==void 0?_:void 0,K=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Z,emailVerified:he,isAnonymous:Y,providerData:J,stsTokenManager:x}=t;De(Z&&x,e,"internal-error");const C=dl.fromJSON(this.name,x);De(typeof Z=="string",e,"internal-error"),qs(S,e.name),qs(A,e.name),De(typeof he=="boolean",e,"internal-error"),De(typeof Y=="boolean",e,"internal-error"),qs(D,e.name),qs(U,e.name),qs(L,e.name),qs(O,e.name),qs(z,e.name),qs(K,e.name);const N=new Xi({uid:Z,auth:e,email:A,emailVerified:he,displayName:S,isAnonymous:Y,photoURL:U,phoneNumber:D,tenantId:L,stsTokenManager:C,createdAt:z,lastLoginAt:K});return J&&Array.isArray(J)&&(N.providerData=J.map(M=>Object.assign({},M))),O&&(N._redirectEventId=O),N}static async _fromIdTokenResponse(e,t,i=!1){const o=new dl;o.updateFromServerResponse(t);const a=new Xi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Qd(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];De(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?tE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,h=new dl;h.updateFromIdToken(i);const p=new Xi({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Qp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;function Ji(n){is(n instanceof Function,"Expected a class definition");let e=I_.get(n);return e?(is(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,I_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nE.type="NONE";const S_=nE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(n,e,t){return`firebase:${n}:${e}:${t}`}class hl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Od(this.userKey,o.apiKey,a),this.fullPersistenceKey=Od("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new hl(Ji(S_),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=o[0]||Ji(S_);const u=Od(i,e.config.apiKey,e.name);let h=null;for(const _ of t)try{const E=await _._get(u);if(E){const S=Xi._fromJSON(e,E);_!==a&&(h=S),a=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new hl(a,e,i):(a=p[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async _=>{if(_!==a)try{await _._remove(u)}catch{}})),new hl(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lE(e))return"Blackberry";if(uE(e))return"Webos";if(iE(e))return"Safari";if((e.includes("chrome/")||sE(e))&&!e.includes("edge/"))return"Chrome";if(aE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function rE(n=wn()){return/firefox\//i.test(n)}function iE(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sE(n=wn()){return/crios\//i.test(n)}function oE(n=wn()){return/iemobile/i.test(n)}function aE(n=wn()){return/android/i.test(n)}function lE(n=wn()){return/blackberry/i.test(n)}function uE(n=wn()){return/webos/i.test(n)}function Lm(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iR(n=wn()){var e;return Lm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sR(){return _1()&&document.documentMode===10}function cE(n=wn()){return Lm(n)||aE(n)||uE(n)||lE(n)||/windows phone/i.test(n)||oE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(n,e=[]){let t;switch(n){case"Browser":t=A_(wn());break;case"Worker":t=`${A_(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${kl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const p=e(a);u(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(n,e={}){return cs(n,"GET","/v2/passwordPolicy",us(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=6;class uR{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:lR,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new oR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ji(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await eE(this,{idToken:e}),i=await Xi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(mi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(ns(this));const t=e?$t(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aR(this),t=new uR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await rR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ji(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Uk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function go(n){return $t(n)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=C1(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dR(n){ph=n}function hE(n){return ph.loadJS(n)}function hR(){return ph.recaptchaEnterpriseScript}function fR(){return ph.gapiScript}function pR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const mR="recaptcha-enterprise",gR="NO_RECAPTCHA";class yR{constructor(e){this.type=mR,this.auth=go(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{Qk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const _=new Gk(p);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,u(_.siteKey)}}).catch(p=>{h(p)})})}function o(a,u,h){const p=window.grecaptcha;E_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(_=>{u(_)}).catch(()=>{u(gR)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&E_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=hR();p.length!==0&&(p+=h),hE(p).then(()=>{o(h,a,u)}).catch(_=>{u(_)})}}).catch(h=>{u(h)})})}}async function C_(n,e,t,i=!1){const o=new yR(n);let a;try{a=await o.verify(t)}catch{a=await o.verify(t,!0)}const u=Object.assign({},e);return i?Object.assign(u,{captchaResp:a}):Object.assign(u,{captchaResponse:a}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Yd(n,e,t,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await C_(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await C_(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(n,e){const t=xm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Wd(a,e??{}))return o;Gr(o,"already-initialized")}return t.initialize({options:e})}function _R(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ji);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function wR(n,e,t){const i=go(n);De(i._canInitEmulator,i,"emulator-config-failed"),De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=fE(e),{host:u,port:h}=ER(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${u}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),TR()}function fE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ER(n){const e=fE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:P_(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:P_(u)}}}function P_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function TR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,t){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function IR(n,e){return cs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(n,e){return ec(n,"POST","/v1/accounts:signInWithPassword",us(n,e))}async function pE(n,e){return cs(n,"POST","/v1/accounts:sendOobCode",us(n,e))}async function AR(n,e){return pE(n,e)}async function bR(n,e){return pE(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(n,e){return ec(n,"POST","/v1/accounts:signInWithEmailLink",us(n,e))}async function PR(n,e){return ec(n,"POST","/v1/accounts:signInWithEmailLink",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Mm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ou(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ou(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(e,t,"signInWithPassword",SR);case"emailLink":return CR(e,{email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(e,i,"signUpPassword",IR);case"emailLink":return PR(e,{idToken:t,email:this._email,oobCode:this._password});default:Gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n,e){return ec(n,"POST","/v1/accounts:signInWithIdp",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="http://localhost";class aa extends Mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Om(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new aa(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return fl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,fl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fl(e,t)}buildRequest(){const e={requestUri:kR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ju(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xR(n){const e=hu(fu(n)).link,t=e?hu(fu(e)).deep_link_id:null,i=hu(fu(n)).deep_link_id;return(i?hu(fu(i)).link:null)||i||t||e||n}class Fm{constructor(e){var t,i,o,a,u,h;const p=hu(fu(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(i=p.oobCode)!==null&&i!==void 0?i:null,S=RR((o=p.mode)!==null&&o!==void 0?o:null);De(_&&E&&S,"argument-error"),this.apiKey=_,this.operation=S,this.code=E,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=p.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=xR(e);try{return new Fm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,t){return Ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Fm.parseLink(t);return De(i,"argument-error"),Ou._fromEmailAndCode(e,i.code,i.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends mE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends tc{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return aa._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Gs.credential(t,i)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends tc{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends tc{constructor(){super("twitter.com")}static credential(e,t){return aa._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ys.credential(t,i)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(n,e){return ec(n,"POST","/v1/accounts:signUp",us(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Xi._fromIdTokenResponse(e,i,o),u=k_(i);return new la({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=k_(i);return new la({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function k_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends ls{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Xd(e,t,i,o)}}function gE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Xd._fromErrorAndOperation(n,a,e,i):a})}async function NR(n,e,t=!1){const i=await xu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return la._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(n,e,t=!1){const{auth:i}=n;if(mi(i.app))return Promise.reject(ns(i));const o="reauthenticate";try{const a=await xu(n,gE(i,o,e,n),t);De(a.idToken,i,"internal-error");const u=Vm(a.idToken);De(u,i,"internal-error");const{sub:h}=u;return De(n.uid===h,i,"user-mismatch"),la._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Gr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yE(n,e,t=!1){if(mi(n.app))return Promise.reject(ns(n));const i="signIn",o=await gE(n,i,e),a=await la._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function VR(n,e){return yE(go(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vE(n){const e=go(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LR(n,e,t){const i=go(n);await Yd(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bR)}async function MR(n,e,t){if(mi(n.app))return Promise.reject(ns(n));const i=go(n),u=await Yd(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vE(n),p}),h=await la._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function FR(n,e,t){return mi(n.app)?Promise.reject(ns(n)):VR($t(n),Rl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vE(n),i})}async function jR(n,e){const t=$t(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await AR(t.auth,o);a!==n.email&&await n.reload()}function UR(n,e,t,i){return $t(n).onIdTokenChanged(e,t,i)}function $R(n,e,t){return $t(n).beforeAuthStateChanged(e,t)}function BR(n,e,t,i){return $t(n).onAuthStateChanged(e,t,i)}function zR(n){return $t(n).signOut()}const Jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=1e3,HR=10;class wE extends _E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);sR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wE.type="LOCAL";const WR=wE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends _E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}EE.type="SESSION";const TE=EE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new mh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async _=>_(t.origin,a)),p=await KR(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,p)=>{const _=jm("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===_)switch(A.data.status){case"ack":clearTimeout(E),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(A.data.response);break;default:clearTimeout(E),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function QR(n){vi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function YR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XR(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function JR(){return IE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="firebaseLocalStorageDb",ZR=1,Zd="firebaseLocalStorage",AE="fbase_key";class nc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gh(n,e){return n.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function ex(){const n=indexedDB.deleteDatabase(SE);return new nc(n).toPromise()}function Yp(){const n=indexedDB.open(SE,ZR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zd,{keyPath:AE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Zd)?e(i):(i.close(),await ex(),e(await Yp()))})})}async function R_(n,e,t){const i=gh(n,!0).put({[AE]:e,value:t});return new nc(i).toPromise()}async function tx(n,e){const t=gh(n,!1).get(e),i=await new nc(t).toPromise();return i===void 0?null:i.value}function x_(n,e){const t=gh(n,!0).delete(e);return new nc(t).toPromise()}const nx=800,rx=3;class bE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>rx)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(JR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YR(),!this.activeServiceWorker)return;this.sender=new GR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yp();return await R_(e,Jd,"1"),await x_(e,Jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>R_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>tx(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>x_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=gh(o,!1).getAll();return new nc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bE.type="LOCAL";const ix=bE;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(n,e){return e?Ji(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ox(n){return yE(n.auth,new Um(n),n.bypassAuthState)}function ax(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),DR(t,new Um(n),n.bypassAuthState)}async function lx(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),NR(t,new Um(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ox;case"linkViaPopup":case"linkViaRedirect":return lx;case"reauthViaPopup":case"reauthViaRedirect":return ax;default:Gr(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Zu(2e3,1e4);class cl extends CE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const e=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ux.get())};e()}}cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="pendingRedirect",Nd=new Map;class dx extends CE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const i=await hx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hx(n,e){const t=mx(e),i=px(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function fx(n,e){Nd.set(n._key(),e)}function px(n){return Ji(n._redirectPersistence)}function mx(n){return Od(cx,n.config.apiKey,n.name)}async function gx(n,e,t=!1){if(mi(n.app))return Promise.reject(ns(n));const i=go(n),o=sx(i,e),u=await new dx(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=600*1e3;class vx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_x(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!PE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yx&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function _x(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(n,e={}){return cs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tx=/^https?/;async function Ix(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wx(n);for(const t of e)try{if(Sx(t))return}catch{}Gr(n,"unauthorized-domain")}function Sx(n){const e=Gp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Tx.test(t))return!1;if(Ex.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Zu(3e4,6e4);function N_(){const n=vi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function bx(n){return new Promise((e,t)=>{var i,o,a;function u(){N_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N_(),t(yi(n,"network-request-failed"))},timeout:Ax.get()})}if(!((o=(i=vi().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=vi().gapi)===null||a===void 0)&&a.load)u();else{const h=pR("iframefcb");return vi()[h]=()=>{gapi.load?u():t(yi(n,"network-request-failed"))},hE(`${fR()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function Cx(n){return Dd=Dd||bx(n),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Zu(5e3,15e3),kx="__/auth/iframe",Rx="emulator/auth/iframe",xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ox=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nx(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dm(e,Rx):`https://${n.config.authDomain}/${kx}`,i={apiKey:e.apiKey,appName:n.name,v:kl},o=Ox.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Ju(i).slice(1)}`}async function Dx(n){const e=await Cx(n),t=vi().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:Nx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xx,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=yi(n,"network-request-failed"),h=vi().setTimeout(()=>{a(u)},Px.get());function p(){vi().clearTimeout(h),o(i)}i.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lx=500,Mx=600,Fx="_blank",jx="http://localhost";class D_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ux(n,e,t,i=Lx,o=Mx){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Vx),{width:i.toString(),height:o.toString(),top:a,left:u}),_=wn().toLowerCase();t&&(h=sE(_)?Fx:t),rE(_)&&(e=e||jx,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[D,U])=>`${A}${D}=${U},`,"");if(iR(_)&&h!=="_self")return $x(e||"",h),new D_(null);const S=window.open(e||"",h,E);De(S,n,"popup-blocked");try{S.focus()}catch{}return new D_(S)}function $x(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="__/auth/handler",zx="emulator/auth/handler",qx=encodeURIComponent("fac");async function V_(n,e,t,i,o,a){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:kl,eventId:o};if(e instanceof mE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",b1(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))u[E]=S}if(e instanceof tc){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(u.scopes=E.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const E of Object.keys(h))h[E]===void 0&&delete h[E];const p=await n._getAppCheckToken(),_=p?`#${qx}=${encodeURIComponent(p)}`:"";return`${Hx(n)}?${Ju(h).slice(1)}${_}`}function Hx({config:n}){return n.emulator?Dm(n,zx):`https://${n.authDomain}/${Bx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class Wx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TE,this._completeRedirectFn=gx,this._overrideRedirectResult=fx}async _openPopup(e,t,i,o){var a;is((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await V_(e,t,i,Gp(),o);return Ux(e,u,jm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await V_(e,t,i,Gp(),o);return QR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(is(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Dx(e),i=new vx(e);return t.register("authEvent",o=>(De(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ip,{type:Ip},o=>{var a;const u=(a=o?.[0])===null||a===void 0?void 0:a[Ip];u!==void 0&&t(!!u),Gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ix(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cE()||iE()||Lm()}}const Kx=Wx;var L_="@firebase/auth",M_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yx(n){gl(new oa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dE(n)},_=new cR(i,o,a,p);return _R(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),gl(new oa("auth-internal",e=>{const t=go(e.getProvider("auth").getImmediate());return(i=>new Gx(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(L_,M_,Qx(n)),io(L_,M_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=300,Jx=$0("authIdTokenMaxAge")||Xx;let F_=null;const Zx=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Jx)return;const o=t?.token;F_!==o&&(F_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eO(n=H0()){const e=xm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vR(n,{popupRedirectResolver:Kx,persistence:[ix,WR,TE]}),i=$0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=Zx(a.toString());$R(t,u,()=>u(t.currentUser)),UR(t,h=>u(h))}}const o=j0("auth");return o&&wR(t,`http://${o}`),t}function tO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}dR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=yi("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",tO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yx("Browser");var j_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var na,kE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,C){function N(){}N.prototype=C.prototype,x.D=C.prototype,x.prototype=new N,x.prototype.constructor=x,x.C=function(M,F,B){for(var k=Array(arguments.length-2),He=2;He<arguments.length;He++)k[He-2]=arguments[He];return C.prototype[F].apply(M,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,C,N){N||(N=0);var M=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)M[F]=C.charCodeAt(N++)|C.charCodeAt(N++)<<8|C.charCodeAt(N++)<<16|C.charCodeAt(N++)<<24;else for(F=0;16>F;++F)M[F]=C[N++]|C[N++]<<8|C[N++]<<16|C[N++]<<24;C=x.g[0],N=x.g[1],F=x.g[2];var B=x.g[3],k=C+(B^N&(F^B))+M[0]+3614090360&4294967295;C=N+(k<<7&4294967295|k>>>25),k=B+(F^C&(N^F))+M[1]+3905402710&4294967295,B=C+(k<<12&4294967295|k>>>20),k=F+(N^B&(C^N))+M[2]+606105819&4294967295,F=B+(k<<17&4294967295|k>>>15),k=N+(C^F&(B^C))+M[3]+3250441966&4294967295,N=F+(k<<22&4294967295|k>>>10),k=C+(B^N&(F^B))+M[4]+4118548399&4294967295,C=N+(k<<7&4294967295|k>>>25),k=B+(F^C&(N^F))+M[5]+1200080426&4294967295,B=C+(k<<12&4294967295|k>>>20),k=F+(N^B&(C^N))+M[6]+2821735955&4294967295,F=B+(k<<17&4294967295|k>>>15),k=N+(C^F&(B^C))+M[7]+4249261313&4294967295,N=F+(k<<22&4294967295|k>>>10),k=C+(B^N&(F^B))+M[8]+1770035416&4294967295,C=N+(k<<7&4294967295|k>>>25),k=B+(F^C&(N^F))+M[9]+2336552879&4294967295,B=C+(k<<12&4294967295|k>>>20),k=F+(N^B&(C^N))+M[10]+4294925233&4294967295,F=B+(k<<17&4294967295|k>>>15),k=N+(C^F&(B^C))+M[11]+2304563134&4294967295,N=F+(k<<22&4294967295|k>>>10),k=C+(B^N&(F^B))+M[12]+1804603682&4294967295,C=N+(k<<7&4294967295|k>>>25),k=B+(F^C&(N^F))+M[13]+4254626195&4294967295,B=C+(k<<12&4294967295|k>>>20),k=F+(N^B&(C^N))+M[14]+2792965006&4294967295,F=B+(k<<17&4294967295|k>>>15),k=N+(C^F&(B^C))+M[15]+1236535329&4294967295,N=F+(k<<22&4294967295|k>>>10),k=C+(F^B&(N^F))+M[1]+4129170786&4294967295,C=N+(k<<5&4294967295|k>>>27),k=B+(N^F&(C^N))+M[6]+3225465664&4294967295,B=C+(k<<9&4294967295|k>>>23),k=F+(C^N&(B^C))+M[11]+643717713&4294967295,F=B+(k<<14&4294967295|k>>>18),k=N+(B^C&(F^B))+M[0]+3921069994&4294967295,N=F+(k<<20&4294967295|k>>>12),k=C+(F^B&(N^F))+M[5]+3593408605&4294967295,C=N+(k<<5&4294967295|k>>>27),k=B+(N^F&(C^N))+M[10]+38016083&4294967295,B=C+(k<<9&4294967295|k>>>23),k=F+(C^N&(B^C))+M[15]+3634488961&4294967295,F=B+(k<<14&4294967295|k>>>18),k=N+(B^C&(F^B))+M[4]+3889429448&4294967295,N=F+(k<<20&4294967295|k>>>12),k=C+(F^B&(N^F))+M[9]+568446438&4294967295,C=N+(k<<5&4294967295|k>>>27),k=B+(N^F&(C^N))+M[14]+3275163606&4294967295,B=C+(k<<9&4294967295|k>>>23),k=F+(C^N&(B^C))+M[3]+4107603335&4294967295,F=B+(k<<14&4294967295|k>>>18),k=N+(B^C&(F^B))+M[8]+1163531501&4294967295,N=F+(k<<20&4294967295|k>>>12),k=C+(F^B&(N^F))+M[13]+2850285829&4294967295,C=N+(k<<5&4294967295|k>>>27),k=B+(N^F&(C^N))+M[2]+4243563512&4294967295,B=C+(k<<9&4294967295|k>>>23),k=F+(C^N&(B^C))+M[7]+1735328473&4294967295,F=B+(k<<14&4294967295|k>>>18),k=N+(B^C&(F^B))+M[12]+2368359562&4294967295,N=F+(k<<20&4294967295|k>>>12),k=C+(N^F^B)+M[5]+4294588738&4294967295,C=N+(k<<4&4294967295|k>>>28),k=B+(C^N^F)+M[8]+2272392833&4294967295,B=C+(k<<11&4294967295|k>>>21),k=F+(B^C^N)+M[11]+1839030562&4294967295,F=B+(k<<16&4294967295|k>>>16),k=N+(F^B^C)+M[14]+4259657740&4294967295,N=F+(k<<23&4294967295|k>>>9),k=C+(N^F^B)+M[1]+2763975236&4294967295,C=N+(k<<4&4294967295|k>>>28),k=B+(C^N^F)+M[4]+1272893353&4294967295,B=C+(k<<11&4294967295|k>>>21),k=F+(B^C^N)+M[7]+4139469664&4294967295,F=B+(k<<16&4294967295|k>>>16),k=N+(F^B^C)+M[10]+3200236656&4294967295,N=F+(k<<23&4294967295|k>>>9),k=C+(N^F^B)+M[13]+681279174&4294967295,C=N+(k<<4&4294967295|k>>>28),k=B+(C^N^F)+M[0]+3936430074&4294967295,B=C+(k<<11&4294967295|k>>>21),k=F+(B^C^N)+M[3]+3572445317&4294967295,F=B+(k<<16&4294967295|k>>>16),k=N+(F^B^C)+M[6]+76029189&4294967295,N=F+(k<<23&4294967295|k>>>9),k=C+(N^F^B)+M[9]+3654602809&4294967295,C=N+(k<<4&4294967295|k>>>28),k=B+(C^N^F)+M[12]+3873151461&4294967295,B=C+(k<<11&4294967295|k>>>21),k=F+(B^C^N)+M[15]+530742520&4294967295,F=B+(k<<16&4294967295|k>>>16),k=N+(F^B^C)+M[2]+3299628645&4294967295,N=F+(k<<23&4294967295|k>>>9),k=C+(F^(N|~B))+M[0]+4096336452&4294967295,C=N+(k<<6&4294967295|k>>>26),k=B+(N^(C|~F))+M[7]+1126891415&4294967295,B=C+(k<<10&4294967295|k>>>22),k=F+(C^(B|~N))+M[14]+2878612391&4294967295,F=B+(k<<15&4294967295|k>>>17),k=N+(B^(F|~C))+M[5]+4237533241&4294967295,N=F+(k<<21&4294967295|k>>>11),k=C+(F^(N|~B))+M[12]+1700485571&4294967295,C=N+(k<<6&4294967295|k>>>26),k=B+(N^(C|~F))+M[3]+2399980690&4294967295,B=C+(k<<10&4294967295|k>>>22),k=F+(C^(B|~N))+M[10]+4293915773&4294967295,F=B+(k<<15&4294967295|k>>>17),k=N+(B^(F|~C))+M[1]+2240044497&4294967295,N=F+(k<<21&4294967295|k>>>11),k=C+(F^(N|~B))+M[8]+1873313359&4294967295,C=N+(k<<6&4294967295|k>>>26),k=B+(N^(C|~F))+M[15]+4264355552&4294967295,B=C+(k<<10&4294967295|k>>>22),k=F+(C^(B|~N))+M[6]+2734768916&4294967295,F=B+(k<<15&4294967295|k>>>17),k=N+(B^(F|~C))+M[13]+1309151649&4294967295,N=F+(k<<21&4294967295|k>>>11),k=C+(F^(N|~B))+M[4]+4149444226&4294967295,C=N+(k<<6&4294967295|k>>>26),k=B+(N^(C|~F))+M[11]+3174756917&4294967295,B=C+(k<<10&4294967295|k>>>22),k=F+(C^(B|~N))+M[2]+718787259&4294967295,F=B+(k<<15&4294967295|k>>>17),k=N+(B^(F|~C))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(F+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+F&4294967295,x.g[3]=x.g[3]+B&4294967295}i.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var N=C-this.blockSize,M=this.B,F=this.h,B=0;B<C;){if(F==0)for(;B<=N;)o(this,x,B),B+=this.blockSize;if(typeof x=="string"){for(;B<C;)if(M[F++]=x.charCodeAt(B++),F==this.blockSize){o(this,M),F=0;break}}else for(;B<C;)if(M[F++]=x[B++],F==this.blockSize){o(this,M),F=0;break}}this.h=F,this.o+=C},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var N=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=N&255,N/=256;for(this.u(x),x=Array(16),C=N=0;4>C;++C)for(var M=0;32>M;M+=8)x[N++]=this.g[C]>>>M&255;return x};function a(x,C){var N=h;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=C(x)}function u(x,C){this.h=C;for(var N=[],M=!0,F=x.length-1;0<=F;F--){var B=x[F]|0;M&&B==C||(N[F]=B,M=!1)}this.g=N}var h={};function p(x){return-128<=x&&128>x?a(x,function(C){return new u([C|0],0>C?-1:0)}):new u([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return O(_(-x));for(var C=[],N=1,M=0;x>=N;M++)C[M]=x/N|0,N*=4294967296;return new u(C,0)}function E(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return O(E(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=_(Math.pow(C,8)),M=S,F=0;F<x.length;F+=8){var B=Math.min(8,x.length-F),k=parseInt(x.substring(F,F+B),C);8>B?(B=_(Math.pow(C,B)),M=M.j(B).add(_(k))):(M=M.j(N),M=M.add(_(k)))}return M}var S=p(0),A=p(1),D=p(16777216);n=u.prototype,n.m=function(){if(L(this))return-O(this).m();for(var x=0,C=1,N=0;N<this.g.length;N++){var M=this.i(N);x+=(0<=M?M:4294967296+M)*C,C*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U(this))return"0";if(L(this))return"-"+O(this).toString(x);for(var C=_(Math.pow(x,6)),N=this,M="";;){var F=he(N,C).g;N=z(N,F.j(C));var B=((0<N.g.length?N.g[0]:N.h)>>>0).toString(x);if(N=F,U(N))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function U(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function L(x){return x.h==-1}n.l=function(x){return x=z(this,x),L(x)?-1:U(x)?0:1};function O(x){for(var C=x.g.length,N=[],M=0;M<C;M++)N[M]=~x.g[M];return new u(N,~x.h).add(A)}n.abs=function(){return L(this)?O(this):this},n.add=function(x){for(var C=Math.max(this.g.length,x.g.length),N=[],M=0,F=0;F<=C;F++){var B=M+(this.i(F)&65535)+(x.i(F)&65535),k=(B>>>16)+(this.i(F)>>>16)+(x.i(F)>>>16);M=k>>>16,B&=65535,k&=65535,N[F]=k<<16|B}return new u(N,N[N.length-1]&-2147483648?-1:0)};function z(x,C){return x.add(O(C))}n.j=function(x){if(U(this)||U(x))return S;if(L(this))return L(x)?O(this).j(O(x)):O(O(this).j(x));if(L(x))return O(this.j(O(x)));if(0>this.l(D)&&0>x.l(D))return _(this.m()*x.m());for(var C=this.g.length+x.g.length,N=[],M=0;M<2*C;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<x.g.length;F++){var B=this.i(M)>>>16,k=this.i(M)&65535,He=x.i(F)>>>16,ht=x.i(F)&65535;N[2*M+2*F]+=k*ht,K(N,2*M+2*F),N[2*M+2*F+1]+=B*ht,K(N,2*M+2*F+1),N[2*M+2*F+1]+=k*He,K(N,2*M+2*F+1),N[2*M+2*F+2]+=B*He,K(N,2*M+2*F+2)}for(M=0;M<C;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=C;M<2*C;M++)N[M]=0;return new u(N,0)};function K(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function Z(x,C){this.g=x,this.h=C}function he(x,C){if(U(C))throw Error("division by zero");if(U(x))return new Z(S,S);if(L(x))return C=he(O(x),C),new Z(O(C.g),O(C.h));if(L(C))return C=he(x,O(C)),new Z(O(C.g),C.h);if(30<x.g.length){if(L(x)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var N=A,M=C;0>=M.l(x);)N=Y(N),M=Y(M);var F=J(N,1),B=J(M,1);for(M=J(M,2),N=J(N,2);!U(M);){var k=B.add(M);0>=k.l(x)&&(F=F.add(N),B=k),M=J(M,1),N=J(N,1)}return C=z(x,F.j(C)),new Z(F,C)}for(F=S;0<=x.l(C);){for(N=Math.max(1,Math.floor(x.m()/C.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=_(N),k=B.j(C);L(k)||0<k.l(x);)N-=M,B=_(N),k=B.j(C);U(B)&&(B=A),F=F.add(B),x=z(x,k)}return new Z(F,x)}n.A=function(x){return he(this,x).h},n.and=function(x){for(var C=Math.max(this.g.length,x.g.length),N=[],M=0;M<C;M++)N[M]=this.i(M)&x.i(M);return new u(N,this.h&x.h)},n.or=function(x){for(var C=Math.max(this.g.length,x.g.length),N=[],M=0;M<C;M++)N[M]=this.i(M)|x.i(M);return new u(N,this.h|x.h)},n.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),N=[],M=0;M<C;M++)N[M]=this.i(M)^x.i(M);return new u(N,this.h^x.h)};function Y(x){for(var C=x.g.length+1,N=[],M=0;M<C;M++)N[M]=x.i(M)<<1|x.i(M-1)>>>31;return new u(N,x.h)}function J(x,C){var N=C>>5;C%=32;for(var M=x.g.length-N,F=[],B=0;B<M;B++)F[B]=0<C?x.i(B+N)>>>C|x.i(B+N+1)<<32-C:x.i(B+N);return new u(F,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,kE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=_,u.fromString=E,na=u}).apply(typeof j_<"u"?j_:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RE,pu,xE,Vd,Xp,OE,NE,DE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function o(c,y){if(y)e:{var w=i;c=c.split(".");for(var b=0;b<c.length-1;b++){var q=c[b];if(!(q in w))break e;w=w[q]}c=c[c.length-1],b=w[c],y=y(b),y!=b&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,b=!1,q={next:function(){if(!b&&w<c.length){var X=w++;return{value:y(X,c[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function _(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,w){return c.call.apply(c.bind,arguments)}function S(c,y,w){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,b),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function A(c,y,w){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function D(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var b=w.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function U(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(b,q,X){for(var de=Array(arguments.length-2),it=2;it<arguments.length;it++)de[it-2]=arguments[it];return y.prototype[q].apply(b,de)}}function L(c){const y=c.length;if(0<y){const w=Array(y);for(let b=0;b<y;b++)w[b]=c[b];return w}return[]}function O(c,y){for(let w=1;w<arguments.length;w++){const b=arguments[w];if(p(b)){const q=c.length||0,X=b.length||0;c.length=q+X;for(let de=0;de<X;de++)c[q+de]=b[de]}else c.push(b)}}class z{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function K(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var Y=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function J(c,y,w){for(const b in c)y.call(w,c[b],b,c)}function x(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function C(c){const y={};for(const w in c)y[w]=c[w];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let w,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(w in b)c[w]=b[w];for(let X=0;X<N.length;X++)w=N[X],Object.prototype.hasOwnProperty.call(b,w)&&(c[w]=b[w])}}function F(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function B(c){h.setTimeout(()=>{throw c},0)}function k(){var c=Ee;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class He{constructor(){this.h=this.g=null}add(y,w){const b=ht.get();b.set(y,w),this.h?this.h.next=b:this.g=b,this.h=b}}var ht=new z(()=>new Lt,c=>c.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,ue=!1,Ee=new He,me=()=>{const c=h.Promise.resolve(void 0);Ge=()=>{c.then($)}};var $=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(w){B(w)}var y=ht;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ue=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Se.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function Oe(c,y){if(Se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(Y){e:{try{he(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}U(Oe,Se);var $e={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),ze=0;function Ue(c,y,w,b,q){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!b,this.ha=q,this.key=++ze,this.da=this.fa=!1}function rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function En(c){this.src=c,this.g={},this.h=0}En.prototype.add=function(c,y,w,b,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var de=Tn(c,y,b,q);return-1<de?(y=c[de],w||(y.fa=!1)):(y=new Ue(y,this.src,X,!!b,q),y.fa=w,c.push(y)),y};function Rt(c,y){var w=y.type;if(w in c.g){var b=c.g[w],q=Array.prototype.indexOf.call(b,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(b,q,1),X&&(rt(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Tn(c,y,w,b){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==y&&X.capture==!!w&&X.ha==b)return q}return-1}var mr="closure_lm_"+(1e6*Math.random()|0),Or={};function Be(c,y,w,b,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Be(c,y[X],w,b,q);return null}return w=Ce(w),c&&c[Qe]?c.K(y,w,_(b)?!!b.capture:!1,q):Wt(c,y,w,!1,b,q)}function Wt(c,y,w,b,q,X){if(!y)throw Error("Invalid event type");var de=_(q)?!!q.capture:!!q,it=fe(c);if(it||(c[mr]=it=new En(c)),w=it.add(y,w,b,de,X),w.proxy)return w;if(b=In(),w.proxy=b,b.src=c,b.listener=w,c.addEventListener)Ve||(q=de),q===void 0&&(q=!1),c.addEventListener(y.toString(),b,q);else if(c.attachEvent)c.attachEvent(ft(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return w}function In(){function c(w){return y.call(c.src,c.listener,w)}const y=G;return c}function Xt(c,y,w,b,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)Xt(c,y[X],w,b,q);else b=_(b)?!!b.capture:!!b,w=Ce(w),c&&c[Qe]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],w=Tn(X,w,b,q),-1<w&&(rt(X[w]),Array.prototype.splice.call(X,w,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=fe(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Tn(y,w,b,q)),(w=-1<c?y[c]:null)&&ot(w))}function ot(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Qe])Rt(y.i,c);else{var w=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(w,b,c.capture):y.detachEvent?y.detachEvent(ft(w),b):y.addListener&&y.removeListener&&y.removeListener(b),(w=fe(y))?(Rt(w,c),w.h==0&&(w.src=null,y[mr]=null)):rt(c)}}}function ft(c){return c in Or?Or[c]:Or[c]="on"+c}function G(c,y){if(c.da)c=!0;else{y=new Oe(y,this);var w=c.listener,b=c.ha||c.src;c.fa&&ot(c),c=w.call(b,y)}return c}function fe(c){return c=c[mr],c instanceof En?c:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ce(c){return typeof c=="function"?c:(c[pe]||(c[pe]=function(y){return c.handleEvent(y)}),c[pe])}function Ae(){re.call(this),this.i=new En(this),this.M=this,this.F=null}U(Ae,re),Ae.prototype[Qe]=!0,Ae.prototype.removeEventListener=function(c,y,w,b){Xt(this,c,y,w,b)};function ke(c,y){var w,b=c.F;if(b)for(w=[];b;b=b.F)w.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new Se(y,c);else if(y instanceof Se)y.target=y.target||c;else{var q=y;y=new Se(b,c),M(y,q)}if(q=!0,w)for(var X=w.length-1;0<=X;X--){var de=y.g=w[X];q=at(de,b,!0,y)&&q}if(de=y.g=c,q=at(de,b,!0,y)&&q,q=at(de,b,!1,y)&&q,w)for(X=0;X<w.length;X++)de=y.g=w[X],q=at(de,b,!1,y)&&q}Ae.prototype.N=function(){if(Ae.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],b=0;b<w.length;b++)rt(w[b]);delete c.g[y],c.h--}}this.F=null},Ae.prototype.K=function(c,y,w,b){return this.i.add(String(c),y,!1,w,b)},Ae.prototype.L=function(c,y,w,b){return this.i.add(String(c),y,!0,w,b)};function at(c,y,w,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var de=y[X];if(de&&!de.da&&de.capture==w){var it=de.listener,At=de.ha||de.src;de.fa&&Rt(c.i,de),q=it.call(At,b)!==!1&&q}}return q&&!b.defaultPrevented}function Jt(c,y,w){if(typeof c=="function")w&&(c=A(c,w));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function Vn(c){c.g=Jt(()=>{c.g=null,c.i&&(c.i=!1,Vn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ne extends re{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(c){re.call(this),this.h=c,this.g={}}U(Nr,re);var Yr=[];function Xr(c){J(c.g,function(y,w){this.g.hasOwnProperty(w)&&ot(y)},c),c.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Xr(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vo=h.JSON.stringify,_o=h.JSON.parse,Qn=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Si(){}Si.prototype.h=null;function ds(c){return c.h||(c.h=c.i())}function hs(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){Se.call(this,"d")}U(gr,Se);function Jr(){Se.call(this,"c")}U(Jr,Se);var yr={},wo=null;function Yn(){return wo=wo||new Ae}yr.La="serverreachability";function Eo(c){Se.call(this,yr.La,c)}U(Eo,Se);function Dr(c){const y=Yn();ke(y,new Eo(y))}yr.STAT_EVENT="statevent";function To(c,y){Se.call(this,yr.STAT_EVENT,c),this.stat=y}U(To,Se);function St(c){const y=Yn();ke(y,new To(y,c))}yr.Ma="timingevent";function Zr(c,y){Se.call(this,yr.Ma,c),this.size=y}U(Zr,Se);function Xn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Ai(){this.g=!0}Ai.prototype.xa=function(){this.g=!1};function bi(c,y,w,b,q,X){c.info(function(){if(c.g)if(X)for(var de="",it=X.split("&"),At=0;At<it.length;At++){var Ye=it[At].split("=");if(1<Ye.length){var Ot=Ye[0];Ye=Ye[1];var wt=Ot.split("_");de=2<=wt.length&&wt[1]=="type"?de+(Ot+"="+Ye+"&"):de+(Ot+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+y+`
`+w+`
`+de})}function fs(c,y,w,b,q,X,de){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+y+`
`+w+`
`+X+" "+de})}function Jn(c,y,w,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Vl(c,w)+(b?" "+b:"")})}function Io(c,y){c.info(function(){return"TIMEOUT: "+y})}Ai.prototype.info=function(){};function Vl(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var b=w[c];if(!(2>b.length)){var q=b[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return vo(w)}catch{return y}}var ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Ci(){}U(Ci,Si),Ci.prototype.g=function(){return new XMLHttpRequest},Ci.prototype.i=function(){return{}},Zn=new Ci;function Sn(c,y,w,b){this.j=c,this.i=y,this.l=w,this.R=b||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var ms={},Vr={};function xt(c,y,w){c.L=1,c.v=_r(Cn(y)),c.m=w,c.P=!0,So(c,null)}function So(c,y){c.F=Date.now(),lt(c),c.A=Cn(c.v);var w=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ii(w.i,"t",b),c.C=0,w=c.j.J,c.h=new ei,c.g=Da(c.j,w?y:null,!c.m),0<c.O&&(c.M=new Ne(A(c.Y,c,c.g),c.O)),y=c.U,w=c.g,b=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Yr[0]=q.toString()),q=Yr);for(var X=0;X<q.length;X++){var de=Be(w,q[X],b||y.handleEvent,!1,y.h||y);if(!de)break;y.g[de.key]=de}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Dr(),bi(c.i,c.u,c.A,c.l,c.R,c.m)}Sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&hn(c)==3?y.j():this.Y(c)},Sn.prototype.Y=function(c){try{if(c==this.g)e:{const wt=hn(this.g);var y=this.g.Ba();const Fn=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Ro(this.g)))){this.J||wt!=4||y==7||(y==8||0>=Fn?Dr(3):Dr(2)),Pi(this);var w=this.g.Z();this.X=w;t:if(Ea(this)){var b=Ro(this.g);c="";var q=b.length,X=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),ti(this);var de="";break t}this.h.i=new h.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(X&&y==q-1)});b.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=w==200,fs(this.i,this.u,this.A,this.l,this.R,wt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var it,At=this.g;if((it=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(it)){var Ye=it;break t}}Ye=null}if(w=Ye)Jn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ao(this,w);else{this.o=!1,this.s=3,St(12),An(this),ti(this);break e}}if(this.P){w=!0;let xn;for(;!this.J&&this.C<de.length;)if(xn=Ll(this,de),xn==Vr){wt==4&&(this.s=4,St(14),w=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==ms){this.s=4,St(15),Jn(this.i,this.l,de,"[Invalid Chunk]"),w=!1;break}else Jn(this.i,this.l,xn,null),Ao(this,xn);if(Ea(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||de.length!=0||this.h.h||(this.s=1,St(16),w=!1),this.o=this.o&&w,!w)Jn(this.i,this.l,de,"[Invalid Chunked Response]"),An(this),ti(this);else if(0<de.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),No(Ot),Ot.M=!0,St(11))}}else Jn(this.i,this.l,de,null),Ao(this,de);wt==4&&An(this),this.o&&!this.J&&(wt==4?Mi(this.j,this):(this.o=!1,lt(this)))}else _s(this.g),w==400&&0<de.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),An(this),ti(this)}}}catch{}finally{}};function Ea(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ll(c,y){var w=c.C,b=y.indexOf(`
`,w);return b==-1?Vr:(w=Number(y.substring(w,b)),isNaN(w)?ms:(b+=1,b+w>y.length?Vr:(y=y.slice(b,b+w),c.C=b+w,y)))}Sn.prototype.cancel=function(){this.J=!0,An(this)};function lt(c){c.S=Date.now()+c.I,Ta(c,c.I)}function Ta(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Xn(A(c.ba,c),y)}function Pi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Io(this.i,this.A),this.L!=2&&(Dr(),St(17)),An(this),this.s=2,ti(this)):Ta(this,this.S-c)};function ti(c){c.j.G==0||c.J||Mi(c.j,c)}function An(c){Pi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Xr(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ao(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Zt(w.h,c))){if(!c.K&&Zt(w.h,c)&&w.G==3){try{var b=w.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Ts(w),ir(w);else break e;Es(w),St(18)}}else w.za=q[1],0<w.za-w.T&&37500>q[2]&&w.F&&w.v==0&&!w.C&&(w.C=Xn(A(w.Za,w),6e3));if(1>=Ia(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Ir(w,11)}else if((c.K||w.g==c)&&Ts(w),!K(y))for(q=w.Da.g.parse(y),y=0;y<q.length;y++){let Ye=q[y];if(w.T=Ye[0],Ye=Ye[1],w.G==2)if(Ye[0]=="c"){w.K=Ye[1],w.ia=Ye[2];const Ot=Ye[3];Ot!=null&&(w.la=Ot,w.j.info("VER="+w.la));const wt=Ye[4];wt!=null&&(w.Aa=wt,w.j.info("SVER="+w.Aa));const Fn=Ye[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(b=1.5*Fn,w.L=b,w.j.info("backChannelRequestTimeoutMs_="+b)),b=w;const xn=c.g;if(xn){const Fi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var X=b.h;X.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Co(X,X.h),X.h=null))}if(b.D){const $r=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;$r&&(b.ya=$r,ut(b.I,b.D,$r))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),b=w;var de=c;if(b.qa=Na(b,b.J?b.ia:null,b.W),de.K){Sa(b.h,de);var it=de,At=b.L;At&&(it.I=At),it.B&&(Pi(it),lt(it)),b.g=de}else Li(b);0<w.i.length&&sr(w)}else Ye[0]!="stop"&&Ye[0]!="close"||Ir(w,7);else w.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ir(w,7):Bt(w):Ye[0]!="noop"&&w.l&&w.l.ta(Ye),w.v=0)}}Dr(4)}catch{}}var bo=class{constructor(c,y){this.g=c,this.map=y}};function ki(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ia(c){return c.h?1:c.g?c.g.size:0}function Zt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Co(c,y){c.g?c.g.add(y):c.h=y}function Sa(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ki.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Aa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return L(c.i)}function Ri(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],w=c.length,b=0;b<w;b++)y.push(c[b]);return y}y=[],w=0;for(b in c)y[w++]=c[b];return y}function xi(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const b in c)y[w++]=b;return y}}}function ni(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=xi(c),b=Ri(c),q=b.length,X=0;X<q;X++)y.call(void 0,b[X],w&&w[X],c)}var Oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ml(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var b=c[w].indexOf("="),q=null;if(0<=b){var X=c[w].substring(0,b);q=c[w].substring(b+1)}else X=c[w];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function vr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vr){this.h=c.h,Ni(this,c.j),this.o=c.o,this.g=c.g,Pn(this,c.s),this.l=c.l;var y=c.i,w=new wr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Lr(this,w),this.m=c.m}else c&&(y=String(c).match(Oi))?(this.h=!1,Ni(this,y[1]||"",!0),this.o=We(y[2]||""),this.g=We(y[3]||"",!0),Pn(this,y[4]),this.l=We(y[5]||"",!0),Lr(this,y[6]||"",!0),this.m=We(y[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}vr.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ri(y,gs,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ri(y,gs,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ri(w,w.charAt(0)=="/"?Pa:Ca,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ri(w,Mr)),c.join("")};function Cn(c){return new vr(c)}function Ni(c,y,w){c.j=w?We(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Pn(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Lr(c,y,w){y instanceof wr?(c.i=y,Er(c.i,c.h)):(w||(y=ri(y,ka)),c.i=new wr(y,c.h))}function ut(c,y,w){c.i.set(y,w)}function _r(c){return ut(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function We(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ri(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,ba),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ba(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gs=/[#\/\?@]/g,Ca=/[#\?:]/g,Pa=/[#\?]/g,ka=/[#\?@]/g,Mr=/#/g;function wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Mt(c){c.g||(c.g=new Map,c.h=0,c.i&&Ml(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=wr.prototype,n.add=function(c,y){Mt(this),this.i=null,c=Mn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function er(c,y){Mt(c),y=Mn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function tr(c,y){return Mt(c),y=Mn(c,y),c.g.has(y)}n.forEach=function(c,y){Mt(this),this.g.forEach(function(w,b){w.forEach(function(q){c.call(y,q,b,this)},this)},this)},n.na=function(){Mt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let b=0;b<y.length;b++){const q=c[b];for(let X=0;X<q.length;X++)w.push(y[b])}return w},n.V=function(c){Mt(this);let y=[];if(typeof c=="string")tr(this,c)&&(y=y.concat(this.g.get(Mn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},n.set=function(c,y){return Mt(this),this.i=null,c=Mn(this,c),tr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ii(c,y,w){er(c,y),0<w.length&&(c.i=null,c.g.set(Mn(c,y),L(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var b=y[w];const X=encodeURIComponent(String(b)),de=this.V(b);for(b=0;b<de.length;b++){var q=X;de[b]!==""&&(q+="="+encodeURIComponent(String(de[b]))),c.push(q)}}return this.i=c.join("&")};function Mn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Er(c,y){y&&!c.j&&(Mt(c),c.i=null,c.g.forEach(function(w,b){var q=b.toLowerCase();b!=q&&(er(this,b),ii(this,q,w))},c)),c.j=y}function Fl(c,y){const w=new Ai;if(h.Image){const b=new Image;b.onload=D(dn,w,"TestLoadImage: loaded",!0,y,b),b.onerror=D(dn,w,"TestLoadImage: error",!1,y,b),b.onabort=D(dn,w,"TestLoadImage: abort",!1,y,b),b.ontimeout=D(dn,w,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Ra(c,y){const w=new Ai,b=new AbortController,q=setTimeout(()=>{b.abort(),dn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(X=>{clearTimeout(q),X.ok?dn(w,"TestPingServer: ok",!0,y):dn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),dn(w,"TestPingServer: error",!1,y)})}function dn(c,y,w,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(w)}catch{}}function jl(){this.g=new Qn}function Po(c,y,w){const b=w||"";try{ni(c,function(q,X){let de=q;_(q)&&(de=vo(q)),y.push(b+X+"="+encodeURIComponent(de))})}catch(q){throw y.push(b+"type="+encodeURIComponent("_badmap")),q}}function Fr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Fr,Si),Fr.prototype.g=function(){return new Tr(this.l,this.j)},Fr.prototype.i=function(c){return function(){return c}}({});function Tr(c,y){Ae.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Tr,Ae),n=Tr.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,rr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xa(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xa(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?nr(this):rr(this),this.readyState==3&&xa(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,nr(this))},n.Qa=function(c){this.g&&(this.response=c,nr(this))},n.ga=function(){this.g&&nr(this)};function nr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,rr(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function rr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let y="";return J(c,function(w,b){y+=b,y+=":",y+=w,y+=`\r
`}),y}function si(c,y,w){e:{for(b in w){var b=!1;break e}b=!0}b||(w=kn(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):ut(c,y,w))}function pt(c){Ae.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(pt,Ae);var Ul=/^https?$/i,ys=["POST","PUT"];n=pt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,w,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?ds(this.o):ds(Zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){oi(this,X);return}if(c=w||"",w=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)w.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())w.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||b||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of w)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){oi(this,X)}};function oi(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Di(c),Rn(c)}function Di(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ke(this,"complete"),ke(this,"abort"),Rn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rn(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ko(this):this.bb())},n.bb=function(){ko(this)};function ko(c){if(c.h&&typeof u<"u"&&(!c.v[1]||hn(c)!=4||c.Z()!=2)){if(c.u&&hn(c)==4)Jt(c.Ea,0,c);else if(ke(c,"readystatechange"),hn(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var b;if(b=de===0){var q=String(c.D).match(Oi)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),b=!Ul.test(q?q.toLowerCase():"")}w=b}if(w)ke(c,"complete"),ke(c,"success");else{c.m=6;try{var X=2<hn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Di(c)}}finally{Rn(c)}}}}function Rn(c,y){if(c.g){vs(c);const w=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||ke(c,"ready");try{w.onreadystatechange=b}catch{}}}function vs(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function hn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_o(y)}};function Ro(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(c){const y={};c=(c.g&&2<=hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(K(c[b]))continue;var w=F(c[b]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=y[q]||[];y[q]=X,X.push(w)}x(y,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function en(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function xo(c){this.Aa=0,this.i=[],this.j=new Ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=en("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=en("baseRetryDelayMs",5e3,c),this.cb=en("retryDelaySeedMs",1e4,c),this.Wa=en("forwardChannelMaxRetries",2,c),this.wa=en("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(c&&c.concurrentRequestLimit),this.Da=new jl,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xo.prototype,n.la=8,n.G=1,n.connect=function(c,y,w,b){St(0),this.W=c,this.H=y||{},w&&b!==void 0&&(this.H.OSID=w,this.H.OAID=b),this.F=this.X,this.I=Na(this,null,this.W),sr(this)};function Bt(c){if(Vi(c),c.G==3){var y=c.U++,w=Cn(c.I);if(ut(w,"SID",c.K),ut(w,"RID",y),ut(w,"TYPE","terminate"),jr(c,w),y=new Sn(c,c.j,y),y.L=2,y.v=_r(Cn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=Da(y.j,null),y.g.ea(y.v)),y.F=Date.now(),lt(y)}Ur(c)}function ir(c){c.g&&(No(c),c.g.cancel(),c.g=null)}function Vi(c){ir(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ts(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function sr(c){if(!bn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ge||me(),ue||(Ge(),ue=!0),Ee.add(y,c),c.B=0}}function Oo(c,y){return Ia(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Xn(A(c.Ga,c,y),Is(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Sn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=C(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var b=this.i[w];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=ai(this,q,y),w=Cn(this.I),ut(w,"RID",c),ut(w,"CVER",22),this.D&&ut(w,"X-HTTP-Session-Id",this.D),jr(this,w),X&&(this.O?y="headers="+encodeURIComponent(String(kn(X)))+"&"+y:this.m&&si(w,this.m,X)),Co(this.h,q),this.Ua&&ut(w,"TYPE","init"),this.P?(ut(w,"$req",y),ut(w,"SID","null"),q.T=!0,xt(q,w,null)):xt(q,w,y),this.G=2}}else this.G==3&&(c?ws(this,c):this.i.length==0||bn(this.h)||ws(this))};function ws(c,y){var w;y?w=y.l:w=c.U++;const b=Cn(c.I);ut(b,"SID",c.K),ut(b,"RID",w),ut(b,"AID",c.T),jr(c,b),c.m&&c.o&&si(b,c.m,c.o),w=new Sn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ai(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Co(c.h,w),xt(w,b,y)}function jr(c,y){c.H&&J(c.H,function(w,b){ut(y,b,w)}),c.l&&ni({},function(w,b){ut(y,b,w)})}function ai(c,y,w){w=Math.min(c.i.length,w);var b=c.l?A(c.l.Na,c.l,c):null;e:{var q=c.i;let X=-1;for(;;){const de=["count="+w];X==-1?0<w?(X=q[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let it=!0;for(let At=0;At<w;At++){let Ye=q[At].g;const Ot=q[At].map;if(Ye-=X,0>Ye)X=Math.max(0,q[At].g-100),it=!1;else try{Po(Ot,de,"req"+Ye+"_")}catch{b&&b(Ot)}}if(it){b=de.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,b}function Li(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ge||me(),ue||(Ge(),ue=!0),Ee.add(y,c),c.v=0}}function Es(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Xn(A(c.Fa,c),Is(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Oa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Xn(A(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),ir(this),Oa(this))};function No(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Oa(c){c.g=new Sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Cn(c.qa);ut(y,"RID","rpc"),ut(y,"SID",c.K),ut(y,"AID",c.T),ut(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ut(y,"TO",c.ja),ut(y,"TYPE","xmlhttp"),jr(c,y),c.m&&c.o&&si(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=_r(Cn(y)),w.m=null,w.P=!0,So(w,c)}n.Za=function(){this.C!=null&&(this.C=null,ir(this),Es(this),St(19))};function Ts(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Mi(c,y){var w=null;if(c.g==y){Ts(c),No(c),c.g=null;var b=2}else if(Zt(c.h,y))w=y.D,Sa(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;b=Yn(),ke(b,new Zr(b,w)),sr(c)}else Li(c);else if(q=y.s,q==3||q==0&&0<y.X||!(b==1&&Oo(c,y)||b==2&&Es(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),q){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function Is(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Ir(c,y){if(c.j.info("Error code "+y),y==2){var w=A(c.fb,c),b=c.Xa;const q=!b;b=new vr(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ni(b,"https"),_r(b),q?Fl(b.toString(),w):Ra(b.toString(),w)}else St(2);c.G=0,c.l&&c.l.sa(y),Ur(c),Vi(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Ur(c){if(c.G=0,c.ka=[],c.l){const y=Aa(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Na(c,y,w){var b=w instanceof vr?Cn(w):new vr(w);if(b.g!="")y&&(b.g=y+"."+b.g),Pn(b,b.s);else{var q=h.location;b=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new vr(null);b&&Ni(X,b),y&&(X.g=y),q&&Pn(X,q),w&&(X.l=w),b=X}return w=c.D,y=c.ya,w&&y&&ut(b,w,y),ut(b,"VER",c.la),jr(c,b),b}function Da(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new pt(new Fr({eb:w})):new pt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Do(){}n=Do.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ss(){}Ss.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){Ae.call(this),this.g=new xo(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!K(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!K(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Sr(this)}U(tn,Ae),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Bt(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=vo(c),c=w);y.i.push(new bo(y.Ya++,c)),y.G==3&&sr(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,tn.aa.N.call(this)};function Va(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(Va,gr);function La(){Jr.call(this),this.status=1}U(La,Jr);function Sr(c){this.g=c}U(Sr,Do),Sr.prototype.ua=function(){ke(this.g,"a")},Sr.prototype.ta=function(c){ke(this.g,new Va(c))},Sr.prototype.sa=function(c){ke(this.g,new La)},Sr.prototype.ra=function(){ke(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,DE=function(){return new Ss},NE=function(){return Yn()},OE=yr,Xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ps.NO_ERROR=0,ps.TIMEOUT=8,ps.HTTP_ERROR=6,Vd=ps,wa.COMPLETE="complete",xE=wa,hs.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",Ae.prototype.listen=Ae.prototype.K,pu=hs,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,RE=pt}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});const U_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new km("@firebase/firestore");function cu(){return ua.logLevel}function Ie(n,...e){if(ua.logLevel<=Je.DEBUG){const t=e.map($m);ua.debug(`Firestore (${xl}): ${n}`,...t)}}function ss(n,...e){if(ua.logLevel<=Je.ERROR){const t=e.map($m);ua.error(`Firestore (${xl}): ${n}`,...t)}}function yl(n,...e){if(ua.logLevel<=Je.WARN){const t=e.map($m);ua.warn(`Firestore (${xl}): ${n}`,...t)}}function $m(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n="Unexpected state"){const e=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: `+n;throw ss(e),new Error(e)}function dt(n,e){n||Me()}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ls{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vn.UNAUTHENTICATED))}shutdown(){}}class rO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iO{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new ra;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ra,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},h=p=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ra)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string"),new VE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new vn(e)}}class sO{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oO{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new sO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){dt(this.o===void 0);const i=a=>{a.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Ie("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt(typeof t.token=="string"),this.R=t.token,new aO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=uO(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function nt(n,e){return n<e?-1:n>e?1:0}function vl(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ht(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Ht(0,0))}static max(){return new Fe(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t,i){t===void 0?t=0:t>e.length&&Me(),i===void 0?i=e.length-t:i>e.length-t&&Me(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Nu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nu?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _t extends Nu{construct(e,t,i){return new _t(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const cO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Nu{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return cO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(_t.fromString(e))}static fromName(e){return new Pe(_t.fromString(e).popFirst(5))}static empty(){return new Pe(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new _t(e.slice()))}}function dO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(i===1e9?new Ht(t+1,0):new Ht(t,i));return new lo(o,Pe.empty(),e)}function hO(n){return new lo(n.readTime,n.key,-1)}class lo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new lo(Fe.min(),Pe.empty(),-1)}static max(){return new lo(Fe.max(),Pe.empty(),-1)}}function fO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:nt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==pO)throw n;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},p=>i(p))}),u=!0,a===o&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(o=>o?ae.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let p=0;p<a;p++){const _=p;t(e[_]).next(E=>{u[_]=E,++h,h===a&&i(u)},E=>o(E))}})}static doWhile(e,t){return new ae((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function gO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ic(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bm.oe=-1;function yh(n){return n==null}function eh(n){return n===0&&1/n==-1/0}function yO(n){return typeof n=="number"&&Number.isInteger(n)&&!eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ME(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}}class bd{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??on.RED,this.left=o??on.EMPTY,this.right=a??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new on(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,t,i,o,a){return this}insert(e,t,i){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(e){return new B_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class B_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new hr([])}unionWith(e){let t=new un(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new hr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FE("Invalid base64 string: "+a):a}}(e);return new cn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const vO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(n){if(dt(!!n),typeof n=="string"){let e=0;const t=vO.exec(n);if(dt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ca(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function qm(n){const e=n.mapValue.fields.__previous_value__;return zm(e)?qm(e):e}function Du(n){const e=uo(n.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t,i,o,a,u,h,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=_}}class Vu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd={mapValue:{}};function da(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zm(n)?4:EO(n)?9007199254740991:wO(n)?10:11:Me()}function Ti(n,e){if(n===e)return!0;const t=da(n);if(t!==da(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Du(n).isEqual(Du(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=uo(o.timestampValue),h=uo(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ca(o.bytesValue).isEqual(ca(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Dt(o.geoPointValue.latitude)===Dt(a.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Dt(o.integerValue)===Dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Dt(o.doubleValue),h=Dt(a.doubleValue);return u===h?eh(u)===eh(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return vl(n.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if($_(u)!==$_(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Ti(u[p],h[p])))return!1;return!0}(n,e);default:return Me()}}function Lu(n,e){return(n.values||[]).find(t=>Ti(t,e))!==void 0}function _l(n,e){if(n===e)return 0;const t=da(n),i=da(e);if(t!==i)return nt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Dt(a.integerValue||a.doubleValue),p=Dt(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return z_(n.timestampValue,e.timestampValue);case 4:return z_(Du(n),Du(e));case 5:return nt(n.stringValue,e.stringValue);case 6:return function(a,u){const h=ca(a),p=ca(u);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),p=u.split("/");for(let _=0;_<h.length&&_<p.length;_++){const E=nt(h[_],p[_]);if(E!==0)return E}return nt(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=nt(Dt(a.latitude),Dt(u.latitude));return h!==0?h:nt(Dt(a.longitude),Dt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return q_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,p,_,E;const S=a.fields||{},A=u.fields||{},D=(h=S.value)===null||h===void 0?void 0:h.arrayValue,U=(p=A.value)===null||p===void 0?void 0:p.arrayValue,L=nt(((_=D?.values)===null||_===void 0?void 0:_.length)||0,((E=U?.values)===null||E===void 0?void 0:E.length)||0);return L!==0?L:q_(D,U)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Cd.mapValue&&u===Cd.mapValue)return 0;if(a===Cd.mapValue)return 1;if(u===Cd.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),_=u.fields||{},E=Object.keys(_);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const A=nt(p[S],E[S]);if(A!==0)return A;const D=_l(h[p[S]],_[E[S]]);if(D!==0)return D}return nt(p.length,E.length)}(n.mapValue,e.mapValue);default:throw Me()}}function z_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nt(n,e);const t=uo(n),i=uo(e),o=nt(t.seconds,i.seconds);return o!==0?o:nt(t.nanos,i.nanos)}function q_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=_l(t[o],i[o]);if(a)return a}return nt(t.length,i.length)}function wl(n){return Jp(n)}function Jp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=uo(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ca(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Jp(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Jp(t.fields[u])}`;return o+"}"}(n.mapValue):Me()}function H_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zp(n){return!!n&&"integerValue"in n}function Hm(n){return!!n&&"arrayValue"in n}function W_(n){return!!n&&"nullValue"in n}function K_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ld(n){return!!n&&"mapValue"in n}function wO(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Eu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ya(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Eu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function EO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(t)}setAll(e){let t=ln.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=h.popLast()}u?i[h.lastSegment()]=Eu(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Ld(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ya(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Kn(Eu(this.value))}}function jE(n){const e=[];return ya(n.fields,(t,i)=>{const o=new ln([t]);if(Ld(i)){const a=jE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,i,o,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new _n(e,0,Fe.min(),Fe.min(),Fe.min(),Kn.empty(),0)}static newFoundDocument(e,t,i,o){return new _n(e,1,t,Fe.min(),i,o,0)}static newNoDocument(e,t){return new _n(e,2,t,Fe.min(),Fe.min(),Kn.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Fe.min(),Fe.min(),Kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.position=e,this.inclusive=t}}function G_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=Pe.comparator(Pe.fromName(u.referenceValue),t.key):i=_l(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Q_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ti(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function TO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{}class Ut extends UE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new SO(e,t,i):t==="array-contains"?new CO(e,i):t==="in"?new PO(e,i):t==="not-in"?new kO(e,i):t==="array-contains-any"?new RO(e,i):new Ut(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new AO(e,i):new bO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(_l(t,this.value)):t!==null&&da(this.value)===da(t)&&this.matchesComparison(_l(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends UE{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Qr(e,t)}matches(e){return $E(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $E(n){return n.op==="and"}function BE(n){return IO(n)&&$E(n)}function IO(n){for(const e of n.filters)if(e instanceof Qr)return!1;return!0}function em(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+wl(n.value);if(BE(n))return n.filters.map(e=>em(e)).join(",");{const e=n.filters.map(t=>em(t)).join(",");return`${n.op}(${e})`}}function zE(n,e){return n instanceof Ut?function(i,o){return o instanceof Ut&&i.op===o.op&&i.field.isEqual(o.field)&&Ti(i.value,o.value)}(n,e):n instanceof Qr?function(i,o){return o instanceof Qr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&zE(u,o.filters[h]),!0):!1}(n,e):void Me()}function qE(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${wl(t.value)}`}(n):n instanceof Qr?function(t){return t.op.toString()+" {"+t.getFilters().map(qE).join(" ,")+"}"}(n):"Filter"}class SO extends Ut{constructor(e,t,i){super(e,t,i),this.key=Pe.fromName(i.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class AO extends Ut{constructor(e,t){super(e,"in",t),this.keys=HE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bO extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=HE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Pe.fromName(i.referenceValue))}class CO extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hm(t)&&Lu(t.arrayValue,this.value)}}class PO extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lu(this.value.arrayValue,t)}}class kO extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Lu(this.value.arrayValue,t)}}class RO extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Lu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function Y_(n,e=null,t=[],i=[],o=null,a=null,u=null){return new xO(n,e,t,i,o,a,u)}function Wm(n){const e=je(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>em(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>wl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>wl(i)).join(",")),e.ue=t}return e.ue}function Km(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Q_(n.startAt,e.startAt)&&Q_(n.endAt,e.endAt)}function tm(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t=null,i=[],o=[],a=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OO(n,e,t,i,o,a,u,h){return new Ol(n,e,t,i,o,a,u,h)}function Gm(n){return new Ol(n)}function X_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WE(n){return n.collectionGroup!==null}function Tu(n){const e=je(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new un(ln.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(h=h.add(_.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Mu(a,i))}),t.has(ln.keyField().canonicalString())||e.ce.push(new Mu(ln.keyField(),i))}return e.ce}function _i(n){const e=je(n);return e.le||(e.le=NO(e,Tu(n))),e.le}function NO(n,e){if(n.limitType==="F")return Y_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Mu(o.field,a)});const t=n.endAt?new th(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new th(n.startAt.position,n.startAt.inclusive):null;return Y_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function nm(n,e){const t=n.filters.concat([e]);return new Ol(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rm(n,e,t){return new Ol(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vh(n,e){return Km(_i(n),_i(e))&&n.limitType===e.limitType}function KE(n){return`${Wm(_i(n))}|lt:${n.limitType}`}function ol(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>qE(o)).join(", ")}]`),yh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>wl(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>wl(o)).join(",")),`Target(${i})`}(_i(n))}; limitType=${n.limitType})`}function _h(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Pe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Tu(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,h,p){const _=G_(u,h,p);return u.inclusive?_<=0:_<0}(i.startAt,Tu(i),o)||i.endAt&&!function(u,h,p){const _=G_(u,h,p);return u.inclusive?_>=0:_>0}(i.endAt,Tu(i),o))}(n,e)}function DO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GE(n){return(e,t)=>{let i=!1;for(const o of Tu(n)){const a=VO(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function VO(n,e,t){const i=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(a,u,h){const p=u.data.field(a),_=h.data.field(a);return p!==null&&_!==null?_l(p,_):Me()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new Pt(Pe.comparator);function os(){return LO}const QE=new Pt(Pe.comparator);function mu(...n){let e=QE;for(const t of n)e=e.insert(t.key,t);return e}function YE(n){let e=QE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ea(){return Iu()}function XE(){return Iu()}function Iu(){return new Nl(n=>n.toString(),(n,e)=>n.isEqual(e))}const MO=new Pt(Pe.comparator),FO=new un(Pe.comparator);function Xe(...n){let e=FO;for(const t of n)e=e.add(t);return e}const jO=new un(nt);function UO(){return jO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function JE(n){return{integerValue:""+n}}function $O(n,e){return yO(e)?JE(e):Qm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function BO(n,e,t){return n instanceof Fu?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&zm(a)&&(a=qm(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof ju?eT(n,e):n instanceof Uu?tT(n,e):function(o,a){const u=ZE(o,a),h=J_(u)+J_(o.Pe);return Zp(u)&&Zp(o.Pe)?JE(h):Qm(o.serializer,h)}(n,e)}function zO(n,e,t){return n instanceof ju?eT(n,e):n instanceof Uu?tT(n,e):t}function ZE(n,e){return n instanceof nh?function(i){return Zp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Fu extends wh{}class ju extends wh{constructor(e){super(),this.elements=e}}function eT(n,e){const t=nT(e);for(const i of n.elements)t.some(o=>Ti(o,i))||t.push(i);return{arrayValue:{values:t}}}class Uu extends wh{constructor(e){super(),this.elements=e}}function tT(n,e){let t=nT(e);for(const i of n.elements)t=t.filter(o=>!Ti(o,i));return{arrayValue:{values:t}}}class nh extends wh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function J_(n){return Dt(n.integerValue||n.doubleValue)}function nT(n){return Hm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t){this.field=e,this.transform=t}}function HO(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ju&&o instanceof ju||i instanceof Uu&&o instanceof Uu?vl(i.elements,o.elements,Ti):i instanceof nh&&o instanceof nh?Ti(i.Pe,o.Pe):i instanceof Fu&&o instanceof Fu}(n.transform,e.transform)}class WO{constructor(e,t){this.version=e,this.transformResults=t}}class Kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Eh{}function rT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ym(n.key,Kr.none()):new sc(n.key,n.data,Kr.none());{const t=n.data,i=Kn.empty();let o=new un(ln.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new yo(n.key,i,new hr(o.toArray()),Kr.none())}}function KO(n,e,t){n instanceof sc?function(o,a,u){const h=o.value.clone(),p=ew(o.fieldTransforms,a,u.transformResults);h.setAll(p),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof yo?function(o,a,u){if(!Md(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=ew(o.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(iT(o)),p.setAll(h),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Su(n,e,t,i){return n instanceof sc?function(a,u,h,p){if(!Md(a.precondition,u))return h;const _=a.value.clone(),E=tw(a.fieldTransforms,p,u);return _.setAll(E),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof yo?function(a,u,h,p){if(!Md(a.precondition,u))return h;const _=tw(a.fieldTransforms,p,u),E=u.data;return E.setAll(iT(a)),E.setAll(_),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(S=>S.field))}(n,e,t,i):function(a,u,h){return Md(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function GO(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=ZE(i.transform,o||null);a!=null&&(t===null&&(t=Kn.empty()),t.set(i.field,a))}return t||null}function Z_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&vl(i,o,(a,u)=>HO(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sc extends Eh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yo extends Eh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function iT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function ew(n,e,t){const i=new Map;dt(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,zO(u,h,t[o]))}return i}function tw(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,BO(a,u,e))}return i}class Ym extends Eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QO extends Eh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&KO(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Su(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Su(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=XE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const p=rT(u,h);p!==null&&i.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Fe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xe())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,(t,i)=>Z_(t,i))&&vl(this.baseMutations,e.baseMutations,(t,i)=>Z_(t,i))}}class Xm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){dt(e.mutations.length===i.length);let o=function(){return MO}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Xm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ze;function ZO(n){switch(n){default:return Me();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function sT(n){if(n===void 0)return ss("GRPC error has no .code"),ie.UNKNOWN;switch(n){case jt.OK:return ie.OK;case jt.CANCELLED:return ie.CANCELLED;case jt.UNKNOWN:return ie.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ie.INTERNAL;case jt.UNAVAILABLE:return ie.UNAVAILABLE;case jt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case jt.NOT_FOUND:return ie.NOT_FOUND;case jt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case jt.ABORTED:return ie.ABORTED;case jt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case jt.DATA_LOSS:return ie.DATA_LOSS;default:return Me()}}(Ze=jt||(jt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new na([4294967295,4294967295],0);function nw(n){const e=eN().encode(n),t=new kE;return t.update(e),new Uint8Array(t.digest())}function rw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new na([t,i],0),new na([o,a],0)]}class Jm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new gu(`Invalid padding: ${t}`);if(i<0)throw new gu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new gu(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=na.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(na.fromNumber(i)));return o.compare(tN)===1&&(o=new na([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=nw(e),[i,o]=rw(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Jm(a,o,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ie===0)return;const t=nw(e),[i,o]=rw(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Th(Fe.min(),o,new Pt(nt),os(),Xe())}}class oc{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new oc(i,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class oT{constructor(e,t){this.targetId=e,this.me=t}}class aT{constructor(e,t,i=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class iw{constructor(){this.fe=0,this.ge=ow(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xe(),t=Xe(),i=Xe();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Me()}}),new oc(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=ow()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nN{constructor(e){this.Le=e,this.Be=new Map,this.ke=os(),this.qe=sw(),this.Qe=new Pt(nt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Me()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const a=o.target;if(tm(a))if(i===0){const u=new Pe(a.path);this.Ue(t,u,_n.newNoDocument(u,Fe.min()))}else dt(i===1);else{const u=this.Ye(t);if(u!==i){const h=this.Ze(e),p=h?this.Xe(h,e,u):1;if(p!==0){this.je(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,_)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=ca(i).toUint8Array()}catch(p){if(p instanceof FE)return yl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Jm(u,o,a)}catch(p){return yl(p instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ie===0?null:h}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.Le.tt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((a,u)=>{const h=this.Je(u);if(h){if(a.current&&tm(h.target)){const p=new Pe(h.target.path);this.ke.get(p)!==null||this.it(u,p)||this.Ue(u,p,_n.newNoDocument(p,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=Xe();this.qe.forEach((a,u)=>{let h=!0;u.forEachWhile(p=>{const _=this.Je(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Th(e,t,this.Qe,this.ke,i);return this.ke=os(),this.qe=sw(),this.Qe=new Pt(nt),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new iw,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new un(nt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new iw),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function sw(){return new Pt(Pe.comparator)}function ow(){return new Pt(Pe.comparator)}const rN={asc:"ASCENDING",desc:"DESCENDING"},iN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sN={and:"AND",or:"OR"};class oN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function im(n,e){return n.useProto3Json||yh(e)?e:{value:e}}function rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function aN(n,e){return rh(n,e.toTimestamp())}function wi(n){return dt(!!n),Fe.fromTimestamp(function(t){const i=uo(t);return new Ht(i.seconds,i.nanos)}(n))}function Zm(n,e){return sm(n,e).canonicalString()}function sm(n,e){const t=function(o){return new _t(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uT(n){const e=_t.fromString(n);return dt(pT(e)),e}function om(n,e){return Zm(n.databaseId,e.path)}function Sp(n,e){const t=uT(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(dT(t))}function cT(n,e){return Zm(n.databaseId,e)}function lN(n){const e=uT(n);return e.length===4?_t.emptyPath():dT(e)}function am(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function dT(n){return dt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function aw(n,e,t){return{name:om(n,e),fields:t.value.mapValue.fields}}function uN(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(_,E){return _.useProto3Json?(dt(E===void 0||typeof E=="string"),cn.fromBase64String(E||"")):(dt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),cn.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(_){const E=_.code===void 0?ie.UNKNOWN:sT(_.code);return new _e(E,_.message||"")}(u);t=new aT(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Sp(n,i.document.name),a=wi(i.document.updateTime),u=i.document.createTime?wi(i.document.createTime):Fe.min(),h=new Kn({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(o,a,u,h),_=i.targetIds||[],E=i.removedTargetIds||[];t=new Fd(_,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Sp(n,i.document),a=i.readTime?wi(i.readTime):Fe.min(),u=_n.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Fd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Sp(n,i.document),a=i.removedTargetIds||[];t=new Fd([],a,o,null)}else{if(!("filter"in e))return Me();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new JO(o,a),h=i.targetId;t=new oT(h,u)}}return t}function cN(n,e){let t;if(e instanceof sc)t={update:aw(n,e.key,e.value)};else if(e instanceof Ym)t={delete:om(n,e.key)};else if(e instanceof yo)t={update:aw(n,e.key,e.data),updateMask:_N(e.fieldMask)};else{if(!(e instanceof QO))return Me();t={verify:om(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof Fu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ju)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Uu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof nh)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Me()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:aN(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me()}(n,e.precondition)),t}function dN(n,e){return n&&n.length>0?(dt(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?wi(o.updateTime):wi(a);return u.isEqual(Fe.min())&&(u=wi(a)),new WO(u,o.transformResults||[])}(t,e))):[]}function hN(n,e){return{documents:[cT(n,e.path)]}}function fN(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=cT(n,o);const a=function(_){if(_.length!==0)return fT(Qr.create(_,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(_){if(_.length!==0)return _.map(E=>function(A){return{field:al(A.field),direction:gN(A.dir)}}(E))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=im(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:t,parent:o}}function pN(n){let e=lN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){dt(i===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let a=[];t.where&&(a=function(S){const A=hT(S);return A instanceof Qr&&BE(A)?A.getFilters():[A]}(t.where));let u=[];t.orderBy&&(u=function(S){return S.map(A=>function(U){return new Mu(ll(U.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(A))}(t.orderBy));let h=null;t.limit&&(h=function(S){let A;return A=typeof S=="object"?S.value:S,yh(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(S){const A=!!S.before,D=S.values||[];return new th(D,A)}(t.startAt));let _=null;return t.endAt&&(_=function(S){const A=!S.before,D=S.values||[];return new th(D,A)}(t.endAt)),OO(e,o,u,a,h,"F",p,_)}function mN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ll(t.unaryFilter.field);return Ut.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ll(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ll(t.unaryFilter.field);return Ut.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ll(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(ll(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qr.create(t.compositeFilter.filters.map(i=>hT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me()}}(t.compositeFilter.op))}(n):Me()}function gN(n){return rN[n]}function yN(n){return iN[n]}function vN(n){return sN[n]}function al(n){return{fieldPath:n.canonicalString()}}function ll(n){return ln.fromServerFormat(n.fieldPath)}function fT(n){return n instanceof Ut?function(t){if(t.op==="=="){if(K_(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NAN"}};if(W_(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(K_(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NOT_NAN"}};if(W_(t.value))return{unaryFilter:{field:al(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(t.field),op:yN(t.op),value:t.value}}}(n):n instanceof Qr?function(t){const i=t.getFilters().map(o=>fT(o));return i.length===1?i[0]:{compositeFilter:{op:vN(t.op),filters:i}}}(n):Me()}function _N(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t,i,o,a=Fe.min(),u=Fe.min(),h=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.ct=e}}function EN(n){const e=pN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.un=new IN}addToCollectionParentIndex(e,t){return this.un.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(lo.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class IN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new un(_t.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new un(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new El(0)}static kn(){return new El(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.changes=new Nl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Su(i.mutation,o,hr.empty(),Ht.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Xe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Xe()){const o=ea();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=mu();return a.forEach((h,p)=>{u=u.insert(h,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=ea();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Xe()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,o){let a=os();const u=Iu(),h=function(){return Iu()}();return t.forEach((p,_)=>{const E=i.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof yo)?a=a.insert(_.key,_):E!==void 0?(u.set(_.key,E.mutation.getFieldMask()),Su(E.mutation,_,E.mutation.getFieldMask(),Ht.now())):u.set(_.key,hr.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((_,E)=>u.set(_,E)),t.forEach((_,E)=>{var S;return h.set(_,new AN(E,(S=u.get(_))!==null&&S!==void 0?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Iu();let o=new Pt((u,h)=>u-h),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let E=i.get(p)||hr.empty();E=h.applyToLocalView(_,E),i.set(p,E);const S=(o.get(h.batchId)||Xe()).add(p);o=o.insert(h.batchId,S)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),_=p.key,E=p.value,S=XE();E.forEach(A=>{if(!a.has(A)){const D=rT(t.get(A),i.get(A));D!==null&&S.set(A,D),a=a.add(A)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,S))}return ae.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):ae.resolve(ea());let h=-1,p=a;return u.next(_=>ae.forEach(_,(E,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),a.get(E)?ae.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,p,_,Xe())).next(E=>({batchId:h,changes:YE(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(i=>{let o=mu();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=mu();return this.indexManager.getCollectionParents(e,a).next(h=>ae.forEach(h,p=>{const _=function(S,A){return new Ol(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(E=>{E.forEach((S,A)=>{u=u.insert(S,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((p,_)=>{const E=_.getKey();u.get(E)===null&&(u=u.insert(E,_n.newInvalidDocument(E)))});let h=mu();return u.forEach((p,_)=>{const E=a.get(p);E!==void 0&&Su(E.mutation,_,hr.empty(),Ht.now()),_h(t,_)&&(h=h.insert(p,_))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ae.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:EN(o.bundledQuery),readTime:wi(o.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.overlays=new Pt(Pe.comparator),this.Ir=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ea();return ae.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.ht(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const o=ea(),a=t.length+1,u=new Pe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Pt((_,E)=>_-E);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let E=a.get(_.largestBatchId);E===null&&(E=ea(),a=a.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const h=ea(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,E)=>h.set(_,E)),!(h.size()>=o)););return ae.resolve(h)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new XO(t,i));let a=this.Ir.get(t);a===void 0&&(a=Xe(),this.Ir.set(t,a)),this.Ir.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.Tr=new un(Yt.Er),this.dr=new un(Yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Yt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Yt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new Pe(new _t([])),i=new Yt(t,e),o=new Yt(t,e+1),a=[];return this.dr.forEachInRange([i,o],u=>{this.Vr(u),a.push(u.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Pe(new _t([])),i=new Yt(t,e),o=new Yt(t,e+1);let a=Xe();return this.dr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Yt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Yt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Pe.comparator(e.key,t.key)||nt(e.wr,t.wr)}static Ar(e,t){return nt(e.wr,t.wr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new un(Yt.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new YO(a,t,i,o);this.mutationQueue.push(u);for(const h of o)this.br=this.br.add(new Yt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),a=o<0?0:o;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Yt(t,0),o=new Yt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([i,o],u=>{const h=this.Dr(u.wr);a.push(h)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new un(nt);return t.forEach(o=>{const a=new Yt(o,0),u=new Yt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,u],h=>{i=i.add(h.wr)})}),ae.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Pe.isDocumentKey(a)||(a=a.child(""));const u=new Yt(new Pe(a),0);let h=new un(nt);return this.br.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(h=h.add(p.wr)),!0)},u),ae.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach(i=>{const o=this.Dr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){dt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return ae.forEach(t.mutations,o=>{const a=new Yt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new Yt(t,0),o=this.br.firstAfterOrEqual(i);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.Mr=e,this.docs=function(){return new Pt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=os();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():_n.newInvalidDocument(o))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=os();const u=t.path,h=new Pe(u.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:_,value:{document:E}}=p.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||fO(hO(E),i)<=0||(o.has(E.key)||_h(t,E))&&(a=a.insert(E.key,E.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Me()}Or(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ON(this)}getSize(e){return ae.resolve(this.size)}}class ON extends SN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.persistence=e,this.Nr=new Nl(t=>Wm(t),Km),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new eg,this.targetCount=0,this.kr=El.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new El(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Kn(t),ae.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Nr.forEach((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Nr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ae.waitFor(a).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Bm(0),this.Kr=!1,this.Kr=!0,this.$r=new kN,this.referenceDelegate=e(this),this.Ur=new NN(this),this.indexManager=new TN,this.remoteDocumentCache=function(o){return new xN(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new wN(t),this.Gr=new CN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new RN(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){Ie("MemoryPersistence","Starting transaction:",e);const o=new VN(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(a=>this.referenceDelegate.jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Hr(e,t){return ae.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class VN extends mO{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Jr=new eg,this.Yr=null}static Zr(e){return new tg(e)}get Xr(){if(this.Yr)return this.Yr;throw Me()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.Xr.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,i=>{const o=Pe.fromPath(i);return this.ei(e,o).next(a=>{a||t.removeEntry(o,Fe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ae.or([()=>ae.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=Xe(),o=Xe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new ng(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return w1()?8:gO(wn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Yi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Zi(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new LN;return this.Xi(e,t,u).next(h=>{if(a.result=h,this.zi)return this.es(e,t,u,h.size)})}).next(()=>a.result)}es(e,t,i,o){return i.documentReadCount<this.ji?(cu()<=Je.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",ol(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(cu()<=Je.DEBUG&&Ie("QueryEngine","Query:",ol(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(cu()<=Je.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",ol(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(t))):ae.resolve())}Yi(e,t){if(X_(t))return ae.resolve(null);let i=_i(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=rm(t,null,"F"),i=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Xe(...a);return this.Ji.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.ts(t,h);return this.ns(t,_,u,p.readTime)?this.Yi(e,rm(t,null,"F")):this.rs(e,_,t,p)}))})))}Zi(e,t,i,o){return X_(t)||o.isEqual(Fe.min())?ae.resolve(null):this.Ji.getDocuments(e,i).next(a=>{const u=this.ts(t,a);return this.ns(t,u,i,o)?ae.resolve(null):(cu()<=Je.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ol(t)),this.rs(e,u,t,dO(o,-1)).next(h=>h))})}ts(e,t){let i=new un(GE(e));return t.forEach((o,a)=>{_h(e,a)&&(i=i.add(a))}),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,i){return cu()<=Je.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",ol(t)),this.Ji.getDocumentsMatchingQuery(e,t,lo.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new Pt(nt),this._s=new Nl(a=>Wm(a),Km),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function jN(n,e,t,i){return new FN(n,e,t,i)}async function mT(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let p=Xe();for(const _ of o){u.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}for(const _ of a){h.push(_.batchId);for(const E of _.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(i,p).next(_=>({hs:_,removedBatchIds:u,addedBatchIds:h}))})})}function UN(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return function(h,p,_,E){const S=_.batch,A=S.keys();let D=ae.resolve();return A.forEach(U=>{D=D.next(()=>E.getEntry(p,U)).next(L=>{const O=_.docVersions.get(U);dt(O!==null),L.version.compareTo(O)<0&&(S.applyToRemoteDocument(L,_),L.isValidDocument()&&(L.setReadTime(_.commitVersion),E.addEntry(L)))})}),D.next(()=>h.mutationQueue.removeMutationBatch(p,S))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Xe();for(let _=0;_<h.mutationResults.length;++_)h.mutationResults[_].transformResults.length>0&&(p=p.add(h.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function gT(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function $N(n,e){const t=je(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach((E,S)=>{const A=o.get(S);if(!A)return;h.push(t.Ur.removeMatchingKeys(a,E.removedDocuments,S).next(()=>t.Ur.addMatchingKeys(a,E.addedDocuments,S)));let D=A.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(cn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,i)),o=o.insert(S,D),function(L,O,z){return L.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(A,D,E)&&h.push(t.Ur.updateTargetData(a,D))});let p=os(),_=Xe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,E))}),h.push(BN(a,u,e.documentUpdates).next(E=>{p=E.Ps,_=E.Is})),!i.isEqual(Fe.min())){const E=t.Ur.getLastRemoteSnapshotVersion(a).next(S=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(E)}return ae.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,_)).next(()=>p)}).then(a=>(t.os=o,a))}function BN(n,e,t){let i=Xe(),o=Xe();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=os();return t.forEach((h,p)=>{const _=a.get(h);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Fe.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):Ie("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",p.version)}),{Ps:u,Is:o}})}function zN(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function qN(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ur.getTargetData(i,e).next(a=>a?(o=a,ae.resolve(o)):t.Ur.allocateTargetId(i).next(u=>(o=new Zs(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}async function lm(n,e,t){const i=je(n),o=i.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!ic(u))throw u;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function lw(n,e,t){const i=je(n);let o=Fe.min(),a=Xe();return i.persistence.runTransaction("Execute query","readwrite",u=>function(p,_,E){const S=je(p),A=S._s.get(E);return A!==void 0?ae.resolve(S.os.get(A)):S.Ur.getTargetData(_,E)}(i,u,_i(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(u,h.targetId).next(p=>{a=p})}).next(()=>i.ss.getDocumentsMatchingQuery(u,e,t?o:Fe.min(),t?a:Xe())).next(h=>(HN(i,DO(e),h),{documents:h,Ts:a})))}function HN(n,e,t){let i=n.us.get(e)||Fe.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.us.set(e,i)}class uw{constructor(){this.activeTargetIds=UO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WN{constructor(){this.so=new uw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function Ap(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class YN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,i,o,a,u){const h=Ap(),p=this.xo(t,i.toUriEncodedString());Ie("RestConnection",`Sending RPC '${t}' ${h}:`,p,o);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,a,u),this.No(t,p,_,o).then(E=>(Ie("RestConnection",`Received RPC '${t}' ${h}: `,E),E),E=>{throw yl("RestConnection",`RPC '${t}' ${h} failed with error: `,E,"url: ",p,"request:",o),E})}Lo(t,i,o,a,u,h){return this.Mo(t,i,o,a,u)}Oo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}xo(t,i){const o=GN[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const a=Ap();return new Promise((u,h)=>{const p=new RE;p.setWithCredentials(!0),p.listenOnce(xE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Vd.NO_ERROR:const E=p.getResponseJson();Ie(yn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(E)),u(E);break;case Vd.TIMEOUT:Ie(yn,`RPC '${e}' ${a} timed out`),h(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const S=p.getStatus();if(Ie(yn,`RPC '${e}' ${a} failed with status:`,S,"response text:",p.getResponseText()),S>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const U=function(O){const z=O.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(z)>=0?z:ie.UNKNOWN}(D.status);h(new _e(U,D.message))}else h(new _e(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{Ie(yn,`RPC '${e}' ${a} completed.`)}});const _=JSON.stringify(o);Ie(yn,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",_,i,15)})}Bo(e,t,i){const o=Ap(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=DE(),h=NE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const E=a.join("");Ie(yn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=u.createWebChannel(E,p);let A=!1,D=!1;const U=new QN({Io:O=>{D?Ie(yn,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(A||(Ie(yn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),Ie(yn,`RPC '${e}' stream ${o} sending:`,O),S.send(O))},To:()=>S.close()}),L=(O,z,K)=>{O.listen(z,Z=>{try{K(Z)}catch(he){setTimeout(()=>{throw he},0)}})};return L(S,pu.EventType.OPEN,()=>{D||(Ie(yn,`RPC '${e}' stream ${o} transport opened.`),U.yo())}),L(S,pu.EventType.CLOSE,()=>{D||(D=!0,Ie(yn,`RPC '${e}' stream ${o} transport closed`),U.So())}),L(S,pu.EventType.ERROR,O=>{D||(D=!0,yl(yn,`RPC '${e}' stream ${o} transport errored:`,O),U.So(new _e(ie.UNAVAILABLE,"The operation could not be completed")))}),L(S,pu.EventType.MESSAGE,O=>{var z;if(!D){const K=O.data[0];dt(!!K);const Z=K,he=Z.error||((z=Z[0])===null||z===void 0?void 0:z.error);if(he){Ie(yn,`RPC '${e}' stream ${o} received error:`,he);const Y=he.status;let J=function(N){const M=jt[N];if(M!==void 0)return sT(M)}(Y),x=he.message;J===void 0&&(J=ie.INTERNAL,x="Unknown error status: "+Y+" with message "+he.message),D=!0,U.So(new _e(J,x)),S.close()}else Ie(yn,`RPC '${e}' stream ${o} received:`,K),U.bo(K)}}),L(h,OE.STAT_EVENT,O=>{O.stat===Xp.PROXY?Ie(yn,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Xp.NOPROXY&&Ie(yn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.wo()},0),U}}function bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n){return new oN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t,i=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&Ie("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t,i,o,a,u,h,p){this.ui=e,this.Ho=i,this.Jo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yT(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(ss(t.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===t&&this.P_(i,o)},i=>{e(()=>{const o=new _e(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XN extends vT{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=uN(this.serializer,e),i=function(a){if(!("targetChange"in a))return Fe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Fe.min():u.readTime?wi(u.readTime):Fe.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=am(this.serializer),t.addTarget=function(a,u){let h;const p=u.target;if(h=tm(p)?{documents:hN(a,p)}:{query:fN(a,p)._t},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=lT(a,u.resumeToken);const _=im(a,u.expectedCount);_!==null&&(h.expectedCount=_)}else if(u.snapshotVersion.compareTo(Fe.min())>0){h.readTime=rh(a,u.snapshotVersion.toTimestamp());const _=im(a,u.expectedCount);_!==null&&(h.expectedCount=_)}return h}(this.serializer,e);const i=mN(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=am(this.serializer),t.removeTarget=e,this.a_(t)}}class JN extends vT{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=dN(e.writeResults,e.commitTime),i=wi(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=am(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>cN(this.serializer,i))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Mo(e,sm(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(ie.UNKNOWN,a.toString())})}Lo(e,t,i,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Lo(e,sm(t,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ie.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class eD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ss(t),this.D_=!1):Ie("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(u=>{i.enqueueAndForget(async()=>{va(this)&&(Ie("RemoteStore","Restarting streams for network reachability change."),await async function(p){const _=je(p);_.L_.add(4),await ac(_),_.q_.set("Unknown"),_.L_.delete(4),await Sh(_)}(this))})}),this.q_=new eD(i,o)}}async function Sh(n){if(va(n))for(const e of n.B_)await e(!0)}async function ac(n){for(const e of n.B_)await e(!1)}function _T(n,e){const t=je(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),og(t)?sg(t):Dl(t).r_()&&ig(t,e))}function rg(n,e){const t=je(n),i=Dl(t);t.N_.delete(e),i.r_()&&wT(t,e),t.N_.size===0&&(i.r_()?i.o_():va(t)&&t.q_.set("Unknown"))}function ig(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dl(n).A_(e)}function wT(n,e){n.Q_.xe(e),Dl(n).R_(e)}function sg(n){n.Q_=new nN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Dl(n).start(),n.q_.v_()}function og(n){return va(n)&&!Dl(n).n_()&&n.N_.size>0}function va(n){return je(n).L_.size===0}function ET(n){n.Q_=void 0}async function nD(n){n.q_.set("Online")}async function rD(n){n.N_.forEach((e,t)=>{ig(n,e)})}async function iD(n,e){ET(n),og(n)?(n.q_.M_(e),sg(n)):n.q_.set("Unknown")}async function sD(n,e,t){if(n.q_.set("Online"),e instanceof aT&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.N_.delete(h),o.Q_.removeTarget(h))}(n,e)}catch(i){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ih(n,i)}else if(e instanceof Fd?n.Q_.Ke(e):e instanceof oT?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Fe.min()))try{const i=await gT(n.localStore);t.compareTo(i)>=0&&await function(a,u){const h=a.Q_.rt(u);return h.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const E=a.N_.get(_);E&&a.N_.set(_,E.withResumeToken(p.resumeToken,u))}}),h.targetMismatches.forEach((p,_)=>{const E=a.N_.get(p);if(!E)return;a.N_.set(p,E.withResumeToken(cn.EMPTY_BYTE_STRING,E.snapshotVersion)),wT(a,p);const S=new Zs(E.target,p,_,E.sequenceNumber);ig(a,S)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){Ie("RemoteStore","Failed to raise snapshot:",i),await ih(n,i)}}async function ih(n,e,t){if(!ic(e))throw e;n.L_.add(1),await ac(n),n.q_.set("Offline"),t||(t=()=>gT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ie("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Sh(n)})}function TT(n,e){return e().catch(t=>ih(n,t,e))}async function Ah(n){const e=je(n),t=co(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oD(e);)try{const o=await zN(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,aD(e,o)}catch(o){await ih(e,o)}IT(e)&&ST(e)}function oD(n){return va(n)&&n.O_.length<10}function aD(n,e){n.O_.push(e);const t=co(n);t.r_()&&t.V_&&t.m_(e.mutations)}function IT(n){return va(n)&&!co(n).n_()&&n.O_.length>0}function ST(n){co(n).start()}async function lD(n){co(n).p_()}async function uD(n){const e=co(n);for(const t of n.O_)e.m_(t.mutations)}async function cD(n,e,t){const i=n.O_.shift(),o=Xm.from(i,e,t);await TT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ah(n)}async function dD(n,e){e&&co(n).V_&&await async function(i,o){if(function(u){return ZO(u)&&u!==ie.ABORTED}(o.code)){const a=i.O_.shift();co(i).s_(),await TT(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ah(i)}}(n,e),IT(n)&&ST(n)}async function dw(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const i=va(t);t.L_.add(3),await ac(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Sh(t)}async function hD(n,e){const t=je(n);e?(t.L_.delete(2),await Sh(t)):e||(t.L_.add(2),await ac(t),t.q_.set("Unknown"))}function Dl(n){return n.K_||(n.K_=function(t,i,o){const a=je(t);return a.w_(),new XN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Eo:nD.bind(null,n),Ro:rD.bind(null,n),mo:iD.bind(null,n),d_:sD.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),og(n)?sg(n):n.q_.set("Unknown")):(await n.K_.stop(),ET(n))})),n.K_}function co(n){return n.U_||(n.U_=function(t,i,o){const a=je(t);return a.w_(),new JN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:lD.bind(null,n),mo:dD.bind(null,n),f_:uD.bind(null,n),g_:cD.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await Ah(n)):(await n.U_.stop(),n.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,h=new ag(e,t,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(n,e){if(ss("AsyncQueue",`${e}: ${n}`),ic(n))return new _e(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Pe.comparator(t.key,i.key):(t,i)=>Pe.comparator(t.key,i.key),this.keyedMap=mu(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new pl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.W_=new Pt(Pe.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Me():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Tl{constructor(e,t,i,o,a,u,h,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Tl(e,t,pl.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class pD{constructor(){this.queries=fw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=je(t),a=o.queries;o.queries=fw(),a.forEach((u,h)=>{for(const p of h.j_)p.onError(i)})})(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function fw(){return new Nl(n=>KE(n),vh)}async function mD(n,e){const t=je(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(i=2):(a=new fD,i=e.J_()?0:1);try{switch(i){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=lg(u,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&ug(t)}async function gD(n,e){const t=je(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.j_.indexOf(e);u>=0&&(a.j_.splice(u,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function yD(n,e){const t=je(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.j_)h.X_(o)&&(i=!0);u.z_=o}}i&&ug(t)}function vD(n,e,t){const i=je(n),o=i.queries.get(e);if(o)for(const a of o.j_)a.onError(t);i.queries.delete(e)}function ug(n){n.Y_.forEach(e=>{e.next()})}var um,pw;(pw=um||(um={})).ea="default",pw.Cache="cache";class _D{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Tl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class wD{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xe(),this.mutatedKeys=Xe(),this.Aa=GE(e),this.Ra=new pl(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new hw,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const A=o.get(E),D=_h(this.query,S)?S:null,U=!!A&&this.mutatedKeys.has(A.key),L=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let O=!1;A&&D?A.data.isEqual(D.data)?U!==L&&(i.track({type:3,doc:D}),O=!0):this.ga(A,D)||(i.track({type:2,doc:D}),O=!0,(p&&this.Aa(D,p)>0||_&&this.Aa(D,_)<0)&&(h=!0)):!A&&D?(i.track({type:0,doc:D}),O=!0):A&&!D&&(i.track({type:1,doc:A}),O=!0,(p||_)&&(h=!0)),O&&(D?(u=u.add(D),a=L?a.add(E):a.delete(E)):(u=u.delete(E),a=a.delete(E)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),a=a.delete(E.key),i.track({type:1,doc:E})}return{Ra:u,fa:i,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((E,S)=>function(D,U){const L=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return L(D)-L(U)}(E.type,S.type)||this.Aa(E.doc,S.doc)),this.pa(i),o=o!=null&&o;const h=t&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,_=p!==this.Ea;return this.Ea=p,u.length!==0||_?{snapshot:new Tl(this.query,e.Ra,a,u,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xe(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new bT(i))}),this.da.forEach(i=>{e.has(i)||t.push(new AT(i))}),t}ba(e){this.Ta=e.Ts,this.da=Xe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Tl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ED{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class TD{constructor(e){this.key=e,this.va=!1}}class ID{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Nl(h=>KE(h),vh),this.Ma=new Map,this.xa=new Set,this.Oa=new Pt(Pe.comparator),this.Na=new Map,this.La=new eg,this.Ba={},this.ka=new Map,this.qa=El.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function SD(n,e,t=!0){const i=OT(n);let o;const a=i.Fa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await CT(i,e,t,!0),o}async function AD(n,e){const t=OT(n);await CT(t,e,!0,!1)}async function CT(n,e,t,i){const o=await qN(n.localStore,_i(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await bD(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&_T(n.remoteStore,o),h}async function bD(n,e,t,i,o){n.Ka=(S,A,D)=>async function(L,O,z,K){let Z=O.view.ma(z);Z.ns&&(Z=await lw(L.localStore,O.query,!1).then(({documents:x})=>O.view.ma(x,Z)));const he=K&&K.targetChanges.get(O.targetId),Y=K&&K.targetMismatches.get(O.targetId)!=null,J=O.view.applyChanges(Z,L.isPrimaryClient,he,Y);return gw(L,O.targetId,J.wa),J.snapshot}(n,S,A,D);const a=await lw(n.localStore,e,!0),u=new wD(e,a.Ts),h=u.ma(a.documents),p=oc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=u.applyChanges(h,n.isPrimaryClient,p);gw(n,t,_.wa);const E=new ED(e,t,u);return n.Fa.set(e,E),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),_.snapshot}async function CD(n,e,t){const i=je(n),o=i.Fa.get(e),a=i.Ma.get(o.targetId);if(a.length>1)return i.Ma.set(o.targetId,a.filter(u=>!vh(u,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await lm(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&rg(i.remoteStore,o.targetId),cm(i,o.targetId)}).catch(rc)):(cm(i,o.targetId),await lm(i.localStore,o.targetId,!0))}async function PD(n,e){const t=je(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),rg(t.remoteStore,i.targetId))}async function kD(n,e,t){const i=LD(n);try{const o=await function(u,h){const p=je(u),_=Ht.now(),E=h.reduce((D,U)=>D.add(U.key),Xe());let S,A;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let U=os(),L=Xe();return p.cs.getEntries(D,E).next(O=>{U=O,U.forEach((z,K)=>{K.isValidDocument()||(L=L.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,U)).next(O=>{S=O;const z=[];for(const K of h){const Z=GO(K,S.get(K.key).overlayedDocument);Z!=null&&z.push(new yo(K.key,Z,jE(Z.value.mapValue),Kr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,_,z,h)}).next(O=>{A=O;const z=O.applyToLocalDocumentSet(S,L);return p.documentOverlayCache.saveOverlays(D,O.batchId,z)})}).then(()=>({batchId:A.batchId,changes:YE(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,p){let _=u.Ba[u.currentUser.toKey()];_||(_=new Pt(nt)),_=_.insert(h,p),u.Ba[u.currentUser.toKey()]=_}(i,o.batchId,t),await lc(i,o.changes),await Ah(i.remoteStore)}catch(o){const a=lg(o,"Failed to persist write");t.reject(a)}}async function PT(n,e){const t=je(n);try{const i=await $N(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Na.get(a);u&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.va=!0:o.modifiedDocuments.size>0?dt(u.va):o.removedDocuments.size>0&&(dt(u.va),u.va=!1))}),await lc(t,i,e)}catch(i){await rc(i)}}function mw(n,e,t){const i=je(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach((a,u)=>{const h=u.view.Z_(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const p=je(u);p.onlineState=h;let _=!1;p.queries.forEach((E,S)=>{for(const A of S.j_)A.Z_(h)&&(_=!0)}),_&&ug(p)}(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function RD(n,e,t){const i=je(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),a=o&&o.key;if(a){let u=new Pt(Pe.comparator);u=u.insert(a,_n.newNoDocument(a,Fe.min()));const h=Xe().add(a),p=new Th(Fe.min(),new Map,new Pt(nt),u,h);await PT(i,p),i.Oa=i.Oa.remove(a),i.Na.delete(e),cg(i)}else await lm(i.localStore,e,!1).then(()=>cm(i,e,t)).catch(rc)}async function xD(n,e){const t=je(n),i=e.batch.batchId;try{const o=await UN(t.localStore,e);RT(t,i,null),kT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await lc(t,o)}catch(o){await rc(o)}}async function OD(n,e,t){const i=je(n);try{const o=await function(u,h){const p=je(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return p.mutationQueue.lookupMutationBatch(_,h).next(S=>(dt(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,E,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>p.localDocuments.getDocuments(_,E))})}(i.localStore,e);RT(i,e,t),kT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await lc(i,o)}catch(o){await rc(o)}}function kT(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function RT(n,e,t){const i=je(n);let o=i.Ba[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||xT(n,i)})}function xT(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(rg(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),cg(n))}function gw(n,e,t){for(const i of t)i instanceof AT?(n.La.addReference(i.key,e),ND(n,i)):i instanceof bT?(Ie("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||xT(n,i.key)):Me()}function ND(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(Ie("SyncEngine","New document in limbo: "+t),n.xa.add(i),cg(n))}function cg(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Pe(_t.fromString(e)),i=n.qa.next();n.Na.set(i,new TD(t)),n.Oa=n.Oa.insert(t,i),_T(n.remoteStore,new Zs(_i(Gm(t.path)),i,"TargetPurposeLimboResolution",Bm.oe))}}async function lc(n,e,t){const i=je(n),o=[],a=[],u=[];i.Fa.isEmpty()||(i.Fa.forEach((h,p)=>{u.push(i.Ka(p,e,t).then(_=>{var E;if((_||t)&&i.isPrimaryClient){const S=_?!_.fromCache:(E=t?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(_){o.push(_);const S=ng.Wi(p.targetId,_);a.push(S)}}))}),await Promise.all(u),i.Ca.d_(o),await async function(p,_){const E=je(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(_,A=>ae.forEach(A.$i,D=>E.persistence.referenceDelegate.addReference(S,A.targetId,D)).next(()=>ae.forEach(A.Ui,D=>E.persistence.referenceDelegate.removeReference(S,A.targetId,D)))))}catch(S){if(!ic(S))throw S;Ie("LocalStore","Failed to update sequence numbers: "+S)}for(const S of _){const A=S.targetId;if(!S.fromCache){const D=E.os.get(A),U=D.snapshotVersion,L=D.withLastLimboFreeSnapshotVersion(U);E.os=E.os.insert(A,L)}}}(i.localStore,a))}async function DD(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const i=await mT(t.localStore,e);t.currentUser=e,function(a,u){a.ka.forEach(h=>{h.forEach(p=>{p.reject(new _e(ie.CANCELLED,u))})}),a.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await lc(t,i.hs)}}function VD(n,e){const t=je(n),i=t.Na.get(e);if(i&&i.va)return Xe().add(i.key);{let o=Xe();const a=t.Ma.get(e);if(!a)return o;for(const u of a){const h=t.Fa.get(u);o=o.unionWith(h.view.Va)}return o}}function OT(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RD.bind(null,e),e.Ca.d_=yD.bind(null,e.eventManager),e.Ca.$a=vD.bind(null,e.eventManager),e}function LD(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OD.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return jN(this.persistence,new MN,e.initialUser,this.serializer)}Ga(e){return new DN(tg.Zr,this.serializer)}Wa(e){return new WN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=DD.bind(null,this.syncEngine),await hD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pD}()}createDatastore(e){const t=Ih(e.databaseInfo.databaseId),i=function(a){return new YN(a)}(e.databaseInfo);return function(a,u,h,p){return new ZN(a,u,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,h){return new tD(i,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>mw(this.syncEngine,t,0),function(){return cw.D()?new cw:new KN}())}createSyncEngine(e,t){return function(o,a,u,h,p,_,E){const S=new ID(o,a,u,h,p,_);return E&&(S.Qa=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=je(o);Ie("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await ac(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=LE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{Ie("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Ie("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=lg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cp(n,e){n.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await mT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function yw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await jD(n);Ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>dw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>dw(e.remoteStore,o)),n._onlineComponents=e}async function jD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;yl("Error using user provided cache. Falling back to memory cache: "+t),await Cp(n,new sh)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),await Cp(n,new sh);return n._offlineComponents}async function NT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),await yw(n,n._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),await yw(n,new dm))),n._onlineComponents}function UD(n){return NT(n).then(e=>e.syncEngine)}async function vw(n){const e=await NT(n),t=e.eventManager;return t.onListen=SD.bind(null,e.syncEngine),t.onUnlisten=CD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PD.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n,e,t){if(!t)throw new _e(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $D(n,e,t,i){if(e===!0&&i===!0)throw new _e(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ww(n){if(!Pe.isDocumentKey(n))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ew(n){if(Pe.isDocumentKey(n))throw new _e(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me()}function so(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bh(n);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tw(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new nO;switch(i.type){case"firstParty":return new oO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=_w.get(t);i&&(Ie("ComponentProvider","Removing Datastore"),_w.delete(t),i.terminate())}(this),Promise.resolve()}}function BD(n,e,t,i={}){var o;const a=(n=so(n,Ch))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=vn.MOCK_USER;else{h=f1(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new vn(_)}n._authCredentials=new rO(new VE(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class Gn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class oo extends _a{constructor(e,t,i){super(e,t,Gm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Pe(e))}withConverter(e){return new oo(this.firestore,e,this._path)}}function zD(n,e,...t){if(n=$t(n),VT("collection","path",e),n instanceof Ch){const i=_t.fromString(e,...t);return Ew(i),new oo(n,null,i)}{if(!(n instanceof Gn||n instanceof oo))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_t.fromString(e,...t));return Ew(i),new oo(n.firestore,null,i)}}function LT(n,e,...t){if(n=$t(n),arguments.length===1&&(e=LE.newId()),VT("doc","path",e),n instanceof Ch){const i=_t.fromString(e,...t);return ww(i),new Gn(n,null,new Pe(i))}{if(!(n instanceof Gn||n instanceof oo))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_t.fromString(e,...t));return ww(i),new Gn(n.firestore,n instanceof oo?n.converter:null,new Pe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yT(this,"async_queue_retry"),this.Vu=()=>{const i=bp();i&&Ie("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=bp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=bp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new ra;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ic(e))throw e;Ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw ss("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=ag.createAndSchedule(this,e,t,i,a=>this.yu(a));return this.Tu.push(o),o}fu(){this.Eu&&Me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Sw(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Il extends Ch{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Iw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iw(e),this._firestoreClient=void 0,await e}}}function qD(n,e){const t=typeof n=="object"?n:H0(),i=typeof n=="string"?n:"(default)",o=xm(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=d1("firestore");a&&BD(o,...a)}return o}function MT(n){if(n._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HD(n),n._firestoreClient}function HD(n){var e,t,i;const o=n._freezeSettings(),a=function(h,p,_,E){return new _O(h,p,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,DT(E.experimentalLongPollingOptions),E.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new FD(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h?._online.build();return{_offline:h?._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(cn.fromBase64String(e))}catch(t){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sl(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=/^__.*__$/;class KD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new yo(e,this.data,this.fieldMask,t,this.fieldTransforms):new sc(e,this.data,t,this.fieldTransforms)}}class FT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new yo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class fg{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return oh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jT(this.Cu)&&WD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class GD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ih(e)}Qu(e,t,i,o=!1){return new fg({Cu:e,methodName:t,qu:i,path:ln.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(n){const e=n._freezeSettings(),t=Ih(n._databaseId);return new GD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QD(n,e,t,i,o,a={}){const u=n.Qu(a.merge||a.mergeFields?2:0,e,t,o);gg("Data must be an object, but it was:",u,i);const h=UT(i,u);let p,_;if(a.merge)p=new hr(u.fieldMask),_=u.fieldTransforms;else if(a.mergeFields){const E=[];for(const S of a.mergeFields){const A=hm(e,S,t);if(!u.contains(A))throw new _e(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);BT(E,A)||E.push(A)}p=new hr(E),_=u.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,_=u.fieldTransforms;return new KD(new Kn(h),p,_)}class Rh extends kh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rh}}class mg extends kh{_toFieldTransform(e){return new qO(e.path,new Fu)}isEqual(e){return e instanceof mg}}function YD(n,e,t,i){const o=n.Qu(1,e,t);gg("Data must be an object, but it was:",o,i);const a=[],u=Kn.empty();ya(i,(p,_)=>{const E=yg(e,p,t);_=$t(_);const S=o.Nu(E);if(_ instanceof Rh)a.push(E);else{const A=uc(_,S);A!=null&&(a.push(E),u.set(E,A))}});const h=new hr(a);return new FT(u,h,o.fieldTransforms)}function XD(n,e,t,i,o,a){const u=n.Qu(1,e,t),h=[hm(e,i,t)],p=[o];if(a.length%2!=0)throw new _e(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<a.length;A+=2)h.push(hm(e,a[A])),p.push(a[A+1]);const _=[],E=Kn.empty();for(let A=h.length-1;A>=0;--A)if(!BT(_,h[A])){const D=h[A];let U=p[A];U=$t(U);const L=u.Nu(D);if(U instanceof Rh)_.push(D);else{const O=uc(U,L);O!=null&&(_.push(D),E.set(D,O))}}const S=new hr(_);return new FT(E,S,u.fieldTransforms)}function JD(n,e,t,i=!1){return uc(t,n.Qu(i?4:3,e))}function uc(n,e){if($T(n=$t(n)))return gg("Unsupported field value:",e,n),UT(n,e);if(n instanceof kh)return function(i,o){if(!jT(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let p=uc(h,o.Lu(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=$t(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $O(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Ht.fromDate(i);return{timestampValue:rh(o.serializer,a)}}if(i instanceof Ht){const a=new Ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rh(o.serializer,a)}}if(i instanceof dg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Sl)return{bytesValue:lT(o.serializer,i._byteString)};if(i instanceof Gn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Zm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof hg)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Bu("VectorValues must only contain numeric values.");return Qm(h.serializer,p)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${bh(i)}`)}(n,e)}function UT(n,e){const t={};return ME(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(n,(i,o)=>{const a=uc(o,e.Mu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function $T(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof dg||n instanceof Sl||n instanceof Gn||n instanceof kh||n instanceof hg)}function gg(n,e,t){if(!$T(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=bh(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function hm(n,e,t){if((e=$t(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return yg(n,e);throw oh("Field path arguments must be of type string or ",n,!1,void 0,t)}const ZD=new RegExp("[~\\*/\\[\\]]");function yg(n,e,t){if(e.search(ZD)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ph(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function oh(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${i}`),u&&(p+=` in document ${o}`),p+=")"),new _e(ie.INVALID_ARGUMENT,h+n+p)}function BT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eV extends zT{data(){return super.data()}}function xh(n,e){return typeof e=="string"?yg(n,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class qT extends vg{}function nV(n,e,...t){let i=[];e instanceof vg&&i.push(e),i=i.concat(t),function(a){const u=a.filter(p=>p instanceof _g).length,h=a.filter(p=>p instanceof Oh).length;if(u>1||u>0&&h>0)throw new _e(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Oh extends qT{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Oh(e,t,i)}_apply(e){const t=this._parse(e);return HT(e._query,t),new _a(e.firestore,e.converter,nm(e._query,t))}_parse(e){const t=pg(e.firestore);return function(a,u,h,p,_,E,S){let A;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){bw(S,E);const D=[];for(const U of S)D.push(Aw(p,a,U));A={arrayValue:{values:D}}}else A=Aw(p,a,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||bw(S,E),A=JD(h,u,S,E==="in"||E==="not-in");return Ut.create(_,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rV(n,e,t){const i=e,o=xh("where",n);return Oh._create(o,i,t)}class _g extends vg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _g(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const p of h)HT(u,p),u=nm(u,p)}(e._query,t),new _a(e.firestore,e.converter,nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wg extends qT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wg(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new _e(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(a,u)}(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new Ol(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function iV(n,e="asc"){const t=e,i=xh("orderBy",n);return wg._create(i,t)}function Aw(n,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new _e(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&t.indexOf("/")!==-1)throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(_t.fromString(t));if(!Pe.isDocumentKey(i))throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return H_(n,new Pe(i))}if(t instanceof Gn)return H_(n,t._key);throw new _e(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(t)}.`)}function bw(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HT(n,e){const t=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sV{convertValue(e,t="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ya(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>Dt(u.doubleValue));return new hg(a)}convertGeoPoint(e){return new dg(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const t=uo(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=_t.fromString(e);dt(pT(i));const o=new Vu(i.get(1),i.get(3)),a=new Pe(i.popFirst(5));return o.isEqual(t)||ss(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WT extends zT{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(xh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class jd extends WT{data(e={}){return super.data(e)}}class aV{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new yu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new jd(this._firestore,this._userDataWriter,i.key,i,new yu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const p=new jd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new yu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new jd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new yu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return h.type!==0&&(_=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),E=u.indexOf(h.doc.key)),{type:lV(h.type),doc:p,oldIndex:_,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}class KT extends sV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,t)}}function uV(n,e,t,...i){n=so(n,Gn);const o=so(n.firestore,Il),a=pg(o);let u;return u=typeof(e=$t(e))=="string"||e instanceof Ph?XD(a,"updateDoc",n._key,e,t,i):YD(a,"updateDoc",n._key,e),Eg(o,[u.toMutation(n._key,Kr.exists(!0))])}function cV(n){return Eg(so(n.firestore,Il),[new Ym(n._key,Kr.none())])}function dV(n,e){const t=so(n.firestore,Il),i=LT(n),o=oV(n.converter,e);return Eg(t,[QD(pg(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Kr.exists(!1))]).then(()=>i)}function hV(n,...e){var t,i,o;n=$t(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Sw(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Sw(e[u])){const S=e[u];e[u]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[u+1]=(i=S.error)===null||i===void 0?void 0:i.bind(S),e[u+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,_,E;if(n instanceof Gn)_=so(n.firestore,Il),E=Gm(n._key.path),p={next:S=>{e[u]&&e[u](fV(_,n,S))},error:e[u+1],complete:e[u+2]};else{const S=so(n,_a);_=so(S.firestore,Il),E=S._query;const A=new KT(_);p={next:D=>{e[u]&&e[u](new aV(_,A,S,D))},error:e[u+1],complete:e[u+2]},tV(n._query)}return function(A,D,U,L){const O=new MD(L),z=new _D(D,O,U);return A.asyncQueue.enqueueAndForget(async()=>mD(await vw(A),z)),()=>{O.Za(),A.asyncQueue.enqueueAndForget(async()=>gD(await vw(A),z))}}(MT(_),E,h,p)}function Eg(n,e){return function(i,o){const a=new ra;return i.asyncQueue.enqueueAndForget(async()=>kD(await UD(i),o,a)),a.promise}(MT(n),e)}function fV(n,e,t){const i=t.docs.get(e._key),o=new KT(n);return new WT(n,o,e._key,i,new yu(t.hasPendingWrites,t.fromCache),e.converter)}function pV(){return new mg("serverTimestamp")}(function(e,t=!0){(function(o){xl=o})(kl),gl(new oa("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Il(new iO(i.getProvider("auth-internal")),new lO(i.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(_.options.projectId,E)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),io(U_,"4.7.3",e),io(U_,"4.7.3","esm2017")})();const mV={apiKey:"AIzaSyB2FXVnbOyk44DHDxmt1ortIfd6bWd3qdQ",authDomain:"lms-system-3137f.firebaseapp.com",projectId:"lms-system-3137f",storageBucket:"lms-system-3137f.firebasestorage.app",messagingSenderId:"330056683632",appId:"1:330056683632:web:ea585d32d7fa32a177e4b5",measurementId:"G-0YN7MQ7MT8"},GT=q0(mV),cc=eO(GT),gV=qD(GT),QT=n=>zD(gV,n),yV=nV,vV=rV,_V=iV,wV=dV,EV=hV,YT=LT,TV=uV,IV=cV,SV=pV,AV=async(n,e)=>{const t=await MR(cc,n,e);return await jR(t.user),t},bV=async(n,e)=>await FR(cc,n,e),CV=async()=>await zR(cc),PV=async n=>await LR(cc,n);var Ud={exports:{}};/*!
* sweetalert2 v11.6.13
* Released under the MIT License.
*/var Hs=Ud.exports,Cw;function kV(){return Cw||(Cw=1,function(n,e){(function(t,i){n.exports=i()})(Hs,function(){var t={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const i="swal2-",o=m=>{const g={};for(const T in m)g[m[T]]=i+m[T];return g},a=o(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),u=o(["success","warning","info","question","error"]),h="SweetAlert2:",p=m=>{const g=[];for(let T=0;T<m.length;T++)g.indexOf(m[T])===-1&&g.push(m[T]);return g},_=m=>m.charAt(0).toUpperCase()+m.slice(1),E=m=>{console.warn(`${h} ${typeof m=="object"?m.join(" "):m}`)},S=m=>{console.error(`${h} ${m}`)},A=[],D=m=>{A.includes(m)||(A.push(m),E(m))},U=(m,g)=>{D(`"${m}" is deprecated and will be removed in the next major release. Please use "${g}" instead.`)},L=m=>typeof m=="function"?m():m,O=m=>m&&typeof m.toPromise=="function",z=m=>O(m)?m.toPromise():Promise.resolve(m),K=m=>m&&Promise.resolve(m)===m,Z=()=>document.body.querySelector(`.${a.container}`),he=m=>{const g=Z();return g?g.querySelector(m):null},Y=m=>he(`.${m}`),J=()=>Y(a.popup),x=()=>Y(a.icon),C=()=>Y(a["icon-content"]),N=()=>Y(a.title),M=()=>Y(a["html-container"]),F=()=>Y(a.image),B=()=>Y(a["progress-steps"]),k=()=>Y(a["validation-message"]),He=()=>he(`.${a.actions} .${a.confirm}`),ht=()=>he(`.${a.actions} .${a.deny}`),Lt=()=>Y(a["input-label"]),Ge=()=>he(`.${a.loader}`),ue=()=>he(`.${a.actions} .${a.cancel}`),Ee=()=>Y(a.actions),me=()=>Y(a.footer),$=()=>Y(a["timer-progress-bar"]),re=()=>Y(a.close),Se=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ve=()=>{const m=Array.from(J().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((T,P)=>{const te=parseInt(T.getAttribute("tabindex")),ye=parseInt(P.getAttribute("tabindex"));return te>ye?1:te<ye?-1:0}),g=Array.from(J().querySelectorAll(Se)).filter(T=>T.getAttribute("tabindex")!=="-1");return p(m.concat(g)).filter(T=>pe(T))},Oe=()=>rt(document.body,a.shown)&&!rt(document.body,a["toast-shown"])&&!rt(document.body,a["no-backdrop"]),$e=()=>J()&&rt(J(),a.toast),Qe=()=>J().hasAttribute("data-loading"),ze={previousBodyPadding:null},Ue=(m,g)=>{if(m.textContent="",g){const P=new DOMParser().parseFromString(g,"text/html");Array.from(P.querySelector("head").childNodes).forEach(te=>{m.appendChild(te)}),Array.from(P.querySelector("body").childNodes).forEach(te=>{te instanceof HTMLVideoElement||te instanceof HTMLAudioElement?m.appendChild(te.cloneNode(!0)):m.appendChild(te)})}},rt=(m,g)=>{if(!g)return!1;const T=g.split(/\s+/);for(let P=0;P<T.length;P++)if(!m.classList.contains(T[P]))return!1;return!0},En=(m,g)=>{Array.from(m.classList).forEach(T=>{!Object.values(a).includes(T)&&!Object.values(u).includes(T)&&!Object.values(g.showClass).includes(T)&&m.classList.remove(T)})},Rt=(m,g,T)=>{if(En(m,g),g.customClass&&g.customClass[T]){if(typeof g.customClass[T]!="string"&&!g.customClass[T].forEach){E(`Invalid type of customClass.${T}! Expected string or iterable object, got "${typeof g.customClass[T]}"`);return}Be(m,g.customClass[T])}},Tn=(m,g)=>{if(!g)return null;switch(g){case"select":case"textarea":case"file":return m.querySelector(`.${a.popup} > .${a[g]}`);case"checkbox":return m.querySelector(`.${a.popup} > .${a.checkbox} input`);case"radio":return m.querySelector(`.${a.popup} > .${a.radio} input:checked`)||m.querySelector(`.${a.popup} > .${a.radio} input:first-child`);case"range":return m.querySelector(`.${a.popup} > .${a.range} input`);default:return m.querySelector(`.${a.popup} > .${a.input}`)}},mr=m=>{if(m.focus(),m.type!=="file"){const g=m.value;m.value="",m.value=g}},Or=(m,g,T)=>{!m||!g||(typeof g=="string"&&(g=g.split(/\s+/).filter(Boolean)),g.forEach(P=>{Array.isArray(m)?m.forEach(te=>{T?te.classList.add(P):te.classList.remove(P)}):T?m.classList.add(P):m.classList.remove(P)}))},Be=(m,g)=>{Or(m,g,!0)},Wt=(m,g)=>{Or(m,g,!1)},In=(m,g)=>{const T=Array.from(m.children);for(let P=0;P<T.length;P++){const te=T[P];if(te instanceof HTMLElement&&rt(te,g))return te}},Xt=(m,g,T)=>{T===`${parseInt(T)}`&&(T=parseInt(T)),T||parseInt(T)===0?m.style[g]=typeof T=="number"?`${T}px`:T:m.style.removeProperty(g)},ot=function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";m.style.display=g},ft=m=>{m.style.display="none"},G=(m,g,T,P)=>{const te=m.querySelector(g);te&&(te.style[T]=P)},fe=function(m,g){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";g?ot(m,T):ft(m)},pe=m=>!!(m&&(m.offsetWidth||m.offsetHeight||m.getClientRects().length)),Ce=()=>!pe(He())&&!pe(ht())&&!pe(ue()),Ae=m=>m.scrollHeight>m.clientHeight,ke=m=>{const g=window.getComputedStyle(m),T=parseFloat(g.getPropertyValue("animation-duration")||"0"),P=parseFloat(g.getPropertyValue("transition-duration")||"0");return T>0||P>0},at=function(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const T=$();pe(T)&&(g&&(T.style.transition="none",T.style.width="100%"),setTimeout(()=>{T.style.transition=`width ${m/1e3}s linear`,T.style.width="0%"},10))},Jt=()=>{const m=$(),g=parseInt(window.getComputedStyle(m).width);m.style.removeProperty("transition"),m.style.width="100%";const T=parseInt(window.getComputedStyle(m).width),P=g/T*100;m.style.removeProperty("transition"),m.style.width=`${P}%`},Vn=100,Ne={},Nr=()=>{Ne.previousActiveElement instanceof HTMLElement?(Ne.previousActiveElement.focus(),Ne.previousActiveElement=null):document.body&&document.body.focus()},Yr=m=>new Promise(g=>{if(!m)return g();const T=window.scrollX,P=window.scrollY;Ne.restoreFocusTimeout=setTimeout(()=>{Nr(),g()},Vn),window.scrollTo(T,P)}),Xr=()=>typeof window>"u"||typeof document>"u",vo=`
 <div aria-labelledby="${a.title}" aria-describedby="${a["html-container"]}" class="${a.popup}" tabindex="-1">
   <button type="button" class="${a.close}"></button>
   <ul class="${a["progress-steps"]}"></ul>
   <div class="${a.icon}"></div>
   <img class="${a.image}" />
   <h2 class="${a.title}" id="${a.title}"></h2>
   <div class="${a["html-container"]}" id="${a["html-container"]}"></div>
   <input class="${a.input}" />
   <input type="file" class="${a.file}" />
   <div class="${a.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${a.select}"></select>
   <div class="${a.radio}"></div>
   <label for="${a.checkbox}" class="${a.checkbox}">
     <input type="checkbox" />
     <span class="${a.label}"></span>
   </label>
   <textarea class="${a.textarea}"></textarea>
   <div class="${a["validation-message"]}" id="${a["validation-message"]}"></div>
   <div class="${a.actions}">
     <div class="${a.loader}"></div>
     <button type="button" class="${a.confirm}"></button>
     <button type="button" class="${a.deny}"></button>
     <button type="button" class="${a.cancel}"></button>
   </div>
   <div class="${a.footer}"></div>
   <div class="${a["timer-progress-bar-container"]}">
     <div class="${a["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),_o=()=>{const m=Z();return m?(m.remove(),Wt([document.documentElement,document.body],[a["no-backdrop"],a["toast-shown"],a["has-column"]]),!0):!1},Qn=()=>{Ne.currentInstance.resetValidationMessage()},Si=()=>{const m=J(),g=In(m,a.input),T=In(m,a.file),P=m.querySelector(`.${a.range} input`),te=m.querySelector(`.${a.range} output`),ye=In(m,a.select),Et=m.querySelector(`.${a.checkbox} input`),lr=In(m,a.textarea);g.oninput=Qn,T.onchange=Qn,ye.onchange=Qn,Et.onchange=Qn,lr.oninput=Qn,P.oninput=()=>{Qn(),te.value=P.value},P.onchange=()=>{Qn(),te.value=P.value}},ds=m=>typeof m=="string"?document.querySelector(m):m,hs=m=>{const g=J();g.setAttribute("role",m.toast?"alert":"dialog"),g.setAttribute("aria-live",m.toast?"polite":"assertive"),m.toast||g.setAttribute("aria-modal","true")},Ln=m=>{window.getComputedStyle(m).direction==="rtl"&&Be(Z(),a.rtl)},gr=m=>{const g=_o();if(Xr()){S("SweetAlert2 requires document to initialize");return}const T=document.createElement("div");T.className=a.container,g&&Be(T,a["no-transition"]),Ue(T,vo);const P=ds(m.target);P.appendChild(T),hs(m),Ln(P),Si()},Jr=(m,g)=>{m instanceof HTMLElement?g.appendChild(m):typeof m=="object"?yr(m,g):m&&Ue(g,m)},yr=(m,g)=>{m.jquery?wo(g,m):Ue(g,m.toString())},wo=(m,g)=>{if(m.textContent="",0 in g)for(let T=0;T in g;T++)m.appendChild(g[T].cloneNode(!0));else m.appendChild(g.cloneNode(!0))},Yn=(()=>{if(Xr())return!1;const m=document.createElement("div"),g={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const T in g)if(Object.prototype.hasOwnProperty.call(g,T)&&typeof m.style[T]<"u")return g[T];return!1})(),Eo=()=>{const m=document.createElement("div");m.className=a["scrollbar-measure"],document.body.appendChild(m);const g=m.getBoundingClientRect().width-m.clientWidth;return document.body.removeChild(m),g},Dr=(m,g)=>{const T=Ee(),P=Ge();!g.showConfirmButton&&!g.showDenyButton&&!g.showCancelButton?ft(T):ot(T),Rt(T,g,"actions"),To(T,P,g),Ue(P,g.loaderHtml),Rt(P,g,"loader")};function To(m,g,T){const P=He(),te=ht(),ye=ue();Zr(P,"confirm",T),Zr(te,"deny",T),Zr(ye,"cancel",T),St(P,te,ye,T),T.reverseButtons&&(T.toast?(m.insertBefore(ye,P),m.insertBefore(te,P)):(m.insertBefore(ye,g),m.insertBefore(te,g),m.insertBefore(P,g)))}function St(m,g,T,P){if(!P.buttonsStyling){Wt([m,g,T],a.styled);return}Be([m,g,T],a.styled),P.confirmButtonColor&&(m.style.backgroundColor=P.confirmButtonColor,Be(m,a["default-outline"])),P.denyButtonColor&&(g.style.backgroundColor=P.denyButtonColor,Be(g,a["default-outline"])),P.cancelButtonColor&&(T.style.backgroundColor=P.cancelButtonColor,Be(T,a["default-outline"]))}function Zr(m,g,T){fe(m,T[`show${_(g)}Button`],"inline-block"),Ue(m,T[`${g}ButtonText`]),m.setAttribute("aria-label",T[`${g}ButtonAriaLabel`]),m.className=a[g],Rt(m,T,`${g}Button`),Be(m,T[`${g}ButtonClass`])}const Xn=(m,g)=>{const T=re();Ue(T,g.closeButtonHtml),Rt(T,g,"closeButton"),fe(T,g.showCloseButton),T.setAttribute("aria-label",g.closeButtonAriaLabel)},Ai=(m,g)=>{const T=Z();T&&(bi(T,g.backdrop),fs(T,g.position),Jn(T,g.grow),Rt(T,g,"container"))};function bi(m,g){typeof g=="string"?m.style.background=g:g||Be([document.documentElement,document.body],a["no-backdrop"])}function fs(m,g){g in a?Be(m,a[g]):(E('The "position" parameter is not valid, defaulting to "center"'),Be(m,a.center))}function Jn(m,g){if(g&&typeof g=="string"){const T=`grow-${g}`;T in a&&Be(m,a[T])}}const Io=["input","file","range","select","radio","checkbox","textarea"],Vl=(m,g)=>{const T=J(),P=t.innerParams.get(m),te=!P||g.input!==P.input;Io.forEach(ye=>{const Et=In(T,a[ye]);Zn(ye,g.inputAttributes),Et.className=a[ye],te&&ft(Et)}),g.input&&(te&&ps(g),Ci(g))},ps=m=>{if(!xt[m.input]){S(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${m.input}"`);return}const g=ms(m.input),T=xt[m.input](g,m);ot(g),setTimeout(()=>{mr(T)})},wa=m=>{for(let g=0;g<m.attributes.length;g++){const T=m.attributes[g].name;["type","value","style"].includes(T)||m.removeAttribute(T)}},Zn=(m,g)=>{const T=Tn(J(),m);if(T){wa(T);for(const P in g)T.setAttribute(P,g[P])}},Ci=m=>{const g=ms(m.input);typeof m.customClass=="object"&&Be(g,m.customClass.input)},Sn=(m,g)=>{(!m.placeholder||g.inputPlaceholder)&&(m.placeholder=g.inputPlaceholder)},ei=(m,g,T)=>{if(T.inputLabel){m.id=a.input;const P=document.createElement("label"),te=a["input-label"];P.setAttribute("for",m.id),P.className=te,typeof T.customClass=="object"&&Be(P,T.customClass.inputLabel),P.innerText=T.inputLabel,g.insertAdjacentElement("beforebegin",P)}},ms=m=>In(J(),a[m]||a.input),Vr=(m,g)=>{["string","number"].includes(typeof g)?m.value=`${g}`:K(g)||E(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof g}"`)},xt={};xt.text=xt.email=xt.password=xt.number=xt.tel=xt.url=(m,g)=>(Vr(m,g.inputValue),ei(m,m,g),Sn(m,g),m.type=g.input,m),xt.file=(m,g)=>(ei(m,m,g),Sn(m,g),m),xt.range=(m,g)=>{const T=m.querySelector("input"),P=m.querySelector("output");return Vr(T,g.inputValue),T.type=g.input,Vr(P,g.inputValue),ei(T,m,g),m},xt.select=(m,g)=>{if(m.textContent="",g.inputPlaceholder){const T=document.createElement("option");Ue(T,g.inputPlaceholder),T.value="",T.disabled=!0,T.selected=!0,m.appendChild(T)}return ei(m,m,g),m},xt.radio=m=>(m.textContent="",m),xt.checkbox=(m,g)=>{const T=Tn(J(),"checkbox");T.value="1",T.id=a.checkbox,T.checked=!!g.inputValue;const P=m.querySelector("span");return Ue(P,g.inputPlaceholder),T},xt.textarea=(m,g)=>{Vr(m,g.inputValue),Sn(m,g),ei(m,m,g);const T=P=>parseInt(window.getComputedStyle(P).marginLeft)+parseInt(window.getComputedStyle(P).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const P=parseInt(window.getComputedStyle(J()).width),te=()=>{const ye=m.offsetWidth+T(m);ye>P?J().style.width=`${ye}px`:J().style.width=null};new MutationObserver(te).observe(m,{attributes:!0,attributeFilter:["style"]})}}),m};const So=(m,g)=>{const T=M();Rt(T,g,"htmlContainer"),g.html?(Jr(g.html,T),ot(T,"block")):g.text?(T.textContent=g.text,ot(T,"block")):ft(T),Vl(m,g)},Ea=(m,g)=>{const T=me();fe(T,g.footer),g.footer&&Jr(g.footer,T),Rt(T,g,"footer")},Ll=(m,g)=>{const T=t.innerParams.get(m),P=x();if(T&&g.icon===T.icon){An(P,g),lt(P,g);return}if(!g.icon&&!g.iconHtml){ft(P);return}if(g.icon&&Object.keys(u).indexOf(g.icon)===-1){S(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${g.icon}"`),ft(P);return}ot(P),An(P,g),lt(P,g),Be(P,g.showClass.icon)},lt=(m,g)=>{for(const T in u)g.icon!==T&&Wt(m,u[T]);Be(m,u[g.icon]),Ao(m,g),Ta(),Rt(m,g,"icon")},Ta=()=>{const m=J(),g=window.getComputedStyle(m).getPropertyValue("background-color"),T=m.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let P=0;P<T.length;P++)T[P].style.backgroundColor=g},Pi=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ti=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,An=(m,g)=>{let T=m.innerHTML,P;g.iconHtml?P=bo(g.iconHtml):g.icon==="success"?(P=Pi,T=T.replace(/ style=".*?"/g,"")):g.icon==="error"?P=ti:P=bo({question:"?",warning:"!",info:"i"}[g.icon]),T.trim()!==P.trim()&&Ue(m,P)},Ao=(m,g)=>{if(g.iconColor){m.style.color=g.iconColor,m.style.borderColor=g.iconColor;for(const T of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])G(m,T,"backgroundColor",g.iconColor);G(m,".swal2-success-ring","borderColor",g.iconColor)}},bo=m=>`<div class="${a["icon-content"]}">${m}</div>`,ki=(m,g)=>{const T=F();if(!g.imageUrl){ft(T);return}ot(T,""),T.setAttribute("src",g.imageUrl),T.setAttribute("alt",g.imageAlt),Xt(T,"width",g.imageWidth),Xt(T,"height",g.imageHeight),T.className=a.image,Rt(T,g,"image")},bn=(m,g)=>{const T=Z(),P=J();g.toast?(Xt(T,"width",g.width),P.style.width="100%",P.insertBefore(Ge(),x())):Xt(P,"width",g.width),Xt(P,"padding",g.padding),g.color&&(P.style.color=g.color),g.background&&(P.style.background=g.background),ft(k()),Ia(P,g)},Ia=(m,g)=>{m.className=`${a.popup} ${pe(m)?g.showClass.popup:""}`,g.toast?(Be([document.documentElement,document.body],a["toast-shown"]),Be(m,a.toast)):Be(m,a.modal),Rt(m,g,"popup"),typeof g.customClass=="string"&&Be(m,g.customClass),g.icon&&Be(m,a[`icon-${g.icon}`])},Zt=(m,g)=>{const T=B();if(!g.progressSteps||g.progressSteps.length===0){ft(T);return}ot(T),T.textContent="",g.currentProgressStep>=g.progressSteps.length&&E("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),g.progressSteps.forEach((P,te)=>{const ye=Co(P);if(T.appendChild(ye),te===g.currentProgressStep&&Be(ye,a["active-progress-step"]),te!==g.progressSteps.length-1){const Et=Sa(g);T.appendChild(Et)}})},Co=m=>{const g=document.createElement("li");return Be(g,a["progress-step"]),Ue(g,m),g},Sa=m=>{const g=document.createElement("li");return Be(g,a["progress-step-line"]),m.progressStepsDistance&&Xt(g,"width",m.progressStepsDistance),g},Aa=(m,g)=>{const T=N();fe(T,g.title||g.titleText,"block"),g.title&&Jr(g.title,T),g.titleText&&(T.innerText=g.titleText),Rt(T,g,"title")},Ri=(m,g)=>{bn(m,g),Ai(m,g),Zt(m,g),Ll(m,g),ki(m,g),Aa(m,g),Xn(m,g),So(m,g),Dr(m,g),Ea(m,g),typeof g.didRender=="function"&&g.didRender(J())};function xi(){const m=t.innerParams.get(this);if(!m)return;const g=t.domCache.get(this);ft(g.loader),$e()?m.icon&&ot(x()):ni(g),Wt([g.popup,g.actions],a.loading),g.popup.removeAttribute("aria-busy"),g.popup.removeAttribute("data-loading"),g.confirmButton.disabled=!1,g.denyButton.disabled=!1,g.cancelButton.disabled=!1}const ni=m=>{const g=m.popup.getElementsByClassName(m.loader.getAttribute("data-button-to-replace"));g.length?ot(g[0],"inline-block"):Ce()&&ft(m.actions)};function Oi(m){const g=t.innerParams.get(m||this),T=t.domCache.get(m||this);return T?Tn(T.popup,g.input):null}const Ml=()=>pe(J()),vr=()=>He()&&He().click(),Cn=()=>ht()&&ht().click(),Ni=()=>ue()&&ue().click(),Pn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Lr=m=>{m.keydownTarget&&m.keydownHandlerAdded&&(m.keydownTarget.removeEventListener("keydown",m.keydownHandler,{capture:m.keydownListenerCapture}),m.keydownHandlerAdded=!1)},ut=(m,g,T,P)=>{Lr(g),T.toast||(g.keydownHandler=te=>ba(m,te,P),g.keydownTarget=T.keydownListenerCapture?window:J(),g.keydownListenerCapture=T.keydownListenerCapture,g.keydownTarget.addEventListener("keydown",g.keydownHandler,{capture:g.keydownListenerCapture}),g.keydownHandlerAdded=!0)},_r=(m,g,T)=>{const P=Ve();if(P.length)return g=g+T,g===P.length?g=0:g===-1&&(g=P.length-1),P[g].focus();J().focus()},We=["ArrowRight","ArrowDown"],ri=["ArrowLeft","ArrowUp"],ba=(m,g,T)=>{const P=t.innerParams.get(m);P&&(g.isComposing||g.keyCode===229||(P.stopKeydownPropagation&&g.stopPropagation(),g.key==="Enter"?gs(m,g,P):g.key==="Tab"?Ca(g,P):[...We,...ri].includes(g.key)?Pa(g.key):g.key==="Escape"&&ka(g,P,T)))},gs=(m,g,T)=>{if(L(T.allowEnterKey)&&g.target&&m.getInput()&&g.target instanceof HTMLElement&&g.target.outerHTML===m.getInput().outerHTML){if(["textarea","file"].includes(T.input))return;vr(),g.preventDefault()}},Ca=(m,g)=>{const T=m.target,P=Ve();let te=-1;for(let ye=0;ye<P.length;ye++)if(T===P[ye]){te=ye;break}m.shiftKey?_r(g,te,-1):_r(g,te,1),m.stopPropagation(),m.preventDefault()},Pa=m=>{const g=He(),T=ht(),P=ue();if(document.activeElement instanceof HTMLElement&&![g,T,P].includes(document.activeElement))return;const te=We.includes(m)?"nextElementSibling":"previousElementSibling";let ye=document.activeElement;for(let Et=0;Et<Ee().children.length;Et++){if(ye=ye[te],!ye)return;if(ye instanceof HTMLButtonElement&&pe(ye))break}ye instanceof HTMLButtonElement&&ye.focus()},ka=(m,g,T)=>{L(g.allowEscapeKey)&&(m.preventDefault(),T(Pn.esc))};var Mr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const wr=()=>{Array.from(document.body.children).forEach(g=>{g===Z()||g.contains(Z())||(g.hasAttribute("aria-hidden")&&g.setAttribute("data-previous-aria-hidden",g.getAttribute("aria-hidden")),g.setAttribute("aria-hidden","true"))})},Mt=()=>{Array.from(document.body.children).forEach(g=>{g.hasAttribute("data-previous-aria-hidden")?(g.setAttribute("aria-hidden",g.getAttribute("data-previous-aria-hidden")),g.removeAttribute("data-previous-aria-hidden")):g.removeAttribute("aria-hidden")})},er=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!rt(document.body,a.iosfix)){const g=document.body.scrollTop;document.body.style.top=`${g*-1}px`,Be(document.body,a.iosfix),ii(),tr()}},tr=()=>{const m=navigator.userAgent,g=!!m.match(/iPad/i)||!!m.match(/iPhone/i),T=!!m.match(/WebKit/i);g&&T&&!m.match(/CriOS/i)&&J().scrollHeight>window.innerHeight-44&&(Z().style.paddingBottom="44px")},ii=()=>{const m=Z();let g;m.ontouchstart=T=>{g=Mn(T)},m.ontouchmove=T=>{g&&(T.preventDefault(),T.stopPropagation())}},Mn=m=>{const g=m.target,T=Z();return Er(m)||Fl(m)?!1:g===T||!Ae(T)&&g instanceof HTMLElement&&g.tagName!=="INPUT"&&g.tagName!=="TEXTAREA"&&!(Ae(M())&&M().contains(g))},Er=m=>m.touches&&m.touches.length&&m.touches[0].touchType==="stylus",Fl=m=>m.touches&&m.touches.length>1,Ra=()=>{if(rt(document.body,a.iosfix)){const m=parseInt(document.body.style.top,10);Wt(document.body,a.iosfix),document.body.style.top="",document.body.scrollTop=m*-1}},dn=()=>{ze.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(ze.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ze.previousBodyPadding+Eo()}px`)},jl=()=>{ze.previousBodyPadding!==null&&(document.body.style.paddingRight=`${ze.previousBodyPadding}px`,ze.previousBodyPadding=null)};function Po(m,g,T,P){$e()?ys(m,P):(Yr(T).then(()=>ys(m,P)),Lr(Ne)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(g.setAttribute("style","display:none !important"),g.removeAttribute("class"),g.innerHTML=""):g.remove(),Oe()&&(jl(),Ra(),Mt()),Fr()}function Fr(){Wt([document.documentElement,document.body],[a.shown,a["height-auto"],a["no-backdrop"],a["toast-shown"]])}function Tr(m){m=si(m);const g=Mr.swalPromiseResolve.get(this),T=nr(this);this.isAwaitingPromise()?m.isDismissed||(kn(this),g(m)):T&&g(m)}function xa(){return!!t.awaitingPromise.get(this)}const nr=m=>{const g=J();if(!g)return!1;const T=t.innerParams.get(m);if(!T||rt(g,T.hideClass.popup))return!1;Wt(g,T.showClass.popup),Be(g,T.hideClass.popup);const P=Z();return Wt(P,T.showClass.backdrop),Be(P,T.hideClass.backdrop),pt(m,g,T),!0};function rr(m){const g=Mr.swalPromiseReject.get(this);kn(this),g&&g(m)}const kn=m=>{m.isAwaitingPromise()&&(t.awaitingPromise.delete(m),t.innerParams.get(m)||m._destroy())},si=m=>typeof m>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},m),pt=(m,g,T)=>{const P=Z(),te=Yn&&ke(g);typeof T.willClose=="function"&&T.willClose(g),te?Ul(m,g,P,T.returnFocus,T.didClose):Po(m,P,T.returnFocus,T.didClose)},Ul=(m,g,T,P,te)=>{Ne.swalCloseEventFinishedCallback=Po.bind(null,m,T,P,te),g.addEventListener(Yn,function(ye){ye.target===g&&(Ne.swalCloseEventFinishedCallback(),delete Ne.swalCloseEventFinishedCallback)})},ys=(m,g)=>{setTimeout(()=>{typeof g=="function"&&g.bind(m.params)(),m._destroy()})};function oi(m,g,T){const P=t.domCache.get(m);g.forEach(te=>{P[te].disabled=T})}function Di(m,g){if(m)if(m.type==="radio"){const P=m.parentNode.parentNode.querySelectorAll("input");for(let te=0;te<P.length;te++)P[te].disabled=g}else m.disabled=g}function ko(){oi(this,["confirmButton","denyButton","cancelButton"],!1)}function Rn(){oi(this,["confirmButton","denyButton","cancelButton"],!0)}function vs(){Di(this.getInput(),!1)}function hn(){Di(this.getInput(),!0)}function Ro(m){const g=t.domCache.get(this),T=t.innerParams.get(this);Ue(g.validationMessage,m),g.validationMessage.className=a["validation-message"],T.customClass&&T.customClass.validationMessage&&Be(g.validationMessage,T.customClass.validationMessage),ot(g.validationMessage);const P=this.getInput();P&&(P.setAttribute("aria-invalid",!0),P.setAttribute("aria-describedby",a["validation-message"]),mr(P),Be(P,a.inputerror))}function _s(){const m=t.domCache.get(this);m.validationMessage&&ft(m.validationMessage);const g=this.getInput();g&&(g.removeAttribute("aria-invalid"),g.removeAttribute("aria-describedby"),Wt(g,a.inputerror))}const en={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},xo=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Bt={},ir=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Vi=m=>Object.prototype.hasOwnProperty.call(en,m),sr=m=>xo.indexOf(m)!==-1,Oo=m=>Bt[m],ws=m=>{Vi(m)||E(`Unknown parameter "${m}"`)},jr=m=>{ir.includes(m)&&E(`The parameter "${m}" is incompatible with toasts`)},ai=m=>{Oo(m)&&U(m,Oo(m))},Li=m=>{m.backdrop===!1&&m.allowOutsideClick&&E('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const g in m)ws(g),m.toast&&jr(g),ai(g)};function Es(m){const g=J(),T=t.innerParams.get(this);if(!g||rt(g,T.hideClass.popup)){E("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const P=No(m),te=Object.assign({},T,P);Ri(this,te),t.innerParams.set(this,te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,m),writable:!1,enumerable:!0}})}const No=m=>{const g={};return Object.keys(m).forEach(T=>{sr(T)?g[T]=m[T]:E(`Invalid parameter to update: ${T}`)}),g};function Oa(){const m=t.domCache.get(this),g=t.innerParams.get(this);if(!g){Mi(this);return}m.popup&&Ne.swalCloseEventFinishedCallback&&(Ne.swalCloseEventFinishedCallback(),delete Ne.swalCloseEventFinishedCallback),typeof g.didDestroy=="function"&&g.didDestroy(),Ts(this)}const Ts=m=>{Mi(m),delete m.params,delete Ne.keydownHandler,delete Ne.keydownTarget,delete Ne.currentInstance},Mi=m=>{m.isAwaitingPromise()?(Is(t,m),t.awaitingPromise.set(m,!0)):(Is(Mr,m),Is(t,m))},Is=(m,g)=>{for(const T in m)m[T].delete(g)};var Ir=Object.freeze({__proto__:null,hideLoading:xi,disableLoading:xi,getInput:Oi,close:Tr,isAwaitingPromise:xa,rejectPromise:rr,handleAwaitingPromise:kn,closePopup:Tr,closeModal:Tr,closeToast:Tr,enableButtons:ko,disableButtons:Rn,enableInput:vs,disableInput:hn,showValidationMessage:Ro,resetValidationMessage:_s,update:Es,_destroy:Oa});const Ur=m=>{let g=J();g||new ar,g=J();const T=Ge();$e()?ft(x()):Na(g,m),ot(T),g.setAttribute("data-loading","true"),g.setAttribute("aria-busy","true"),g.focus()},Na=(m,g)=>{const T=Ee(),P=Ge();!g&&pe(He())&&(g=He()),ot(T),g&&(ft(g),P.setAttribute("data-button-to-replace",g.className)),P.parentNode.insertBefore(P,g),Be([m,T],a.loading)},Da=(m,g)=>{g.input==="select"||g.input==="radio"?La(m,g):["text","email","number","tel","textarea"].includes(g.input)&&(O(g.inputValue)||K(g.inputValue))&&(Ur(He()),Sr(m,g))},Do=(m,g)=>{const T=m.getInput();if(!T)return null;switch(g.input){case"checkbox":return Ss(T);case"radio":return tn(T);case"file":return Va(T);default:return g.inputAutoTrim?T.value.trim():T.value}},Ss=m=>m.checked?1:0,tn=m=>m.checked?m.value:null,Va=m=>m.files.length?m.getAttribute("multiple")!==null?m.files:m.files[0]:null,La=(m,g)=>{const T=J(),P=te=>{c[g.input](T,y(te),g)};O(g.inputOptions)||K(g.inputOptions)?(Ur(He()),z(g.inputOptions).then(te=>{m.hideLoading(),P(te)})):typeof g.inputOptions=="object"?P(g.inputOptions):S(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof g.inputOptions}`)},Sr=(m,g)=>{const T=m.getInput();ft(T),z(g.inputValue).then(P=>{T.value=g.input==="number"?`${parseFloat(P)||0}`:`${P}`,ot(T),T.focus(),m.hideLoading()}).catch(P=>{S(`Error in inputValue promise: ${P}`),T.value="",ot(T),T.focus(),m.hideLoading()})},c={select:(m,g,T)=>{const P=In(m,a.select),te=(ye,Et,lr)=>{const qe=document.createElement("option");qe.value=lr,Ue(qe,Et),qe.selected=w(lr,T.inputValue),ye.appendChild(qe)};g.forEach(ye=>{const Et=ye[0],lr=ye[1];if(Array.isArray(lr)){const qe=document.createElement("optgroup");qe.label=Et,qe.disabled=!1,P.appendChild(qe),lr.forEach(ui=>te(qe,ui[1],ui[0]))}else te(P,lr,Et)}),P.focus()},radio:(m,g,T)=>{const P=In(m,a.radio);g.forEach(ye=>{const Et=ye[0],lr=ye[1],qe=document.createElement("input"),ui=document.createElement("label");qe.type="radio",qe.name=a.radio,qe.value=Et,w(Et,T.inputValue)&&(qe.checked=!0);const Rs=document.createElement("span");Ue(Rs,lr),Rs.className=a.label,ui.appendChild(qe),ui.appendChild(Rs),P.appendChild(ui)});const te=P.querySelectorAll("input");te.length&&te[0].focus()}},y=m=>{const g=[];return typeof Map<"u"&&m instanceof Map?m.forEach((T,P)=>{let te=T;typeof te=="object"&&(te=y(te)),g.push([P,te])}):Object.keys(m).forEach(T=>{let P=m[T];typeof P=="object"&&(P=y(P)),g.push([T,P])}),g},w=(m,g)=>g&&g.toString()===m.toString(),b=m=>{const g=t.innerParams.get(m);m.disableButtons(),g.input?de(m,"confirm"):wt(m,!0)},q=m=>{const g=t.innerParams.get(m);m.disableButtons(),g.returnInputValueOnDeny?de(m,"deny"):At(m,!1)},X=(m,g)=>{m.disableButtons(),g(Pn.cancel)},de=(m,g)=>{const T=t.innerParams.get(m);if(!T.input){S(`The "input" parameter is needed to be set when using returnInputValueOn${_(g)}`);return}const P=Do(m,T);T.inputValidator?it(m,P,g):m.getInput().checkValidity()?g==="deny"?At(m,P):wt(m,P):(m.enableButtons(),m.showValidationMessage(T.validationMessage))},it=(m,g,T)=>{const P=t.innerParams.get(m);m.disableInput(),Promise.resolve().then(()=>z(P.inputValidator(g,P.validationMessage))).then(ye=>{m.enableButtons(),m.enableInput(),ye?m.showValidationMessage(ye):T==="deny"?At(m,g):wt(m,g)})},At=(m,g)=>{const T=t.innerParams.get(m||void 0);T.showLoaderOnDeny&&Ur(ht()),T.preDeny?(t.awaitingPromise.set(m||void 0,!0),Promise.resolve().then(()=>z(T.preDeny(g,T.validationMessage))).then(te=>{te===!1?(m.hideLoading(),kn(m)):m.close({isDenied:!0,value:typeof te>"u"?g:te})}).catch(te=>Ot(m||void 0,te))):m.close({isDenied:!0,value:g})},Ye=(m,g)=>{m.close({isConfirmed:!0,value:g})},Ot=(m,g)=>{m.rejectPromise(g)},wt=(m,g)=>{const T=t.innerParams.get(m||void 0);T.showLoaderOnConfirm&&Ur(),T.preConfirm?(m.resetValidationMessage(),t.awaitingPromise.set(m||void 0,!0),Promise.resolve().then(()=>z(T.preConfirm(g,T.validationMessage))).then(te=>{pe(k())||te===!1?(m.hideLoading(),kn(m)):Ye(m,typeof te>"u"?g:te)}).catch(te=>Ot(m||void 0,te))):Ye(m,g)},Fn=(m,g,T)=>{t.innerParams.get(m).toast?xn(m,g,T):(dc(g),hc(g),fc(m,g,T))},xn=(m,g,T)=>{g.popup.onclick=()=>{const P=t.innerParams.get(m);P&&(Fi(P)||P.timer||P.input)||T(Pn.close)}},Fi=m=>m.showConfirmButton||m.showDenyButton||m.showCancelButton||m.showCloseButton;let $r=!1;const dc=m=>{m.popup.onmousedown=()=>{m.container.onmouseup=function(g){m.container.onmouseup=void 0,g.target===m.container&&($r=!0)}}},hc=m=>{m.container.onmousedown=()=>{m.popup.onmouseup=function(g){m.popup.onmouseup=void 0,(g.target===m.popup||m.popup.contains(g.target))&&($r=!0)}}},fc=(m,g,T)=>{g.container.onclick=P=>{const te=t.innerParams.get(m);if($r){$r=!1;return}P.target===g.container&&L(te.allowOutsideClick)&&T(Pn.backdrop)}},As=m=>typeof m=="object"&&m.jquery,pc=m=>m instanceof Element||As(m),Nh=m=>{const g={};return typeof m[0]=="object"&&!pc(m[0])?Object.assign(g,m[0]):["title","html","icon"].forEach((T,P)=>{const te=m[P];typeof te=="string"||pc(te)?g[T]=te:te!==void 0&&S(`Unexpected type of ${T}! Expected "string" or "Element", got ${typeof te}`)}),g};function Dh(){const m=this;for(var g=arguments.length,T=new Array(g),P=0;P<g;P++)T[P]=arguments[P];return new m(...T)}function mc(m){class g extends this{_main(P,te){return super._main(P,Object.assign({},m,te))}}return g}const gc=()=>Ne.timeout&&Ne.timeout.getTimerLeft(),bs=()=>{if(Ne.timeout)return Jt(),Ne.timeout.stop()},Cs=()=>{if(Ne.timeout){const m=Ne.timeout.start();return at(m),m}},Vh=()=>{const m=Ne.timeout;return m&&(m.running?bs():Cs())},Ma=m=>{if(Ne.timeout){const g=Ne.timeout.increase(m);return at(g,!0),g}},Lh=()=>Ne.timeout&&Ne.timeout.isRunning();let $l=!1;const Vo={};function Bl(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Vo[m]=this,$l||(document.body.addEventListener("click",yc),$l=!0)}const yc=m=>{for(let g=m.target;g&&g!==document;g=g.parentNode)for(const T in Vo){const P=g.getAttribute(T);if(P){Vo[T].fire({template:P});return}}};var vc=Object.freeze({__proto__:null,isValidParameter:Vi,isUpdatableParameter:sr,isDeprecatedParameter:Oo,argsToParams:Nh,getContainer:Z,getPopup:J,getTitle:N,getHtmlContainer:M,getImage:F,getIcon:x,getIconContent:C,getInputLabel:Lt,getCloseButton:re,getActions:Ee,getConfirmButton:He,getDenyButton:ht,getCancelButton:ue,getLoader:Ge,getFooter:me,getTimerProgressBar:$,getFocusableElements:Ve,getValidationMessage:k,getProgressSteps:B,isLoading:Qe,isVisible:Ml,clickConfirm:vr,clickDeny:Cn,clickCancel:Ni,fire:Dh,mixin:mc,showLoading:Ur,enableLoading:Ur,getTimerLeft:gc,stopTimer:bs,resumeTimer:Cs,toggleTimer:Vh,increaseTimer:Ma,isTimerRunning:Lh,bindClickHandler:Bl});class _c{constructor(g,T){this.callback=g,this.remaining=T,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(g){const T=this.running;return T&&this.stop(),this.remaining+=g,T&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const wc=["swal-title","swal-html","swal-footer"],Mh=m=>{const g=typeof m.template=="string"?document.querySelector(m.template):m.template;if(!g)return{};const T=g.content;return Ic(T),Object.assign(Fh(T),jh(T),Uh(T),or(T),Lo(T),Ec(T),Tc(T,wc))},Fh=m=>{const g={};return Array.from(m.querySelectorAll("swal-param")).forEach(P=>{li(P,["name","value"]);const te=P.getAttribute("name"),ye=P.getAttribute("value");typeof en[te]=="boolean"?g[te]=ye!=="false":typeof en[te]=="object"?g[te]=JSON.parse(ye):g[te]=ye}),g},jh=m=>{const g={};return Array.from(m.querySelectorAll("swal-function-param")).forEach(P=>{const te=P.getAttribute("name"),ye=P.getAttribute("value");g[te]=new Function(`return ${ye}`)()}),g},Uh=m=>{const g={};return Array.from(m.querySelectorAll("swal-button")).forEach(P=>{li(P,["type","color","aria-label"]);const te=P.getAttribute("type");g[`${te}ButtonText`]=P.innerHTML,g[`show${_(te)}Button`]=!0,P.hasAttribute("color")&&(g[`${te}ButtonColor`]=P.getAttribute("color")),P.hasAttribute("aria-label")&&(g[`${te}ButtonAriaLabel`]=P.getAttribute("aria-label"))}),g},or=m=>{const g={},T=m.querySelector("swal-image");return T&&(li(T,["src","width","height","alt"]),T.hasAttribute("src")&&(g.imageUrl=T.getAttribute("src")),T.hasAttribute("width")&&(g.imageWidth=T.getAttribute("width")),T.hasAttribute("height")&&(g.imageHeight=T.getAttribute("height")),T.hasAttribute("alt")&&(g.imageAlt=T.getAttribute("alt"))),g},Lo=m=>{const g={},T=m.querySelector("swal-icon");return T&&(li(T,["type","color"]),T.hasAttribute("type")&&(g.icon=T.getAttribute("type")),T.hasAttribute("color")&&(g.iconColor=T.getAttribute("color")),g.iconHtml=T.innerHTML),g},Ec=m=>{const g={},T=m.querySelector("swal-input");T&&(li(T,["type","label","placeholder","value"]),g.input=T.getAttribute("type")||"text",T.hasAttribute("label")&&(g.inputLabel=T.getAttribute("label")),T.hasAttribute("placeholder")&&(g.inputPlaceholder=T.getAttribute("placeholder")),T.hasAttribute("value")&&(g.inputValue=T.getAttribute("value")));const P=Array.from(m.querySelectorAll("swal-input-option"));return P.length&&(g.inputOptions={},P.forEach(te=>{li(te,["value"]);const ye=te.getAttribute("value"),Et=te.innerHTML;g.inputOptions[ye]=Et})),g},Tc=(m,g)=>{const T={};for(const P in g){const te=g[P],ye=m.querySelector(te);ye&&(li(ye,[]),T[te.replace(/^swal-/,"")]=ye.innerHTML.trim())}return T},Ic=m=>{const g=wc.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(m.children).forEach(T=>{const P=T.tagName.toLowerCase();g.includes(P)||E(`Unrecognized element <${P}>`)})},li=(m,g)=>{Array.from(m.attributes).forEach(T=>{g.indexOf(T.name)===-1&&E([`Unrecognized attribute "${T.name}" on <${m.tagName.toLowerCase()}>.`,`${g.length?`Allowed attributes are: ${g.join(", ")}`:"To set the value, use HTML within the element."}`])})},Fa=10,$h=m=>{const g=Z(),T=J();typeof m.willOpen=="function"&&m.willOpen(T);const te=window.getComputedStyle(document.body).overflowY;Mo(g,T,m),setTimeout(()=>{Ps(g,T)},Fa),Oe()&&(zl(g,m.scrollbarPadding,te),wr()),!$e()&&!Ne.previousActiveElement&&(Ne.previousActiveElement=document.activeElement),typeof m.didOpen=="function"&&setTimeout(()=>m.didOpen(T)),Wt(g,a["no-transition"])},Sc=m=>{const g=J();if(m.target!==g)return;const T=Z();g.removeEventListener(Yn,Sc),T.style.overflowY="auto"},Ps=(m,g)=>{Yn&&ke(g)?(m.style.overflowY="hidden",g.addEventListener(Yn,Sc)):m.style.overflowY="auto"},zl=(m,g,T)=>{er(),g&&T!=="hidden"&&dn(),setTimeout(()=>{m.scrollTop=0})},Mo=(m,g,T)=>{Be(m,T.showClass.backdrop),g.style.setProperty("opacity","0","important"),ot(g,"grid"),setTimeout(()=>{Be(g,T.showClass.popup),g.style.removeProperty("opacity")},Fa),Be([document.documentElement,document.body],a.shown),T.heightAuto&&T.backdrop&&!T.toast&&Be([document.documentElement,document.body],a["height-auto"])};var ja={email:(m,g)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(m)?Promise.resolve():Promise.resolve(g||"Invalid email address"),url:(m,g)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(m)?Promise.resolve():Promise.resolve(g||"Invalid URL")};function Ac(m){m.inputValidator||Object.keys(ja).forEach(g=>{m.input===g&&(m.inputValidator=ja[g])})}function Ua(m){(!m.target||typeof m.target=="string"&&!document.querySelector(m.target)||typeof m.target!="string"&&!m.target.appendChild)&&(E('Target parameter is not valid, defaulting to "body"'),m.target="body")}function ks(m){Ac(m),m.showLoaderOnConfirm&&!m.preConfirm&&E(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Ua(m),typeof m.title=="string"&&(m.title=m.title.split(`
`).join("<br />")),gr(m)}let jn;class ji{constructor(){if(typeof window>"u")return;jn=this;for(var g=arguments.length,T=new Array(g),P=0;P<g;P++)T[P]=arguments[P];const te=Object.freeze(this.constructor.argsToParams(T));Object.defineProperties(this,{params:{value:te,writable:!1,enumerable:!0,configurable:!0}});const ye=jn._main(jn.params);t.promise.set(this,ye)}_main(g){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Li(Object.assign({},T,g)),Ne.currentInstance&&(Ne.currentInstance._destroy(),Oe()&&Mt()),Ne.currentInstance=jn;const P=bc(g,T);ks(P),Object.freeze(P),Ne.timeout&&(Ne.timeout.stop(),delete Ne.timeout),clearTimeout(Ne.restoreFocusTimeout);const te=Cc(jn);return Ri(jn,P),t.innerParams.set(jn,P),$a(jn,te,P)}then(g){return t.promise.get(this).then(g)}finally(g){return t.promise.get(this).finally(g)}}const $a=(m,g,T)=>new Promise((P,te)=>{const ye=Et=>{m.close({isDismissed:!0,dismiss:Et})};Mr.swalPromiseResolve.set(m,P),Mr.swalPromiseReject.set(m,te),g.confirmButton.onclick=()=>{b(m)},g.denyButton.onclick=()=>{q(m)},g.cancelButton.onclick=()=>{X(m,ye)},g.closeButton.onclick=()=>{ye(Pn.close)},Fn(m,g,ye),ut(m,Ne,T,ye),Da(m,T),$h(T),Pc(Ne,T,ye),kc(g,T),setTimeout(()=>{g.container.scrollTop=0})}),bc=(m,g)=>{const T=Mh(m),P=Object.assign({},en,g,T,m);return P.showClass=Object.assign({},en.showClass,P.showClass),P.hideClass=Object.assign({},en.hideClass,P.hideClass),P},Cc=m=>{const g={popup:J(),container:Z(),actions:Ee(),confirmButton:He(),denyButton:ht(),cancelButton:ue(),loader:Ge(),closeButton:re(),validationMessage:k(),progressSteps:B()};return t.domCache.set(m,g),g},Pc=(m,g,T)=>{const P=$();ft(P),g.timer&&(m.timeout=new _c(()=>{T("timer"),delete m.timeout},g.timer),g.timerProgressBar&&(ot(P),Rt(P,g,"timerProgressBar"),setTimeout(()=>{m.timeout&&m.timeout.running&&at(g.timer)})))},kc=(m,g)=>{if(!g.toast){if(!L(g.allowEnterKey)){xc();return}Rc(m,g)||_r(g,-1,1)}},Rc=(m,g)=>g.focusDeny&&pe(m.denyButton)?(m.denyButton.focus(),!0):g.focusCancel&&pe(m.cancelButton)?(m.cancelButton.focus(),!0):g.focusConfirm&&pe(m.confirmButton)?(m.confirmButton.focus(),!0):!1,xc=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const m=new Date,g=localStorage.getItem("swal-initiation");g?(m.getTime()-Date.parse(g))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const T=document.createElement("audio");T.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",T.loop=!0,document.body.appendChild(T),setTimeout(()=>{T.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${m}`)}Object.assign(ji.prototype,Ir),Object.assign(ji,vc),Object.keys(Ir).forEach(m=>{ji[m]=function(){if(jn)return jn[m](...arguments)}}),ji.DismissReason=Pn,ji.version="11.6.13";const ar=ji;return ar.default=ar,ar}),typeof Hs<"u"&&Hs.Sweetalert2&&(Hs.swal=Hs.sweetAlert=Hs.Swal=Hs.SweetAlert=Hs.Sweetalert2),typeof document<"u"&&function(t,i){var o=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(o),o.styleSheet)o.styleSheet.disabled||(o.styleSheet.cssText=i);else try{o.innerHTML=i}catch{o.innerText=i}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')}(Ud)),Ud.exports}var RV=kV();const an=Al(RV),xV={},Pw=n=>{let e;const t=new Set,i=(E,S)=>{const A=typeof E=="function"?E(e):E;if(!Object.is(A,e)){const D=e;e=S??(typeof A!="object"||A===null)?A:Object.assign({},e,A),t.forEach(U=>U(e,D))}},o=()=>e,p={setState:i,getState:o,getInitialState:()=>_,subscribe:E=>(t.add(E),()=>t.delete(E)),destroy:()=>{(xV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},_=e=n(i,o,p);return p},OV=n=>n?Pw(n):Pw;var Pp={exports:{}},kp={},Rp={exports:{}},xp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function NV(){if(kw)return xp;kw=1;var n=Bu();function e(S,A){return S===A&&(S!==0||1/S===1/A)||S!==S&&A!==A}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,o=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function h(S,A){var D=A(),U=i({inst:{value:D,getSnapshot:A}}),L=U[0].inst,O=U[1];return a(function(){L.value=D,L.getSnapshot=A,p(L)&&O({inst:L})},[S,D,A]),o(function(){return p(L)&&O({inst:L}),S(function(){p(L)&&O({inst:L})})},[S]),u(D),D}function p(S){var A=S.getSnapshot;S=S.value;try{var D=A();return!t(S,D)}catch{return!0}}function _(S,A){return A()}var E=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_:h;return xp.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:E,xp}var Rw;function DV(){return Rw||(Rw=1,Rp.exports=NV()),Rp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function VV(){if(xw)return kp;xw=1;var n=Bu(),e=DV();function t(_,E){return _===E&&(_!==0||1/_===1/E)||_!==_&&E!==E}var i=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,a=n.useRef,u=n.useEffect,h=n.useMemo,p=n.useDebugValue;return kp.useSyncExternalStoreWithSelector=function(_,E,S,A,D){var U=a(null);if(U.current===null){var L={hasValue:!1,value:null};U.current=L}else L=U.current;U=h(function(){function z(J){if(!K){if(K=!0,Z=J,J=A(J),D!==void 0&&L.hasValue){var x=L.value;if(D(x,J))return he=x}return he=J}if(x=he,i(Z,J))return x;var C=A(J);return D!==void 0&&D(x,C)?(Z=J,x):(Z=J,he=C)}var K=!1,Z,he,Y=S===void 0?null:S;return[function(){return z(E())},Y===null?void 0:function(){return z(Y())}]},[E,S,A,D]);var O=o(_,U[0],U[1]);return u(function(){L.hasValue=!0,L.value=O},[O]),p(O),O},kp}var Ow;function LV(){return Ow||(Ow=1,Pp.exports=VV()),Pp.exports}var MV=LV();const FV=Al(MV),Tg={},{useDebugValue:jV}=fm,{useSyncExternalStoreWithSelector:UV}=FV;let Nw=!1;const $V=n=>n;function BV(n,e=$V,t){(Tg?"production":void 0)!=="production"&&t&&!Nw&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Nw=!0);const i=UV(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return jV(i),i}const Dw=n=>{(Tg?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?OV(n):n,t=(i,o)=>BV(e,i,o);return Object.assign(t,e),t},zV=n=>n?Dw(n):Dw;var qV=n=>((Tg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),zV(n));const HV={};function WV(n,e){let t;try{t=n()}catch{return}return{getItem:o=>{var a;const u=p=>p===null?null:JSON.parse(p,void 0),h=(a=t.getItem(o))!=null?a:null;return h instanceof Promise?h.then(u):u(h)},setItem:(o,a)=>t.setItem(o,JSON.stringify(a,void 0)),removeItem:o=>t.removeItem(o)}}const $u=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return $u(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return $u(i)(t)}}}},KV=(n,e)=>(t,i,o)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:O=>O,version:0,merge:(O,z)=>({...z,...O}),...e},u=!1;const h=new Set,p=new Set;let _;try{_=a.getStorage()}catch{}if(!_)return n((...O)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...O)},i,o);const E=$u(a.serialize),S=()=>{const O=a.partialize({...i()});let z;const K=E({state:O,version:a.version}).then(Z=>_.setItem(a.name,Z)).catch(Z=>{z=Z});if(z)throw z;return K},A=o.setState;o.setState=(O,z)=>{A(O,z),S()};const D=n((...O)=>{t(...O),S()},i,o);let U;const L=()=>{var O;if(!_)return;u=!1,h.forEach(K=>K(i()));const z=((O=a.onRehydrateStorage)==null?void 0:O.call(a,i()))||void 0;return $u(_.getItem.bind(_))(a.name).then(K=>{if(K)return a.deserialize(K)}).then(K=>{if(K)if(typeof K.version=="number"&&K.version!==a.version){if(a.migrate)return a.migrate(K.state,K.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return K.state}).then(K=>{var Z;return U=a.merge(K,(Z=i())!=null?Z:D),t(U,!0),S()}).then(()=>{z?.(U,void 0),u=!0,p.forEach(K=>K(U))}).catch(K=>{z?.(void 0,K)})};return o.persist={setOptions:O=>{a={...a,...O},O.getStorage&&(_=O.getStorage())},clearStorage:()=>{_?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>L(),hasHydrated:()=>u,onHydrate:O=>(h.add(O),()=>{h.delete(O)}),onFinishHydration:O=>(p.add(O),()=>{p.delete(O)})},L(),U||D},GV=(n,e)=>(t,i,o)=>{let a={storage:WV(()=>localStorage),partialize:L=>L,version:0,merge:(L,O)=>({...O,...L}),...e},u=!1;const h=new Set,p=new Set;let _=a.storage;if(!_)return n((...L)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...L)},i,o);const E=()=>{const L=a.partialize({...i()});return _.setItem(a.name,{state:L,version:a.version})},S=o.setState;o.setState=(L,O)=>{S(L,O),E()};const A=n((...L)=>{t(...L),E()},i,o);o.getInitialState=()=>A;let D;const U=()=>{var L,O;if(!_)return;u=!1,h.forEach(K=>{var Z;return K((Z=i())!=null?Z:A)});const z=((O=a.onRehydrateStorage)==null?void 0:O.call(a,(L=i())!=null?L:A))||void 0;return $u(_.getItem.bind(_))(a.name).then(K=>{if(K)if(typeof K.version=="number"&&K.version!==a.version){if(a.migrate)return[!0,a.migrate(K.state,K.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,K.state];return[!1,void 0]}).then(K=>{var Z;const[he,Y]=K;if(D=a.merge(Y,(Z=i())!=null?Z:A),t(D,!0),he)return E()}).then(()=>{z?.(D,void 0),D=i(),u=!0,p.forEach(K=>K(D))}).catch(K=>{z?.(void 0,K)})};return o.persist={setOptions:L=>{a={...a,...L},L.storage&&(_=L.storage)},clearStorage:()=>{_?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>U(),hasHydrated:()=>u,onHydrate:L=>(h.add(L),()=>{h.delete(L)}),onFinishHydration:L=>(p.add(L),()=>{p.delete(L)})},a.skipHydration||U(),D||A},QV=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((HV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),KV(n,e)):GV(n,e),YV=QV,ha=qV(YV(n=>({user:null,setUser:e=>n({user:e}),clearUser:()=>n({user:null})}),{name:"auth-storage",getStorage:()=>localStorage}));function XV(){const n=qu(),e=ha(t=>t.setUser);return ee.jsxs("div",{className:"container mx-auto p-4 max-w-md",children:[ee.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Login"}),ee.jsx(hh,{initialValues:{email:"",password:""},validationSchema:n1,onSubmit:async(t,{setSubmitting:i})=>{try{const a=(await bV(t.email,t.password)).user;e({uid:a.uid,email:a.email,emailVerified:a.emailVerified}),await an.fire("Success","Logged in","success"),n("/dashboard")}catch(o){console.error(o),await an.fire("Error",o.message||"Login failed","error")}finally{i(!1)}},children:({isSubmitting:t})=>ee.jsxs(Gu,{className:"space-y-3 bg-white p-4 rounded shadow",children:[ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm",children:"Email"}),ee.jsx(Zi,{name:"email",type:"email",className:"w-full p-2 border rounded"}),ee.jsx("div",{className:"text-xs text-red-500",children:ee.jsx(es,{name:"email"})})]}),ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm",children:"Password"}),ee.jsx(Zi,{name:"password",type:"password",className:"w-full p-2 border rounded"}),ee.jsx("div",{className:"text-xs text-red-500",children:ee.jsx(es,{name:"password"})})]}),ee.jsxs("div",{className:"flex justify-between items-center",children:[ee.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Login"}),ee.jsx("button",{type:"button",onClick:()=>n("/forgot"),className:"text-sm text-blue-600",children:"Forgot?"})]})]})})]})}function JV(){const n=qu();return ee.jsxs("div",{className:"container mx-auto p-4 max-w-md",children:[ee.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Signup"}),ee.jsx(hh,{initialValues:{email:"",password:"",confirmPassword:""},validationSchema:t1,onSubmit:async(e,{setSubmitting:t})=>{try{await AV(e.email,e.password),await an.fire("Success","Signup successful. Check your email for verification.","success"),n("/verify")}catch(i){console.error(i),await an.fire("Error",i.message||"Failed to signup","error")}finally{t(!1)}},children:({isSubmitting:e})=>ee.jsxs(Gu,{className:"space-y-3 bg-white p-4 rounded shadow",children:[ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm",children:"Email"}),ee.jsx(Zi,{name:"email",type:"email",className:"w-full p-2 border rounded"}),ee.jsx("div",{className:"text-xs text-red-500",children:ee.jsx(es,{name:"email"})})]}),ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm",children:"Password"}),ee.jsx(Zi,{name:"password",type:"password",className:"w-full p-2 border rounded"}),ee.jsx("div",{className:"text-xs text-red-500",children:ee.jsx(es,{name:"password"})})]}),ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm",children:"Confirm Password"}),ee.jsx(Zi,{name:"confirmPassword",type:"password",className:"w-full p-2 border rounded"}),ee.jsx("div",{className:"text-xs text-red-500",children:ee.jsx(es,{name:"confirmPassword"})})]}),ee.jsx("button",{type:"submit",disabled:e,className:"w-full py-2 bg-blue-600 text-white rounded",children:"Signup"})]})})]})}const ZV=Yu().shape({email:ts().email("Invalid email").required("Required")});function eL(){return ee.jsxs("div",{className:"container mx-auto p-4 max-w-md",children:[ee.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Forgot Password"}),ee.jsx(hh,{initialValues:{email:""},validationSchema:ZV,onSubmit:async(n,{setSubmitting:e})=>{try{await PV(n.email),await an.fire("Success","Password reset email sent","success")}catch(t){console.error(t),await an.fire("Error",t.message||"Failed to send email","error")}finally{e(!1)}},children:({isSubmitting:n})=>ee.jsxs(Gu,{className:"space-y-3 bg-white p-4 rounded shadow",children:[ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm",children:"Email"}),ee.jsx(Zi,{name:"email",type:"email",className:"w-full p-2 border rounded"}),ee.jsx("div",{className:"text-xs text-red-500",children:ee.jsx(es,{name:"email"})})]}),ee.jsx("button",{disabled:n,type:"submit",className:"w-full py-2 bg-blue-600 text-white rounded",children:"Send Reset Email"})]})})]})}function tL(){return ee.jsxs("div",{className:"container mx-auto p-4 max-w-md",children:[ee.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Verify Email"}),ee.jsx("div",{className:"bg-white p-4 rounded shadow",children:ee.jsx("p",{children:"Please check your email inbox and click the verification link to activate your account."})})]})}const nL=n=>QT("tasks"),rL=async n=>await wV(nL(),{...n,createdAt:SV()}),Vw=async(n,e)=>{const t=YT("tasks",n);await TV(t,e)},iL=async n=>{const e=YT("tasks",n);await IV(e)};function sL({onTaskAdded:n}){const e=ha(t=>t.user);return ee.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[ee.jsx("h3",{className:"font-semibold mb-2",children:"Add Task"}),ee.jsx(hh,{initialValues:{title:"",description:"",deadline:""},validationSchema:r1,onSubmit:async(t,{setSubmitting:i,resetForm:o})=>{try{const a={title:t.title,description:t.description,deadline:new Date(t.deadline).toISOString(),status:"Pending",ownerId:e.uid};await rL(a),await an.fire("Success","Task created","success"),o(),n&&n()}catch(a){console.error(a),await an.fire("Error",a.message||"Failed to create task","error")}finally{i(!1)}},children:({isSubmitting:t})=>ee.jsxs(Gu,{className:"space-y-3",children:[ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm",children:"Task Name"}),ee.jsx(Zi,{name:"title",className:"w-full p-2 border rounded"}),ee.jsx("div",{className:"text-xs text-red-500",children:ee.jsx(es,{name:"title"})})]}),ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm",children:"Description"}),ee.jsx(Zi,{name:"description",as:"textarea",className:"w-full p-2 border rounded"}),ee.jsx("div",{className:"text-xs text-red-500",children:ee.jsx(es,{name:"description"})})]}),ee.jsxs("div",{children:[ee.jsx("label",{className:"block text-sm",children:"Deadline"}),ee.jsx(Zi,{name:"deadline",type:"date",className:"w-full p-2 border rounded"}),ee.jsx("div",{className:"text-xs text-red-500",children:ee.jsx(es,{name:"deadline"})})]}),ee.jsx("button",{type:"submit",disabled:t,className:"w-full py-2 bg-green-600 text-white rounded",children:"Add Task"})]})})]})}function oL({tasks:n=[],refresh:e}){const t=async a=>{try{const u=a.status==="Pending"?"Completed":"Pending";await Vw(a.id,{status:u}),await an.fire("Success",`Task marked ${u}`,"success"),e&&e()}catch(u){console.error(u),await an.fire("Error","Failed to update status","error")}},i=async a=>{if((await an.fire({title:"Delete task?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0})).isConfirmed)try{await iL(a.id),await an.fire("Deleted","Task deleted","success"),e&&e()}catch(h){console.error(h),await an.fire("Error","Failed to delete","error")}},o=async a=>{const{value:u}=await an.fire({title:"Edit Task",html:'<input id="swal-title" class="swal2-input" placeholder="Title" value="'+(a.title||"")+'"><textarea id="swal-desc" class="swal2-textarea" placeholder="Description">'+(a.description||"")+'</textarea><input id="swal-deadline" type="date" class="swal2-input" value="'+(a.deadline?new Date(a.deadline).toISOString().substr(0,10):"")+'">',focusConfirm:!1,preConfirm:()=>({title:document.getElementById("swal-title").value,description:document.getElementById("swal-desc").value,deadline:document.getElementById("swal-deadline").value})});if(u)try{await Vw(a.id,{title:u.title||a.title,description:u.description||a.description,deadline:u.deadline?new Date(u.deadline).toISOString():a.deadline}),await an.fire("Success","Task updated","success"),e&&e()}catch(h){console.error(h),await an.fire("Error","Failed to update","error")}};return ee.jsx("div",{className:"bg-white p-4 rounded shadow",children:ee.jsxs("table",{className:"min-w-full",children:[ee.jsx("thead",{children:ee.jsxs("tr",{className:"text-left border-b",children:[ee.jsx("th",{className:"py-2",children:"Title"}),ee.jsx("th",{className:"py-2",children:"Description"}),ee.jsx("th",{className:"py-2",children:"Deadline"}),ee.jsx("th",{className:"py-2",children:"Status"}),ee.jsx("th",{className:"py-2",children:"Actions"})]})}),ee.jsxs("tbody",{children:[n.length===0&&ee.jsx("tr",{children:ee.jsx("td",{colSpan:5,className:"py-4 text-center",children:"No tasks"})}),n.map(a=>ee.jsxs("tr",{className:"border-b",children:[ee.jsx("td",{className:"py-2",children:a.title}),ee.jsx("td",{className:"py-2",children:a.description}),ee.jsx("td",{className:"py-2",children:a.deadline?new Date(a.deadline).toLocaleDateString():""}),ee.jsx("td",{className:"py-2",children:a.status}),ee.jsxs("td",{className:"py-2 flex gap-2",children:[ee.jsx("button",{onClick:()=>t(a),className:"px-2 py-1 bg-green-500 text-white rounded",children:"✓"}),ee.jsx("button",{onClick:()=>o(a),className:"px-2 py-1 bg-yellow-500 text-white rounded",children:"Edit"}),ee.jsx("button",{onClick:()=>i(a),className:"px-2 py-1 bg-red-500 text-white rounded",children:"Delete"})]})]},a.id))]})]})})}function aL(){const n=ha(a=>a.user),[e,t]=ne.useState([]),[i,o]=ne.useState("all");return ne.useEffect(()=>{if(!n)return;const a=yV(QT("tasks"),vV("ownerId","==",n.uid),_V("createdAt","desc")),u=EV(a,h=>{const p=h.docs.map(_=>({id:_.id,..._.data()}));t(p)},h=>{console.error("onSnapshot error",h)});return()=>u()},[n]),ee.jsxs("div",{className:"container mx-auto p-4",children:[ee.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Dashboard"}),ee.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[ee.jsx("div",{className:"md:col-span-1",children:ee.jsx(sL,{onTaskAdded:()=>{}})}),ee.jsxs("div",{className:"md:col-span-2",children:[ee.jsx("div",{className:"flex items-center justify-between mb-3",children:ee.jsxs("div",{className:"flex gap-2",children:[ee.jsx("button",{onClick:()=>o("all"),className:`px-3 py-1 rounded ${i==="all"?"bg-blue-600 text-white":"bg-white border"}`,children:"All"}),ee.jsx("button",{onClick:()=>o("Pending"),className:`px-3 py-1 rounded ${i==="Pending"?"bg-blue-600 text-white":"bg-white border"}`,children:"Pending"}),ee.jsx("button",{onClick:()=>o("Completed"),className:`px-3 py-1 rounded ${i==="Completed"?"bg-blue-600 text-white":"bg-white border"}`,children:"Completed"})]})}),ee.jsx(oL,{tasks:e.filter(a=>i==="all"?!0:a.status===i),refresh:()=>{}})]})]})]})}function lL(){const n=ha(o=>o.user),e=ha(o=>o.clearUser),t=qu(),i=async()=>{(await an.fire({title:"Logout?",text:"Are you sure you want to logout?",icon:"question",showCancelButton:!0})).isConfirmed&&(await CV(),e(),t("/login"))};return ee.jsx("nav",{className:"bg-white shadow-sm",children:ee.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[ee.jsx(sp,{to:"/dashboard",className:"font-bold text-lg",children:"Task Manager"}),ee.jsx("div",{children:n?ee.jsxs("div",{className:"flex items-center gap-4",children:[ee.jsx("div",{className:"text-sm",children:n.email}),ee.jsx("button",{onClick:i,className:"px-3 py-1 bg-red-500 text-white rounded",children:"Logout"})]}):ee.jsxs("div",{className:"flex gap-3",children:[ee.jsx(sp,{to:"/login",className:"px-3 py-1 bg-blue-500 text-white rounded",children:"Login"}),ee.jsx(sp,{to:"/signup",className:"px-3 py-1 bg-green-500 text-white rounded",children:"Signup"})]})})]})})}function uL({children:n}){return ha(t=>t.user)?n:ee.jsx(Kw,{to:"/login",replace:!0})}function cL(){const n=ha(e=>e.setUser);return ne.useEffect(()=>{const e=BR(cc,t=>{n(t?{uid:t.uid,email:t.email,emailVerified:t.emailVerified}:null)});return()=>e()},[n]),ee.jsxs("div",{className:"min-h-screen",children:[ee.jsx(lL,{}),ee.jsxs(US,{children:[ee.jsx(Xo,{path:"/",element:ee.jsx(Kw,{to:"/dashboard",replace:!0})}),ee.jsx(Xo,{path:"/login",element:ee.jsx(XV,{})}),ee.jsx(Xo,{path:"/signup",element:ee.jsx(JV,{})}),ee.jsx(Xo,{path:"/forgot",element:ee.jsx(eL,{})}),ee.jsx(Xo,{path:"/verify",element:ee.jsx(tL,{})}),ee.jsx(Xo,{path:"/dashboard",element:ee.jsx(uL,{children:ee.jsx(aL,{})})})]})]})}QI.createRoot(document.getElementById("root")).render(ee.jsx(fm.StrictMode,{children:ee.jsx(KS,{children:ee.jsx(cL,{})})}))});export default dL();
